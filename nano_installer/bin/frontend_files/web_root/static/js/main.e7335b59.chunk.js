/*! For license information please see main.e7335b59.chunk.js.LICENSE */
(this["webpackJsonpnano-portal"]=this["webpackJsonpnano-portal"]||[]).push([[0],{170:function(e,a,t){e.exports=t.p+"static/media/login_background.327add31.jpg"},276:function(e,a,t){e.exports=t.p+"static/media/sidebar.18c01f03.jpg"},277:function(e,a,t){e.exports=t.p+"static/media/nano_white.ad11d364.svg"},304:function(e,a,t){e.exports=t(467)},466:function(e,a,t){},467:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t(105),r=t(106),c=t(114),o=t(107),i=t(113),s=t(0),m=t.n(s),u=t(27),d=t.n(u),f=t(195),p=t.n(f),E=t(547),g=t(55),b=t(89),h=t(507),v=t(3),x=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var a=e[0],t=e[1],n=e[2];e=a+a+t+t+n+n}var l=(e=e.toUpperCase(e))[0]+e[1],r=e[2]+e[3],c=e[4]+e[5];return parseInt(l,16)+", "+parseInt(r,16)+", "+parseInt(c,16)},y={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},k={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},C={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},S=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],w=["#ff9800","#ffa726","#fb8c00","#ffa21a"],O=["#f44336","#ef5350","#e53935","#f55a4e"],j=["#4caf50","#66bb6a","#43a047","#5cb860"],N=["#00acc1","#26c6da","#00acc1","#00d3ee"],_=["#e91e63","#ec407a","#d81b60","#eb3573"],W=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],I="#000",T="#FFF",D={boxShadow:"0 10px 30px -12px rgba("+x(I)+", 0.42), 0 4px 25px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(I)+", 0.2)"},A={boxShadow:"0 4px 20px 0 rgba("+x(I)+",.14), 0 7px 10px -5px rgba("+x(S[0])+",.4)"},P={boxShadow:"0 4px 20px 0 rgba("+x(I)+",.14), 0 7px 10px -5px rgba("+x(N[0])+",.4)"},B={boxShadow:"0 4px 20px 0 rgba("+x(I)+",.14), 0 7px 10px -5px rgba("+x(j[0])+",.4)"},R={boxShadow:"0 4px 20px 0 rgba("+x(I)+",.14), 0 7px 10px -5px rgba("+x(w[0])+",.4)"},M={boxShadow:"0 4px 20px 0 rgba("+x(I)+",.14), 0 7px 10px -5px rgba("+x(O[0])+",.4)"},F={boxShadow:"0 4px 20px 0 rgba("+x(I)+",.14), 0 7px 10px -5px rgba("+x(_[0])+",.4)"},z=Object(v.a)({background:"linear-gradient(60deg, "+w[1]+", "+w[2]+")"},R),H=Object(v.a)({background:"linear-gradient(60deg, "+j[1]+", "+j[2]+")"},B),L=Object(v.a)({background:"linear-gradient(60deg, "+O[1]+", "+O[2]+")"},M),q=Object(v.a)({background:"linear-gradient(60deg, "+N[1]+", "+N[2]+")"},P),U=Object(v.a)({background:"linear-gradient(60deg, "+S[1]+", "+S[2]+")"},A),V=Object(v.a)({background:"linear-gradient(60deg, "+_[1]+", "+_[2]+")"},F),G=(Object(v.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+W[10],height:"auto"},C),x(I),x(I),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba("+x(I)+", 0.42), 0 3px 20px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(I)+", 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),$={color:W[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:W[1],fontWeight:"400",lineHeight:"1"}},Z=(Object(v.a)({},$,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(v.a)({},$,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{defaultFontStyle:Object(v.a)({},C,{fontSize:"14px"}),defaultHeaderMargins:{marginTop:"20px",marginBottom:"10px"},quote:{padding:"10px 20px",margin:"0 0 20px",fontSize:"17.5px",borderLeft:"5px solid "+W[10]},quoteText:{margin:"0 0 10px",fontStyle:"italic"},quoteAuthor:{display:"block",fontSize:"80%",lineHeight:"1.42857143",color:W[1]},mutedText:{color:W[1]},primaryText:{color:S[0]},infoText:{color:N[0]},successText:{color:j[0]},warningText:{color:w[0]},dangerText:{color:O[0]}}),K=Object(h.a)(Z);function J(e){var a=K(),t=e.children;return m.a.createElement("div",{className:a.defaultFontStyle+" "+a.dangerText},t)}var Q=t(38),Y=t(243),X=(t(311),t(6)),ee=t(30),ae=t.n(ee),te=t(548),ne=t(525),le=t(526),re=t(524),ce=t(523),oe=t(279),ie=t(78),se=t(247),me=t.n(se),ue=t(551),de=t(248),fe=t.n(de),pe=t(509),Ee={button:{minHeight:"auto",minWidth:"auto",backgroundColor:W[0],color:T,boxShadow:"0 2px 2px 0 rgba("+x(W[0])+", 0.14), 0 3px 1px -2px rgba("+x(W[0])+", 0.2), 0 1px 5px 0 rgba("+x(W[0])+", 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:T,backgroundColor:W[0],boxShadow:"0 14px 26px -12px rgba("+x(W[0])+", 0.42), 0 4px 23px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(W[0])+", 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:T,color:W[0]}},rose:{backgroundColor:_[0],boxShadow:"0 2px 2px 0 rgba("+x(_[0])+", 0.14), 0 3px 1px -2px rgba("+x(_[0])+", 0.2), 0 1px 5px 0 rgba("+x(_[0])+", 0.12)","&:hover,&:focus":{backgroundColor:_[0],boxShadow:"0 14px 26px -12px rgba("+x(_[0])+", 0.42), 0 4px 23px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(_[0])+", 0.2)"}},primary:{backgroundColor:S[0],boxShadow:"0 2px 2px 0 rgba("+x(S[0])+", 0.14), 0 3px 1px -2px rgba("+x(S[0])+", 0.2), 0 1px 5px 0 rgba("+x(S[0])+", 0.12)","&:hover,&:focus":{backgroundColor:S[0],boxShadow:"0 14px 26px -12px rgba("+x(S[0])+", 0.42), 0 4px 23px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(S[0])+", 0.2)"}},info:{backgroundColor:N[0],boxShadow:"0 2px 2px 0 rgba("+x(N[0])+", 0.14), 0 3px 1px -2px rgba("+x(N[0])+", 0.2), 0 1px 5px 0 rgba("+x(N[0])+", 0.12)","&:hover,&:focus":{backgroundColor:N[0],boxShadow:"0 14px 26px -12px rgba("+x(N[0])+", 0.42), 0 4px 23px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(N[0])+", 0.2)"}},success:{backgroundColor:j[0],boxShadow:"0 2px 2px 0 rgba("+x(j[0])+", 0.14), 0 3px 1px -2px rgba("+x(j[0])+", 0.2), 0 1px 5px 0 rgba("+x(j[0])+", 0.12)","&:hover,&:focus":{backgroundColor:j[0],boxShadow:"0 14px 26px -12px rgba("+x(j[0])+", 0.42), 0 4px 23px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(j[0])+", 0.2)"}},warning:{backgroundColor:w[0],boxShadow:"0 2px 2px 0 rgba("+x(w[0])+", 0.14), 0 3px 1px -2px rgba("+x(w[0])+", 0.2), 0 1px 5px 0 rgba("+x(w[0])+", 0.12)","&:hover,&:focus":{backgroundColor:w[0],boxShadow:"0 14px 26px -12px rgba("+x(w[0])+", 0.42), 0 4px 23px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(w[0])+", 0.2)"}},danger:{backgroundColor:O[0],boxShadow:"0 2px 2px 0 rgba("+x(O[0])+", 0.14), 0 3px 1px -2px rgba("+x(O[0])+", 0.2), 0 1px 5px 0 rgba("+x(O[0])+", 0.12)","&:hover,&:focus":{backgroundColor:O[0],boxShadow:"0 14px 26px -12px rgba("+x(O[0])+", 0.42), 0 4px 23px 0px rgba("+x(I)+", 0.12), 0 8px 10px -5px rgba("+x(O[0])+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:T,background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:_[0]}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:S[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:N[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:j[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:w[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:O[0]}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:W[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}},ge=Object(h.a)(Ee);function be(e){var a,t=ge(),n=e.color,l=e.round,r=e.children,c=e.disabled,o=e.simple,i=e.size,s=e.block,u=e.link,d=e.justIcon,f=e.className,p=e.muiClasses,E=Object(Q.a)(e,["color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),g=ae()((a={},Object(X.a)(a,t.button,!0),Object(X.a)(a,t[i],i),Object(X.a)(a,t[n],n),Object(X.a)(a,t.round,l),Object(X.a)(a,t.disabled,c),Object(X.a)(a,t.simple,o),Object(X.a)(a,t.block,s),Object(X.a)(a,t.link,u),Object(X.a)(a,t.justIcon,d),Object(X.a)(a,f,f),a));return m.a.createElement(pe.a,Object.assign({},E,{classes:p,className:g}),r)}var he=t(145),ve=t.n(he),xe=t(512),ye=t(511),ke=t(280),Ce=t(202),Se=t(474),we=t(472),Oe=t(513),je=t(514),Ne=t(521),_e=t(516),We=t(515),Ie=t(510),Te=t(558),De=Object(h.a)({grid:{padding:"0 15px !important"}});function Ae(e){var a=De(),t=e.children,n=Object(Q.a)(e,["children"]);return m.a.createElement(Ie.a,Object.assign({item:!0},n,{className:a.grid}),t)}var Pe=t(471),Be=t(143),Re=t.n(Be),Me={root:Object(v.a)({},C,{flexWrap:"unset",position:"relative",padding:"20px 15px",lineHeight:"20px",marginBottom:"20px",fontSize:"14px",backgroundColor:T,color:W[7],borderRadius:"3px",minWidth:"unset",maxWidth:"unset",boxShadow:"0 12px 20px -10px rgba("+x(T)+", 0.28), 0 4px 20px 0px rgba("+x(I)+", 0.12), 0 7px 8px -5px rgba("+x(T)+", 0.2)"}),top20:{top:"20px"},top40:{top:"40px"},info:Object(v.a)({backgroundColor:N[3],color:T},P),success:Object(v.a)({backgroundColor:j[3],color:T},B),warning:Object(v.a)({backgroundColor:w[3],color:T},R),danger:Object(v.a)({backgroundColor:O[3],color:T},M),primary:Object(v.a)({backgroundColor:S[3],color:T},A),rose:Object(v.a)({backgroundColor:_[3],color:T},F),message:{padding:"0",display:"block",maxWidth:"89%"},close:{width:"11px",height:"11px"},iconButton:{width:"24px",height:"24px",padding:"0px"},icon:{display:"block",left:"15px",position:"absolute",top:"50%",marginTop:"-15px",width:"30px",height:"30px"},infoIcon:{color:N[3]},successIcon:{color:j[3]},warningIcon:{color:w[3]},dangerIcon:{color:O[3]},primaryIcon:{color:S[3]},roseIcon:{color:_[3]},iconMessage:{paddingLeft:"50px",display:"block"},actionRTL:{marginLeft:"-8px",marginRight:"auto"}},Fe=Object(h.a)(Me);function ze(e){var a=Fe(),t=e.message,n=e.color,l=e.close,r=e.icon,c=e.rtlActive,o=[],i=ae()(Object(X.a)({},a.iconMessage,void 0!==r));return void 0!==l&&(o=[m.a.createElement(oe.a,{className:a.iconButton,key:"close","aria-label":"Close",color:"inherit"},m.a.createElement(Re.a,{className:a.close}))]),m.a.createElement(Pe.a,{message:m.a.createElement("div",null,void 0!==r?m.a.createElement(e.icon,{className:a.icon}):null,m.a.createElement("span",{className:i},t)),classes:{root:a.root+" "+a[n],message:a.message,action:ae()(Object(X.a)({},a.actionRTL,c))},action:o})}var He=function(e){return{buttonLink:Object(X.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(X.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:W[9],marginRight:"15px"}),linkText:Object(v.a)({zIndex:"4"},C,{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:Object(X.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),popperNav:Object(X.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"unset !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:T+" !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba("+x(I)+", 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:T,WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(v.a)({},C,{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:W[8],whiteSpace:"nowrap",height:"unset",minHeight:"unset","&:hover":Object(v.a)({backgroundColor:S[0],color:T},A)})}},Le=function(e){var a,t,n;return Object(v.a)({},He(e),{search:Object(X.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:T}}),linkText:Object(v.a)({zIndex:"4"},C,{fontSize:"14px",margin:"0px"}),buttonLink:Object(X.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(X.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(a={zIndex:"4"},Object(X.a)(a,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid "+T,right:"4px",fontSize:"9px",background:O[0],color:T,minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(X.a)(a,e.breakpoints.down("sm"),Object(v.a)({},C,{fontSize:"14px",marginRight:"8px"})),a),manager:(t={},Object(X.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(X.a)(t,"display","inline-block"),t),searchWrapper:(n={},Object(X.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(X.a)(n,"display","inline-block"),n)})},qe="nano-session-data",Ue="nano-language-data";function Ve(){var e=localStorage.getItem(qe);if(!e||0===e.length)return null;var a=JSON.parse(e);return a.id?a:null}function Ge(){localStorage.setItem(qe,"")}function $e(){return m.a.createElement(b.a,{to:"/login/?previous="+encodeURIComponent(window.location.pathname+window.location.search)})}function Ze(e){var a=function(e,a,t){return 0===e%a?(e/a).toString()+" "+t:(e/a).toFixed(2)+" "+t};return e>=1<<30?a(e,1<<30,"GB"):e>=1<<20?a(e,1<<20,"MB"):e>=1024?a(e,1024,"KB"):e.toString()+" Bytes"}function Ke(e){var a=function(e,a,t){return 0===e%a?(e/a).toString()+" "+t:(e/a).toFixed(2)+" "+t};return e>=1<<30?a(e,1<<30,"GB/s"):e>=1<<20?a(e,1<<20,"MB/s"):e>=1024?a(e,1024,"KB/s"):e.toString()+" Bytes/s"}function Je(e,a){var t=Math.pow(10,a);return Math.round(e*t)/t}var Qe=t(118),Ye=t.n(Qe),Xe="/api/v1",ea="Nano-Session",aa="1.1.0";function ta(e){var a={en:{dashboard:"Dashboard",computePool:"Compute Pools",addressPool:"Address Pools",storagePool:"Storage Pools",instance:"Instances",diskImage:"Disk Image",mediaImage:"Media Image",user:"Users",log:"Logs",visibility:"Resource Visibility"},cn:{dashboard:"\u4eea\u8868\u76d8",computePool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",addressPool:"\u5730\u5740\u8d44\u6e90\u6c60",storagePool:"\u5b58\u50a8\u8d44\u6e90\u6c60",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",diskImage:"\u78c1\u76d8\u955c\u50cf",mediaImage:"\u5149\u76d8\u955c\u50cf",user:"\u7528\u6237",log:"\u65e5\u5fd7",visibility:"\u8d44\u6e90\u53ef\u89c1\u6027"}}[e];return[{value:"dashboard",label:a.dashboard},{value:"compute_pool",label:a.computePool},{value:"address_pool",label:a.addressPool},{value:"storage_pool",label:a.storagePool},{value:"instance",label:a.instance},{value:"image",label:a.diskImage},{value:"media",label:a.mediaImage},{value:"user",label:a.user},{value:"log",label:a.log},{value:"visibility",label:a.visibility}]}function na(e){var a=Ve();if(null!=a){var t=Xe+"/sessions/"+a.id,n=Object(X.a)({},ea,a.id);Ye.a.put(t,"",{headers:n}).then((function(a){var t=a.data;0===t.error_code||e(t.message)})).catch((function(a){e(a.message)}))}else e("session expired")}function la(e,a){Na("/compute_pools/",e,a)}function ra(e,a,t){Na("/compute_pool_cells/"+e,a,t)}function ca(e,a,t,n,l){Da("/compute_pool_cells/"+e+"/"+a,{enable:t},(function(){n(e,a,t)}),l)}function oa(e,a){Na("/storage_pools/",e,a)}function ia(e,a){Na("/address_pools/",e,a)}function sa(e,a,t){Na("/address_pools/"+e,a,t)}function ma(e,a,t,n){if(e){var l="/guest_search/?pool="+e;a&&(l+="&cell="+a),Na(l,t,n)}else n("must specify pool name")}function ua(e,a,t,n){_a("/guests/"+e,(function(e,l){if(201===e){var r=l.progress,c=l.name,o=l.created;n(r,c,o)}else 200===e?a(l):t("unexpected status "+e.toString())}),t)}function da(e,a,t){Aa("/instances/"+e+"/media",(function(){a(e)}),t)}function fa(e,a,t){Pa("/instances/"+e,{reboot:!1,force:!1},(function(){a(e)}),t)}function pa(e,a,t){Pa("/instances/"+e,{reboot:!0,force:!1},(function(){a(e)}),t)}function Ea(e,a,t){Pa("/instances/"+e,{reboot:!0,force:!0},(function(){a(e)}),t)}function ga(e,a){Na("/media_image_search/",e,a)}function ba(e,a,t){Aa("/media_images/"+e,(function(){a(e)}),t)}function ha(e,a){Na("/disk_image_search/",e,a)}function va(e,a,t){Na("/disk_images/"+e,a,t)}function xa(e,a,t,n,l,r){var c=Ve();if(null!==c){var o={name:e,description:t,tags:n,owner:c.user,group:c.group};a&&(o.guest=a);Wa("/disk_images/",o,(function(e){l(e.id)}),r)}else r("session expired")}function ya(e,a,t){Aa("/disk_images/"+e,(function(){a(e)}),t)}function ka(e,a,t,n){_a("/batch/create_guest/"+e,(function(e,l){202===e?a(l):200===e?t(l):n("unexpected status "+e.toString())}),n)}function Ca(e,a,t,n){_a("/batch/delete_guest/"+e,(function(e,l){202===e?a(l):200===e?t(l):n("unexpected status "+e.toString())}),n)}function Sa(e,a,t,n){_a("/batch/stop_guest/"+e,(function(e,l){202===e?a(l):200===e?t(l):n("unexpected status "+e.toString())}),n)}function wa(e,a){Na("/roles/",e,a)}function Oa(e,a,t){var n=Ve();if(null!==n){var l=n.group+"."+n.user;n.address?l+="("+n.address+") : "+e:l+=": "+e;Wa("/logs/",{content:l},a,t)}else t("session expired")}function ja(e,a){!function(e,a,t){Fa("get",e,null,a,t)}("/system/",e,a)}function Na(e,a,t){Ra("get",e,null,a,t)}function _a(e,a,t){Ma("get",e,null,a,t)}function Wa(e,a,t,n){Ra("post",e,a,t,n)}function Ia(e,a,t,n){Ma("post",e,a,t,n)}function Ta(e,a,t,n){Fa("post",e,a,t,n)}function Da(e,a,t,n){Ra("put",e,a,t,n)}function Aa(e,a,t){Ra("delete",e,null,a,t)}function Pa(e,a,t,n){Ra("delete",e,a,t,n)}function Ba(e,a,t,n,l,r){var c=Ve();if(null!==c){var o=Object(X.a)({},ea,c.id),i=new FormData;i.append(a,t),Ye.a.post(Xe+e,i,{onUploadProgress:function(e){var a=100*e.loaded/e.total;n(a)},headers:o}).then((function(e){var a=e.data;0===a.error_code?l(a.data):r(a.message)})).catch((function(e){r(e.message)}))}else r("session expired")}function Ra(e,a,t,n,l){var r=Ve();if(null!==r){var c={method:e,url:Xe+a,headers:Object(X.a)({},ea,r.id)};t&&(c.data=t),Ye()(c).then((function(e){var a=e.data;0===a.error_code?n&&n(a.data):l&&l(a.message)})).catch((function(e){l&&l(e.message)}))}else l&&l("session expired")}function Ma(e,a,t,n,l){var r=Ve();if(null!==r){var c={method:e,url:Xe+a,headers:Object(X.a)({},ea,r.id)};t&&(c.data=t),Ye()(c).then((function(e){var a=e.data,t=e.status;0===a.error_code?n&&n(t,a.data):l&&l(a.message)})).catch((function(e){l&&l(e.message)}))}else l&&l("session expired")}function Fa(e,a,t,n,l){var r={method:e,url:Xe+a};t&&(r.data=t),Ye()(r).then((function(e){var a=e.data;0===a.error_code?n&&n(a.data):l&&l(a.message)})).catch((function(e){l&&l(e.message)}))}var za=Object(h.a)(Le),Ha={en:{modify:"Modify Password",logout:"Logout",current:"Current Password",new:"New Password",confirmNew:"Confirm New Password",cancel:"Cancel",confirm:"Confirm"},cn:{modify:"\u4fee\u6539\u5bc6\u7801",logout:"\u6ce8\u9500",current:"\u5f53\u524d\u5bc6\u7801",new:"\u65b0\u5bc6\u7801",confirmNew:"\u786e\u8ba4\u65b0\u5bc6\u7801",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function La(e){var a=za(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState((function(){return null!==Ve()})),i=Object(n.a)(o,2),s=i[0],u=i[1],d=function(){c(null)},f=function(){var e=function(){Ge(),u(!1)};Oa("logout",e,e)},p=m.a.useState(!1),E=Object(n.a)(p,2),g=E[0],b=E[1],h=m.a.useState({old:"",new:"",new2:"",error:""}),x=Object(n.a)(h,2),y=x[0],k=x[1],C=function(e){return function(a){var t=a.target.value;k((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},S=function(){k({old:"",new:"",new2:"",error:""}),b(!0)},w=function(){b(!1)},O=function(e){k(Object(v.a)({},y,{error:e}))};m.a.useEffect((function(){var e=!0,a=function(a){Ge(),e&&u(!1)},t=Ve();if(null!==t){na(a);var n=1e3*t.timeout*2/3,l=setInterval((function(){na(a)}),n);return function(){e=!1,clearInterval(l)}}}),[]);var j=Ha[e.lang];if(!s)return $e();var N,_=Ve();return null===_?$e():(N=y&&""!==y.error?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:y.error,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement("div",{className:a.manager},m.a.createElement(be,{color:window.innerWidth>959?"transparent":"white",simple:!(window.innerWidth>959),"aria-owns":r?"profile-menu-list-grow":null,"aria-haspopup":"true",onClick:function(e){r&&r.contains(e.target)?c(null):c(e.currentTarget)},className:a.buttonLink},_.user,m.a.createElement(ve.a,{className:a.icons})),m.a.createElement(we.a,{open:Boolean(r),anchorEl:r,transition:!0,disablePortal:!0,className:ae()(Object(X.a)({},a.popperClose,!r))+" "+a.popperNav},(function(e){var t=e.TransitionProps,n=e.placement;return m.a.createElement(ke.a,Object.assign({},t,{id:"profile-menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),m.a.createElement(Ce.a,null,m.a.createElement(Se.a,{onClickAway:d},m.a.createElement(ye.a,{role:"menu"},m.a.createElement(xe.a,{onClick:S,className:a.dropdownItem},j.modify),m.a.createElement(Oe.a,{light:!0}),m.a.createElement(xe.a,{onClick:f,className:a.dropdownItem},j.logout)))))})),m.a.createElement(je.a,{open:g,"aria-labelledby":j.modify,maxWidth:"sm"},m.a.createElement(We.a,null,j.modify),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},m.a.createElement(Te.a,{label:j.current,onChange:C("old"),value:y.old,margin:"normal",type:"password",required:!0})),m.a.createElement(Ae,{xs:12},m.a.createElement(Te.a,{label:j.new,onChange:C("new"),value:y.new,margin:"normal",type:"password",required:!0})),m.a.createElement(Ae,{xs:12},m.a.createElement(Te.a,{label:j.confirmNew,onChange:C("new2"),value:y.new2,margin:"normal",type:"password",required:!0})),N)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:w,color:"transparent",autoFocus:!0},j.cancel),m.a.createElement(be,{onClick:function(){var e=Ve();if(null!==e)if(""!==y.old)if(""!==y.new)if(y.new2===y.new){!function(e,a,t,n,l){Da("/users/"+e+"/password/",{old:a,new:t},(function(){n(e)}),l)}(e.user,y.old,y.new,(function(e){w(),Oa("change password of "+e)}),O)}else O("confirm password dismatch");else O("new password required");else O("previous password required");else O("session expired")},color:"info"},j.confirm)))))}function qa(e){return m.a.createElement("div",null,m.a.createElement(La,e))}var Ua=t(92),Va=t(278),Ga=t(246),$a=t.n(Ga),Za=function(e){function a(e){var t;Object(l.a)(this,a),(t=Object(c.a)(this,Object(o.a)(a).call(this,e))).openMenu=t.openMenu.bind(Object(Ua.a)(t)),t.closeMenu=t.closeMenu.bind(Object(Ua.a)(t)),t.languages=[{locale:"cn",name:"\u7b80\u4f53\u4e2d\u6587"},{locale:"en",name:"English"}];var n,r=e.lang,i=e.setLang,s=Object(Q.a)(e,["lang","setLang"]);return t.restProps=s,t.changeLanguage=i,t.languages.forEach((function(e){r===e.locale&&(n=e.name)})),t.state={language:r,anchorEl:null,displayText:n},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"updateLanguage",value:function(e){var a=this;this.languages.forEach((function(t){e===t.locale&&a.setState({displayText:t.name,anchorEl:null})})),function(e){var a=localStorage.getItem(Ue);if(!a||0===a.length)return!1;var t=JSON.parse(a);!!t.lang&&(t.lang===e||(t.lang=e,localStorage.setItem(Ue,JSON.stringify(t))))}(e),this.changeLanguage(e)}},{key:"openMenu",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"closeMenu",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this,a=this.state.language,t=this.restProps,n=t.buttonClass,l=Object(Q.a)(t,["buttonClass"]);return m.a.createElement(ie.a,{component:"div"},m.a.createElement(be,Object.assign({},l,{onClick:this.openMenu,color:"transparent",size:"sm"}),m.a.createElement($a.a,{fontSize:"small",className:n}),this.state.displayText),m.a.createElement(Va.a,{keepMounted:!0,anchorEl:this.state.anchorEl,onClose:this.closeMenu,open:Boolean(this.state.anchorEl)},this.languages.map((function(t){return m.a.createElement(xe.a,{key:t.locale,selected:t.locale===a,onClick:function(){e.updateLanguage(t.locale)}},m.a.createElement(ie.a,{component:"div",variant:"overline"},t.name))}))))}}]),a}(m.a.Component),Ka=function(){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:W[7],border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Object(v.a)({},k,{minHeight:"50px"}),flex:{flex:1},title:Object(v.a)({},C,{letterSpacing:"unset",lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object(v.a)({backgroundColor:S[0],color:T},G),info:Object(v.a)({backgroundColor:N[0],color:T},G),success:Object(v.a)({backgroundColor:j[0],color:T},G),warning:Object(v.a)({backgroundColor:w[0],color:T},G),danger:Object(v.a)({backgroundColor:O[0],color:T},G)}},Ja=Object(h.a)(Ka),Qa={en:{manual:"Online Manual",manualURL:"https://nanocloud.readthedocs.io/projects/guide/en/latest/"},cn:{manual:"\u5728\u7ebf\u6587\u6863",manualURL:"https://nanocloud.readthedocs.io/projects/guide/zh_CN/latest/"}};function Ya(e){var a=Ja();var t=e.color,n=e.lang,l=e.setLang,r=Qa[n],c=ae()(Object(X.a)({}," "+a[t],t)),o=m.a.createElement(te.a,{mr:2},m.a.createElement(ie.a,{component:"span"},"Project Nano "+aa+" \xa9 2018~2020.")),i=m.a.createElement(ce.a,{title:r.manual,placement:"top"},m.a.createElement(re.a,{target:"_blank",href:r.manualURL},m.a.createElement(oe.a,{color:"default",size:"small"},m.a.createElement(me.a,null))));return m.a.createElement(ne.a,{className:a.appBar+c},m.a.createElement(le.a,{className:a.container},m.a.createElement("div",{className:a.flex},m.a.createElement(be,{color:"transparent",href:"#",className:a.title},function(){var a="";return e.routes.every((function(t){return-1===window.location.href.indexOf(t.layout+t.path)||(a=t.display[e.lang],!1)})),a}())),o,i,m.a.createElement(Za,{lang:n,setLang:l}),m.a.createElement(ue.a,{smDown:!0,implementation:"css"},m.a.createElement(qa,{lang:n})),m.a.createElement(ue.a,{mdUp:!0,implementation:"css"},m.a.createElement(oe.a,{color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerToggle},m.a.createElement(fe.a,null)))))}var Xa=t(23),et=t(555),at=t(475),tt=t(476),nt=t(528),lt=t(527),rt=function(e){var a,t;return{drawerPaper:Object(v.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},D,(a={width:260},Object(X.a)(a,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(X.a)(a,e.breakpoints.down("sm"),Object(v.a)({width:260},D,{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},y)),a)),drawerPaperRTL:(t={},Object(X.a)(t,e.breakpoints.up("md"),{left:"auto !important",right:"0 !important"}),Object(X.a)(t,e.breakpoints.down("sm"),{left:"0  !important",right:"auto !important"}),t),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+x(W[6])+", 0.3)"}},logoLink:Object(v.a)({},C,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:T}}),logoLinkRTL:{textAlign:"right"},logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:I,opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:T}},itemLink:Object(v.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},C),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba("+x(T)+", 0.8)"},itemIconRTL:{marginRight:"3px",marginLeft:"15px",float:"right"},itemText:Object(v.a)({},C,{margin:"0",lineHeight:"30px",fontSize:"14px",color:T}),itemTextRTL:{textAlign:"right"},whiteFont:{color:T},purple:Object(v.a)({backgroundColor:S[0]},A,{"&:hover,&:focus":Object(v.a)({backgroundColor:S[0]},A)}),blue:{backgroundColor:N[0],boxShadow:"0 12px 20px -10px rgba("+x(N[0])+",.28), 0 4px 20px 0 rgba("+x(I)+",.12), 0 7px 8px -5px rgba("+x(N[0])+",.2)","&:hover,&:focus":{backgroundColor:N[0],boxShadow:"0 12px 20px -10px rgba("+x(N[0])+",.28), 0 4px 20px 0 rgba("+x(I)+",.12), 0 7px 8px -5px rgba("+x(N[0])+",.2)"}},green:{backgroundColor:j[0],boxShadow:"0 12px 20px -10px rgba("+x(j[0])+",.28), 0 4px 20px 0 rgba("+x(I)+",.12), 0 7px 8px -5px rgba("+x(j[0])+",.2)","&:hover,&:focus":{backgroundColor:j[0],boxShadow:"0 12px 20px -10px rgba("+x(j[0])+",.28), 0 4px 20px 0 rgba("+x(I)+",.12), 0 7px 8px -5px rgba("+x(j[0])+",.2)"}},orange:{backgroundColor:w[0],boxShadow:"0 12px 20px -10px rgba("+x(w[0])+",.28), 0 4px 20px 0 rgba("+x(I)+",.12), 0 7px 8px -5px rgba("+x(w[0])+",.2)","&:hover,&:focus":{backgroundColor:w[0],boxShadow:"0 12px 20px -10px rgba("+x(w[0])+",.28), 0 4px 20px 0 rgba("+x(I)+",.12), 0 7px 8px -5px rgba("+x(w[0])+",.2)"}},red:{backgroundColor:O[0],boxShadow:"0 12px 20px -10px rgba("+x(O[0])+",.28), 0 4px 20px 0 rgba("+x(I)+",.12), 0 7px 8px -5px rgba("+x(O[0])+",.2)","&:hover,&:focus":{backgroundColor:O[0],boxShadow:"0 12px 20px -10px rgba("+x(O[0])+",.28), 0 4px 20px 0 rgba("+x(I)+",.12), 0 7px 8px -5px rgba("+x(O[0])+",.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(X.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},ct=Object(h.a)(rt);function ot(e){var a=ct();function t(e){return window.location.href.indexOf(e)>-1}var n=e.color,l=e.logo,r=e.image,c=e.logoText,o=e.routes,i=e.lang,s=m.a.createElement(at.a,{className:a.list},o.map((function(l,r){var c;c=ae()(Object(X.a)({}," "+a[n],t(l.layout+l.path)));var o=ae()(Object(X.a)({}," "+a.whiteFont,t(l.layout+l.path)));return m.a.createElement(Xa.b,{to:l.layout+l.path,className:" "+a.item,activeClassName:"active",key:r},m.a.createElement(tt.a,{button:!0,className:a.itemLink+c},"string"===typeof l.icon?m.a.createElement(lt.a,{className:ae()(a.itemIcon,o,Object(X.a)({},a.itemIconRTL,e.rtlActive))},l.icon):m.a.createElement(l.icon,{className:ae()(a.itemIcon,o,Object(X.a)({},a.itemIconRTL,e.rtlActive))}),m.a.createElement(nt.a,{primary:l.display[i],className:ae()(a.itemText,o,Object(X.a)({},a.itemTextRTL,e.rtlActive)),disableTypography:!0})))}))),u=m.a.createElement("div",{className:a.logo},m.a.createElement("a",{href:"https://nanos.cloud/",className:ae()(a.logoLink,Object(X.a)({},a.logoLinkRTL,e.rtlActive)),target:"_blank"},m.a.createElement("div",{className:a.logoImage},m.a.createElement("img",{src:l,alt:"logo",className:a.img})),c));return m.a.createElement("div",null,m.a.createElement(ue.a,{mdUp:!0,implementation:"css"},m.a.createElement(et.a,{variant:"temporary",anchor:e.rtlActive?"left":"right",open:e.open,classes:{paper:ae()(a.drawerPaper,Object(X.a)({},a.drawerPaperRTL,e.rtlActive))},onClose:e.handleDrawerToggle,ModalProps:{keepMounted:!0}},u,m.a.createElement("div",{className:a.sidebarWrapper},m.a.createElement(qa,{lang:i}),s),void 0!==r?m.a.createElement("div",{className:a.background,style:{backgroundImage:"url("+r+")"}}):null)),m.a.createElement(ue.a,{smDown:!0,implementation:"css"},m.a.createElement(et.a,{anchor:e.rtlActive?"right":"left",variant:"permanent",open:!0,classes:{paper:ae()(a.drawerPaper,Object(X.a)({},a.drawerPaperRTL,e.rtlActive))}},u,m.a.createElement("div",{className:a.sidebarWrapper},s),void 0!==r?m.a.createElement("div",{className:a.background,style:{backgroundImage:"url("+r+")"}}):null)))}var it=t(535),st=t(33),mt=t.n(st),ut=t(553),dt=Object(h.a)({grid:{margin:"0 -15px !important",width:"unset"}});function ft(e){var a=dt(),t=e.children,n=Object(Q.a)(e,["children"]);return m.a.createElement(Ie.a,Object.assign({container:!0},n,{className:a.grid}),t)}var pt={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+x(I)+", 0.87)",background:T,width:"100%",boxShadow:"0 1px 4px 0 rgba("+x(I)+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}},Et=Object(h.a)(pt);function gt(e){var a,t=Et(),n=e.className,l=e.children,r=e.plain,c=e.profile,o=e.chart,i=Object(Q.a)(e,["className","children","plain","profile","chart"]),s=ae()((a={},Object(X.a)(a,t.card,!0),Object(X.a)(a,t.cardPlain,r),Object(X.a)(a,t.cardProfile,c),Object(X.a)(a,t.cardChart,o),Object(X.a)(a,n,void 0!==n),a));return m.a.createElement("div",Object.assign({className:s},i),l)}var bt={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:T},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:T,"&:not($cardHeaderIcon)":Object(v.a)({},z)},successCardHeader:{color:T,"&:not($cardHeaderIcon)":Object(v.a)({},H)},dangerCardHeader:{color:T,"&:not($cardHeaderIcon)":Object(v.a)({},L)},infoCardHeader:{color:T,"&:not($cardHeaderIcon)":Object(v.a)({},q)},primaryCardHeader:{color:T,"&:not($cardHeaderIcon)":Object(v.a)({},U)},roseCardHeader:{color:T,"&:not($cardHeaderIcon)":Object(v.a)({},V)}},ht=Object(h.a)(bt);function vt(e){var a,t=ht(),n=e.className,l=e.children,r=e.color,c=e.plain,o=e.stats,i=e.icon,s=Object(Q.a)(e,["className","children","color","plain","stats","icon"]),u=ae()((a={},Object(X.a)(a,t.cardHeader,!0),Object(X.a)(a,t[r+"CardHeader"],r),Object(X.a)(a,t.cardHeaderPlain,c),Object(X.a)(a,t.cardHeaderStats,o),Object(X.a)(a,t.cardHeaderIcon,i),Object(X.a)(a,n,void 0!==n),a));return m.a.createElement("div",Object.assign({className:u},s),l)}var xt={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}},yt=Object(h.a)(xt);function kt(e){var a,t=yt(),n=e.className,l=e.children,r=e.plain,c=e.profile,o=Object(Q.a)(e,["className","children","plain","profile"]),i=ae()((a={},Object(X.a)(a,t.cardBody,!0),Object(X.a)(a,t.cardBodyPlain,r),Object(X.a)(a,t.cardBodyProfile,c),Object(X.a)(a,n,void 0!==n),a));return m.a.createElement("div",Object.assign({className:i},o),l)}var Ct=Object(h.a)(Z);function St(e){var a=Ct(),t=e.children;return m.a.createElement("div",{className:a.defaultFontStyle+" "+a.infoText},t)}var wt=t(529),Ot=Object(h.a)(Me);function jt(e){var a=Ot(),t=e.message,n=e.color,l=e.close,r=e.icon,c=e.place,o=e.open,i=e.rtlActive,s=[],u=ae()(Object(X.a)({},a.iconMessage,void 0!==r));return void 0!==l&&(s=[m.a.createElement(oe.a,{className:a.iconButton,key:"close","aria-label":"Close",color:"inherit",onClick:function(){return e.closeNotification()}},m.a.createElement(Re.a,{className:a.close}))]),m.a.createElement(wt.a,{anchorOrigin:{vertical:-1===c.indexOf("t")?"bottom":"top",horizontal:-1!==c.indexOf("l")?"left":-1!==c.indexOf("c")?"center":"right"},open:o,message:m.a.createElement("div",null,void 0!==r?m.a.createElement(e.icon,{className:a.icon}):null,m.a.createElement("span",{className:u},t)),action:s,ContentProps:{classes:{root:a.root+" "+a[n],message:a.message,action:ae()(Object(X.a)({},a.actionRTL,i))}}})}var Nt=t(530),_t=t(531),Wt=t(532),It=t(534),Tt=t(533),Dt=function(e){return{warningTableHeader:{color:w[0]},primaryTableHeader:{color:S[0]},dangerTableHeader:{color:O[0]},successTableHeader:{color:j[0]},infoTableHeader:{color:N[0]},roseTableHeader:{color:_[0]},grayTableHeader:{color:W[0]},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(v.a)({color:"inherit"},C,{"&, &$tableCell":{fontSize:"1em"}}),tableCell:Object(v.a)({},C,{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle",fontSize:"0.8125rem"}),tableResponsive:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},tableHeadRow:{height:"56px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"},tableBodyRow:{height:"48px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"}}},At=Object(h.a)(Dt);function Pt(e){var a=At(),t=e.color,n=e.headers,l=e.rows;return m.a.createElement("div",{className:a.tableResponsive},m.a.createElement(Nt.a,{className:a.table},m.a.createElement(_t.a,{className:a[t+"TableHeader"]},m.a.createElement(Wt.a,{className:a.tableHeadRow},n.map((function(e,t){return m.a.createElement(Tt.a,{className:a.tableCell+" "+a.tableHeadCell,key:t},e)})))),m.a.createElement(It.a,null,l)))}Pt.defaultProps={color:"gray"};var Bt=t(88),Rt=t.n(Bt),Mt=t(73),Ft=t.n(Mt),zt=t(151),Ht=t.n(zt),Lt=t(26),qt=t.n(Lt),Ut=t(64),Vt=t.n(Ut),Gt=t(152),$t=t.n(Gt),Zt=t(153),Kt=t.n(Zt),Jt=t(154),Qt=t.n(Jt),Yt={en:{enable:"Enable",disable:"Disable",enabled:"Enabled",disabled:"Disabled",instances:"Instances",detail:"Detail",remove:"Remove",migrate:"Migrate",online:"Online",offline:"Offline"},cn:{enable:"\u542f\u7528",disable:"\u7981\u7528",enabled:"\u5df2\u542f\u7528",disabled:"\u5df2\u7981\u7528",instances:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",detail:"\u8be6\u60c5",remove:"\u79fb\u9664",migrate:"\u8fc1\u79fb",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf"}};function Xt(e){var a,t,n,l,r,c=Object(h.a)(Dt)(),o=Object(h.a)(Z)(),i=e.lang,s=e.poolName,u=e.cell,d=e.onNotify,f=e.onError,p=e.onDetail,E=e.onRemove,g=e.onStatusChange,b=e.onMigrate,v=Yt[i],x=function(e,a,t){d(t?a+v.enabled:a+v.disabled),g()},y={tips:v.enable,icon:Rt.a,handler:function(e){ca(s,e,!0,x,f)}},k={tips:v.disable,icon:Ft.a,handler:function(e){ca(s,e,!1,x,f)}},C={tips:v.instances,icon:Ht.a,href:"/admin/instances/range/?pool="+s+"&cell="+u.name},S={tips:v.detail,icon:Vt.a,handler:p},w={tips:v.remove,icon:qt.a,handler:E},O={tips:v.migrate,icon:$t.a,handler:b};return u.enabled?(a=v.enabled,t=m.a.createElement(Rt.a,{className:o.successText}),n=[k,C,S,w,O]):(a=v.disabled,t=m.a.createElement(Ft.a,{className:o.warningText}),n=[y,C,S,w,O]),u.alive?(l=v.online,r=m.a.createElement(Kt.a,{className:o.successText})):(l=v.offline,r=m.a.createElement(Qt.a,{className:o.warningText})),m.a.createElement(Wt.a,{className:c.tableBodyRow},m.a.createElement(Tt.a,{className:c.tableCell},u.name),m.a.createElement(Tt.a,{className:c.tableCell},u.address),m.a.createElement(Tt.a,{className:c.tableCell},m.a.createElement(ce.a,{title:l,placement:"top"},r)),m.a.createElement(Tt.a,{className:c.tableCell},m.a.createElement(ce.a,{title:a,placement:"top"},t)),m.a.createElement(Tt.a,{className:c.tableCell},n.map((function(e,a){var t,n=m.a.createElement(e.icon);return t=e.href?m.a.createElement(Xa.a,{to:e.href},m.a.createElement(oe.a,{color:"inherit"},n)):m.a.createElement(oe.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(u.name)}},n),m.a.createElement(ce.a,{title:e.tips,placement:"top",key:a},t)}))))}var en={en:{title:"Remove Cell",content:"Are you sure to remove compute cell ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u79fb\u9664\u8d44\u6e90\u8282\u70b9",content:"\u662f\u5426\u79fb\u9664\u8d44\u6e90\u8282\u70b9 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},an=function(e){var a,t=e.lang,l=e.pool,r=e.cell,c=e.open,o=e.onSuccess,i=e.onCancel,s=m.a.useState(""),u=Object(n.a)(s,2),d=u[0],f=u[1],p=en[t],E=function(e){f(e)},g=function(e,a){f(""),o(a)};return a=d&&""!==d?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:d,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":p.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,p.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},p.content+r),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){f(""),i()},color:"transparent",autoFocus:!0},p.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n){Aa("/compute_pool_cells/"+e+"/"+a,(function(){t(e,a)}),(function(t){n('remove cell "'+a+'" from pool "'+e+'" fail: '+t)}))}(l,r,g,E)},color:"info"},p.confirm)))},tn=t(550),nn=t(520),ln={en:{title:"Add Compute Cell To Pool ",name:"Cell Name",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6dfb\u52a0\u8282\u70b9\u5230\u8d44\u6e90\u6c60 ",name:"\u8d44\u6e90\u8282\u70b9\u540d\u79f0",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},rn=function(e){var a,t,l,r={cell:""},c=e.lang,o=e.pool,i=e.open,s=e.onSuccess,u=e.onCancel,d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(""),b=Object(n.a)(g,2),h=b[0],x=b[1],y=m.a.useState(r),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState([]),O=Object(n.a)(w,2),j=O[0],N=O[1],_=ln[c],W=function(e){x(e)},I=function(){x(""),S(r),E(!1)},T=function(e,a){I(),s(a)};return m.a.useEffect((function(){if(i&&!p){!function(e,a){Na("/compute_pool_cells/",e,a)}((function(e){var a=[];if(e.forEach((function(e){var t={name:e.address?e.name+" ("+e.address+")":e.name,value:e.name};a.push(t)})),0===a.length)return W("no unallocated cells available"),void E(!0);N(a),E(!0)}),W)}}),[p,i]),a=p?m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(nn.a,{htmlFor:"cell"},_.name),m.a.createElement(tn.a,{value:C.cell,onChange:(t="cell",function(e){var a=e.target.value;S((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),inputProps:{name:"cell",id:"cell"},autoWidth:!0},j.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.name)})))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=h&&""!==h?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:h,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:i,"aria-labelledby":_.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,_.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){I(),u()},color:"transparent",autoFocus:!0},_.cancel),m.a.createElement(be,{onClick:function(){var e=C.cell;""!==e?function(e,a,t,n){Wa("/compute_pool_cells/"+e+"/"+a,"",(function(){t(e,a)}),n)}(o,e,T,W):W("must select a cell")},color:"info"},_.confirm)))},cn=t(155),on=t.n(cn),sn=t(249),mn=t.n(sn),un={en:{name:"Name",address:"Address",alive:"Alive",status:"Status",enabled:"Enabled",disabled:"Disabled",online:"Online",offline:"Offline",title:"Current Cell Status",cancel:"Cancel",confirm:"Confirm",attached:"Attached",storage:"Backend Storage",localStorage:"Use local storage"},cn:{name:"\u540d\u79f0",address:"\u5730\u5740",alive:"\u6d3b\u52a8",status:"\u72b6\u6001",enabled:"\u5df2\u542f\u7528",disabled:"\u5df2\u7981\u7528",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",title:"\u5f53\u524d\u8282\u70b9\u72b6\u6001",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",attached:"\u5df2\u6302\u8f7d",storage:"\u540e\u7aef\u5b58\u50a8",localStorage:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8"}},dn=function(e){var a,t,l,r,c,o,i=Object(h.a)(Dt)(),s=Object(h.a)(Z)(),u=e.lang,d=e.pool,f=e.cell,p=e.open,E=e.onCancel,g=m.a.useState(!1),b=Object(n.a)(g,2),v=b[0],x=b[1],y=m.a.useState(""),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState(null),O=Object(n.a)(w,2),j=O[0],N=O[1],_=un[u],W=function(e){S(e)};(m.a.useEffect((function(){if(d&&f&&p&&!v){Na("/compute_pool_cells/"+d+"/"+f,(function(e){N(e),x(!0)}),W)}}),[v,p,d,f]),v)?(j.enabled?(t=_.enabled,l=m.a.createElement(Rt.a,{className:s.successText})):(t=_.disabled,l=m.a.createElement(Ft.a,{className:s.warningText})),j.alive?(r=_.online,c=m.a.createElement(Kt.a,{className:s.successText})):(r=_.offline,c=m.a.createElement(Qt.a,{className:s.warningText})),a=m.a.createElement("div",{className:i.tableResponsive},m.a.createElement(Nt.a,{className:i.table},m.a.createElement(It.a,null,m.a.createElement(Wt.a,{className:i.tableBodyRow},m.a.createElement(Tt.a,{className:i.tableCell},_.name),m.a.createElement(Tt.a,{className:i.tableCell},j.name)),m.a.createElement(Wt.a,{className:i.tableBodyRow},m.a.createElement(Tt.a,{className:i.tableCell},_.address),m.a.createElement(Tt.a,{className:i.tableCell},j.address?j.address:"")),m.a.createElement(Wt.a,{className:i.tableBodyRow},m.a.createElement(Tt.a,{className:i.tableCell},_.status),m.a.createElement(Tt.a,{className:i.tableCell},m.a.createElement(ce.a,{title:t,placement:"top"},l))),m.a.createElement(Wt.a,{className:i.tableBodyRow},m.a.createElement(Tt.a,{className:i.tableCell},_.alive),m.a.createElement(Tt.a,{className:i.tableCell},m.a.createElement(ce.a,{title:r,placement:"top"},c))),j.storage?j.storage.map((function(e){var a;return a=e.attached?m.a.createElement(ce.a,{title:_.attached,placement:"top"},m.a.createElement(on.a,{className:s.successText})):m.a.createElement(ce.a,{title:e.error,placement:"top"},m.a.createElement(mn.a,{className:s.warningText})),m.a.createElement(Wt.a,{className:i.tableBodyRow},m.a.createElement(Tt.a,{className:i.tableCell},e.name),m.a.createElement(Tt.a,{className:i.tableCell},a))})):m.a.createElement(Wt.a,{className:i.tableBodyRow},m.a.createElement(Tt.a,{className:i.tableCell},_.storage),m.a.createElement(Tt.a,{className:i.tableCell},_.localStorage)))))):a=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});return o=C&&""!==C?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:C,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:p,"aria-labelledby":_.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,_.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),o)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){S(""),N(null),x(!1),E()},color:"transparent",autoFocus:!0},_.cancel)))};function fn(e){var a=e.children,t=Object(Q.a)(e,["children"]);return m.a.createElement(Ie.a,{item:!0,xs:12},m.a.createElement(te.a,{m:1,p:0},m.a.createElement(Ie.a,Object.assign({container:!0},t),a)))}var pn={en:{title:"Migrate All Instance",sourcePool:"Source Pool",sourceCell:"Source Cell",targetCell:"Target Cell",offline:"Offline",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u8fc1\u79fb\u6240\u6709\u4e91\u4e3b\u673a\u5b9e\u4f8b",sourcePool:"\u6e90\u8d44\u6e90\u6c60",sourceCell:"\u6e90\u8282\u70b9",targetCell:"\u76ee\u6807\u8282\u70b9",offline:"\u79bb\u7ebf",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function En(e){var a,t,l,r={targetCell:""},c=e.lang,o=e.open,i=e.sourcePool,s=e.sourceCell,u=e.onSuccess,d=e.onCancel,f=m.a.useState(!1),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState(""),h=Object(n.a)(b,2),x=h[0],y=h[1],k=m.a.useState(r),C=Object(n.a)(k,2),S=C[0],w=C[1],O=m.a.useState({cells:[]}),j=Object(n.a)(O,2),N=j[0],_=j[1],W=pn[c],I=function(e){y(e)},T=function(){y(""),w(r),g(!1)},D=function(e,a){T(),u(e,a)};return m.a.useEffect((function(){if(o&&!E){ra(i,(function(e){var a=[];e.forEach((function(e){e.name!==s&&a.push({name:e.name,address:e.address,alive:e.alive})})),0!==a.length?(_({cells:a}),g(!0)):I("no target cell available")}),I)}}),[E,o,i,s]),a=E?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:W.sourcePool,value:i,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:W.sourceCell,value:s,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"targetCell"},W.targetCell),m.a.createElement(tn.a,{value:S.image,onChange:(t="targetCell",function(e){var a=e.target.value;w((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),inputProps:{name:"targetCell",id:"targetCell"},fullWidth:!0},N.cells.map((function(e){if(e.alive){var a=e.name+"("+e.address+")";return m.a.createElement(xe.a,{value:e.name,key:e.name},a)}var t=e.name+"("+W.offline+")";return m.a.createElement(xe.a,{value:e.name,key:e.name,disabled:!0},t)}))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=x&&""!==x?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:x,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:o,"aria-labelledby":W.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,W.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){T(),d()},color:"transparent",autoFocus:!0},W.cancel),m.a.createElement(be,{onClick:function(){var e=S.targetCell;""!==e?function(e,a,t,n,l){Da("/migrations/",{source_pool:e,source_cell:a,target_cell:t},(function(){n(a,t)}),l)}(i,s,e,D,I):I("select a target cell")},color:"info"},W.confirm)))}var gn=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),bn={en:{addButton:"Add Compute Cell",tableTitle:"Compute Cells",name:"Name",address:"Address",alive:"Alive",status:"Status",operates:"Operates",noResource:"No compute cell available",computePools:"Compute Pools"},cn:{addButton:"\u6dfb\u52a0\u8d44\u6e90\u8282\u70b9",tableTitle:"\u8ba1\u7b97\u8d44\u6e90\u8282\u70b9",name:"\u540d\u79f0",address:"\u5730\u5740",alive:"\u6d3b\u52a8",status:"\u72b6\u6001",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u8ba1\u7b97\u8d44\u6e90\u8282\u70b9",computePools:"\u8ba1\u7b97\u8d44\u6e90\u6c60"}};function hn(e){var a=gn(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=Object(b.g)(),i=new URLSearchParams(o.search).get("pool"),s=m.a.useState(!1),u=Object(n.a)(s,2),d=u[0],f=u[1],p=m.a.useState(!1),E=Object(n.a)(p,2),g=E[0],h=E[1],v=m.a.useState(!1),x=Object(n.a)(v,2),y=x[0],k=x[1],C=m.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState(""),N=Object(n.a)(j,2),_=N[0],W=N[1],I=m.a.useState("warning"),T=Object(n.a)(I,2),D=T[0],A=T[1],P=m.a.useState(""),B=Object(n.a)(P,2),R=B[0],M=B[1],F=function(){M("")},z=m.a.useCallback((function(e){A("warning"),M(e),setTimeout(F,3e3)}),[A,M]),H=m.a.useCallback((function(){ra(i,c,(function(e){z(e),Ge()}))}),[i,z]),L=function(e){A("info"),M(e),Oa(e),setTimeout(F,3e3)},q=function(e){h(!0),W(e)},U=function(e){k(!0),W(e)},V=function(){k(!1)},G=function(){f(!1)},$=function(){H()},Z=function(e){O(!0),W(e)},K=function(){O(!1)};if(m.a.useEffect((function(){var e=!0;H();var a=setInterval((function(){e&&H()}),5e3);return function(){e=!1,clearInterval(a)}}),[H]),!i)return console.log("pool name omit"),$e();if(null===Ve())return $e();var J,Q=e.lang,Y=bn[Q];return J=null===r?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===r.length?m.a.createElement(St,null,Y.noResource):m.a.createElement(Pt,{color:"primary",headers:[Y.name,Y.address,Y.alive,Y.status,Y.operates],rows:r.map((function(e){return m.a.createElement(Xt,{key:e.name,poolName:i,cell:e,lang:Q,onNotify:L,onError:z,onDetail:q,onRemove:U,onMigrate:Z,onStatusChange:$})}))}),m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ut.a,{separator:"\u203a","aria-label":"breadcrumb"},m.a.createElement(Xa.a,{to:"/admin/compute_pools/"},Y.computePools),m.a.createElement(ie.a,{color:"textPrimary"},i))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:3,sm:3,md:3},m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){f(!0)}},m.a.createElement(mt.a,null),Y.addButton)))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:a.cardTitleWhite},Y.tableTitle)),m.a.createElement(kt,null,J))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:D,message:R,open:""!==R,closeNotification:F,close:!0})),m.a.createElement(Ae,null,m.a.createElement(rn,{lang:Q,open:d,pool:i,onSuccess:function(e){G(),L("cell "+e+" added to "+i),H()},onCancel:G})),m.a.createElement(Ae,null,m.a.createElement(dn,{lang:Q,open:g,pool:i,cell:_,onCancel:function(){h(!1)}})),m.a.createElement(Ae,null,m.a.createElement(an,{lang:Q,open:y,pool:i,cell:_,onSuccess:function(e){V(),L("cell "+e+" removed from "+i),H()},onCancel:V})),m.a.createElement(Ae,null,m.a.createElement(En,{lang:Q,open:w,sourcePool:i,sourceCell:_,onSuccess:function(){K(),H()},onCancel:K})))}var vn=t(108),xn=t.n(vn),yn=t(83);function kn(e){var a=e.series,t=[],n=[],l=[];a.forEach((function(e){t.push(e.label),n.push(e.value),l.push(e.color)}));var r={labels:t,datasets:[{data:n,backgroundColor:l,borderWidth:1,hoverBorderWidth:0}]};return m.a.createElement(yn.c,{data:r,options:{cutoutPercentage:5,legend:{display:!1},layout:{padding:{left:0,right:0,top:0,bottom:0}}}})}var Cn={successText:{color:j[0]},upArrowCardCategory:{width:"16px",height:"16px"},stats:{color:W[0],display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"}},cardCategory:{color:W[0],margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardCategoryWhite:{color:"rgba("+x(T)+",.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:W[2],marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:W[1],fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{color:T,marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:W[1],fontWeight:"400",lineHeight:"1"}}};function Sn(e){var a=e.title,t=e.series,n=e.displayValue,l=0,r=Object(v.a)({},Cn);t.forEach((function(e,a){l+=e.value;var t="series-"+a.toString();r[t]=Object(v.a)({},Cn.cardCategory,{color:e.color})})),r.topDivider={borderTop:"1px solid "+W[10]};var c,o=Object(h.a)(r)();return c=n?n(l):l.toString(),m.a.createElement(gt,{chart:!0},m.a.createElement(vt,null,m.a.createElement(ie.a,{className:o.cardCategory},a+": "+c),m.a.createElement(kn,{series:t})),m.a.createElement(kt,null,m.a.createElement(te.a,{m:0,p:2,className:o.topDivider},m.a.createElement(te.a,{display:"flex"},t.map((function(e,a){var t;return t=n?n(e.value):e.value.toString(),m.a.createElement(te.a,{m:1,key:e.label},m.a.createElement(ie.a,{component:"span",className:o["series-"+a.toString()]},e.label),m.a.createElement(ie.a,{component:"span"},": "+t))}))))))}function wn(e){var a,t=e.series,n=e.minTickStep,l=e.displayValue,r=e.light,c=e.maxTicks,o=e.maxValue,i=c||10,s=r?I:T,u=t[0].data.length,d=new Array(u).fill(""),f=!!o;a=f?o:n;var p=[];t.forEach((function(e){f||e.data.forEach((function(e){a=Math.max(a,e)})),p.push({data:e.data,label:e.label,pointBackgroundColor:e.color,pointBorderColor:e.color,pointRadius:5,borderColor:s,borderWidth:4,lineTension:0})}));var E,g={labels:d,datasets:p};E=a<=i*n?n:Math.ceil(a/i/n)*n;var b={scales:{xAxes:[{gridLines:{drawBorder:!1,lineWidth:0,zeroLineColor:s,zeroLineWidth:2}}],yAxes:[{gridLines:{borderDash:[2,4],color:s,zeroLineColor:s,zeroLineWidth:2,drawBorder:!1},ticks:{stepSize:E,fontColor:s,suggestedMax:a,suggestedMin:0,callback:function(e){return l?l(e):e.toString()}}}]},legend:{display:!1}};return m.a.createElement(yn.b,{data:g,options:b})}function On(e){var a=e.title,t=e.color,n=e.series,l=e.displayValue,r=e.minTickStep,c=e.maxValue,o=Object(v.a)({},Cn,{topDivider:{borderTop:"1px solid "+W[10]}}),i=[];n.forEach((function(e){var a,t=e.data,n=e.label,r=t[t.length-1];a=l?l(r):r.toString(),i.push(n+": "+a)}));var s=Object(h.a)(o)();return m.a.createElement(gt,{chart:!0},m.a.createElement(vt,{color:t},m.a.createElement(wn,{series:n,minTickStep:r,displayValue:l,maxValue:c})),m.a.createElement(kt,null,m.a.createElement(ie.a,{variant:"h5",component:"div",className:s.cardTitle},a),m.a.createElement(te.a,{m:0,p:2,className:s.topDivider},m.a.createElement(ie.a,{component:"span",className:s.cardCategory},i.join(" / ")+" / "+c.toString()))))}function jn(e){var a=e.series,t=e.minTickStep,n=e.displayValue,l=e.light,r=e.maxTicks,c=r||10,o=l?I:T,i=a[0].data.length,s=new Array(i).fill(""),u=t,d=[];a.forEach((function(e){d.push({data:e.data,label:e.label,backgroundColor:e.color,barPercentage:.6,borderColor:o,borderWidth:1,stack:"default"})}));for(var f=0;f<i;f++){for(var p=0,E=0;E<a.length;E++)p+=a[E].data[f];u=Math.max(u,p)}var g,b={labels:s,datasets:d};g=u<=c*t?t:Math.ceil(u/c/t)*t;var h={scales:{xAxes:[{display:!1}],yAxes:[{stacked:!0,gridLines:{borderDash:[2,4],color:o,zeroLineColor:o,zeroLineWidth:2},ticks:{stepSize:g,fontColor:o,suggestedMax:u,suggestedMin:0,callback:function(e){return n?n(e):e.toString()}}}]},legend:{display:!1}};return m.a.createElement(yn.a,{data:b,options:h})}function Nn(e){var a=e.title,t=e.color,n=e.series,l=e.displayValue,r=e.minTickStep,c=Object(v.a)({},Cn,{topDivider:{borderTop:"1px solid "+W[10]}}),o=[];n.forEach((function(e){var a,t=e.data,n=e.label,r=t[t.length-1];a=l?l(r):r.toString(),o.push(n+": "+a)}));var i=Object(h.a)(c)();return m.a.createElement(gt,{chart:!0},m.a.createElement(vt,{color:t},m.a.createElement(jn,{series:n,minTickStep:r,displayValue:l})),m.a.createElement(kt,null,m.a.createElement(ie.a,{variant:"h5",component:"div",className:i.cardTitle},a),m.a.createElement(te.a,{m:0,p:2,className:i.topDivider},m.a.createElement(ie.a,{component:"span",className:i.cardCategory},o.join(" / ")))))}function _n(e){var a=e.series,t=e.minTickStep,n=e.displayValue,l=e.light,r=e.maxTicks,c=r||10,o=l?I:T,i=a[0].data.length,s=new Array(i).fill(""),u=t,d=[];a.forEach((function(e){e.data.forEach((function(e){u=Math.max(u,e)})),d.push({data:e.data,label:e.label,backgroundColor:e.color,barPercentage:.6,borderColor:o,borderWidth:1})}));var f,p={labels:s,datasets:d};f=u<=c*t?t:Math.ceil(u/c/t)*t;var E={scales:{xAxes:[{display:!1}],yAxes:[{gridLines:{borderDash:[2,4],color:o,zeroLineColor:o,zeroLineWidth:2},ticks:{stepSize:f,fontColor:o,suggestedMax:u,suggestedMin:0,callback:function(e){return n?n(e):e.toString()}}}]},legend:{display:!1}};return m.a.createElement(yn.a,{data:p,options:E})}function Wn(e){var a=e.title,t=e.color,n=e.series,l=e.displayValue,r=e.minTickStep,c=Object(v.a)({},Cn,{topDivider:{borderTop:"1px solid "+W[10]}}),o=[];n.forEach((function(e){var a,t=e.data,n=e.label,r=t[t.length-1];a=l?l(r):r.toString(),o.push(n+": "+a)}));var i=Object(h.a)(c)();return m.a.createElement(gt,{chart:!0},m.a.createElement(vt,{color:t},m.a.createElement(_n,{series:n,minTickStep:r,displayValue:l})),m.a.createElement(kt,null,m.a.createElement(ie.a,{variant:"h5",component:"div",className:i.cardTitle},a),m.a.createElement(te.a,{m:0,p:2,className:i.topDivider},m.a.createElement(ie.a,{component:"span",className:i.cardCategory},o.join(" / ")))))}var In={en:{allButton:"Show All Compute Pools",pools:"Compute Pools Summary",cells:"Compute Cells Summary",instances:"Instances Summary",disks:"Storage Space Summary",coreUsage:"Core Usage",memoryUsage:"Memory Usage",ioUsage:"IO Usage",enabled:"Enabled",disabled:"Disabled",online:"Online",offline:"Offline",stopped:"Stopped",running:"Running",lost:"Lost",migrate:"Migrating",used:"Used",available:"Available",coresUsed:"Cores Used",network:"Network Usage",diskIO:"Disk IO",receive:"Receive",send:"Send",write:"Write",read:"Read"},cn:{allButton:"\u67e5\u770b\u6240\u6709\u8d44\u6e90\u6c60",pools:"\u8ba1\u7b97\u8d44\u6e90\u6c60\u603b\u6570",cells:"\u8d44\u6e90\u8282\u70b9\u603b\u6570",instances:"\u4e91\u4e3b\u673a\u603b\u6570",disks:"\u603b\u78c1\u76d8\u7a7a\u95f4",coreUsage:"CPU\u7528\u91cf",memoryUsage:"\u5185\u5b58\u7528\u91cf",ioUsage:"IO\u541e\u5410\u91cf",enabled:"\u542f\u7528",disabled:"\u7981\u7528",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",stopped:"\u505c\u6b62",running:"\u8fd0\u884c",lost:"\u5931\u8054",migrate:"\u8fc1\u79fb\u4e2d",used:"\u5df2\u7528",available:"\u53ef\u7528",coresUsed:"\u6838\u5fc3\u5df2\u5360\u7528",network:"\u7f51\u7edc\u6d41\u91cf",diskIO:"\u78c1\u76d8IO",receive:"\u63a5\u6536",send:"\u53d1\u9001",write:"\u5199\u78c1\u76d8",read:"\u8bfb\u78c1\u76d8"}},Tn=N[0],Dn=j[0],An=w[0],Pn=S[0],Bn=W[2];function Rn(e){var a,t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=e.lang,i=In[o];if(m.a.useEffect((function(){var e=!0,a=new Array(6).fill({current:0,max:0}),t=new Array(10).fill({available:0,used:0}),n=new Array(10).fill({receive:0,send:0}),l=new Array(10).fill({write:0,read:0}),r=function(){var e;Na("/compute_zone_status/",(function(e){a.shift(),a.push({current:Je(e.cpu_usage,2),max:e.max_cpu}),t.shift(),t.push({available:Je(e.available_memory/(1<<20),2),used:Je((e.max_memory-e.available_memory)/(1<<20),2)}),n.shift(),n.push({receive:e.receive_speed,send:e.send_speed}),l.shift(),l.push({write:e.write_speed,read:e.read_speed}),c(Object(v.a)({},e,{coreRecords:a,memoryRecords:t,networkRecords:n,diskRecords:l}))}),e)};r();var o=setInterval((function(){e&&r()}),2e3);return function(){e=!1,clearInterval(o)}}),[]),null===Ve())return $e();if(r){var s=new Date(r.start_time),u=new Date,d=Math.floor((u.getTime()-s.getTime())/1e3),f=Math.floor(d/86400);d-=24*f*3600;var p=Math.floor(d/3600);d-=3600*p;var E,g=Math.floor(d/60);d-=60*g,E="cn"===o?"\u7cfb\u7edf\u542f\u52a8\u65f6\u95f4 "+r.start_time+", \u5df2\u8fd0\u884c "+f+" \u5929 "+p+" \u5c0f\u65f6 "+g+" \u5206 "+d+" \u79d2":"System start at "+r.start_time+", Uptime: "+f+" day, "+p+" hour, "+g+" min, "+d+" secs";var b=m.a.createElement(Ae,{xs:12,key:"uptime"},m.a.createElement(te.a,{align:"center"},m.a.createElement(ie.a,{component:"span"},E))),h=Object(n.a)(r.pools,2),x=h[0],y=h[1],k=[{value:x,label:i.disabled,color:Bn},{value:y,label:i.enabled,color:Tn}],C=m.a.createElement(Ae,{xs:6,sm:4,md:3,key:"pool"},m.a.createElement(Sn,{title:i.pools,series:k})),w=Object(n.a)(r.cells,2),O=w[0],_=w[1],I=[{value:O,label:i.offline,color:Bn},{value:_,label:i.online,color:Dn}],D=m.a.createElement(Ae,{xs:6,sm:4,md:3,key:"cell"},m.a.createElement(Sn,{title:i.cells,series:I})),A=Object(n.a)(r.instances,4),P=A[0],B=A[1],R=A[2],M=A[3],F=[{value:P,label:i.stopped,color:Bn},{value:B,label:i.running,color:Tn},{value:R,label:i.lost,color:An},{value:M,label:i.migrate,color:Pn}],z=m.a.createElement(Ae,{xs:6,sm:4,md:3,key:"instance"},m.a.createElement(Sn,{title:i.instances,series:F})),H=Je(r.available_disk/(1<<30),2),L=Je((r.max_disk-r.available_disk)/(1<<30),2),q=[{value:H,label:i.available,color:Tn},{value:L,label:i.used,color:Pn}],U=m.a.createElement(Ae,{xs:6,sm:4,md:3,key:"disks"},m.a.createElement(Sn,{title:i.disks,series:q,displayValue:function(e){return Number.isInteger(e)?e.toString+" GB":e.toFixed(2)+" GB"}})),V={label:i.coresUsed,color:T,data:[]},G=0;r.coreRecords.forEach((function(e){V.data.push(e.current),G=Math.max(G,e.max)}));var $=m.a.createElement(Ae,{xs:8,sm:6,md:4,key:"cores-usage"},m.a.createElement(On,{title:i.coreUsage,series:[V],color:"success",minTickStep:1,maxValue:G})),Z={label:i.used,color:W[4],data:[]},K={label:i.available,color:j[1],data:[]};r.memoryRecords.forEach((function(e){Z.data.push(e.used),K.data.push(e.available)}));var J=m.a.createElement(Ae,{xs:8,sm:6,md:4,key:"memory-usage"},m.a.createElement(Nn,{title:i.memoryUsage,series:[Z,K],color:"info",minTickStep:1024,displayValue:function(e){return 0===e?"0":e>=1024?0===e%1024?(e/1024).toString()+" GB":(e/1024).toFixed(2)+" GB":e.toString()+" MB"}})),Q={label:i.receive,color:N[3],data:[]},Y={label:i.send,color:S[1],data:[]};r.networkRecords.forEach((function(e){Q.data.push(e.receive),Y.data.push(e.send)}));var X=[Q,Y],ee=m.a.createElement(Ae,{xs:8,sm:6,md:4,key:"network-usage"},m.a.createElement(Wn,{title:i.network,series:X,displayValue:Ke,minTickStep:1<<20,color:"warning"})),ae={label:i.write,color:j[1],data:[]},ne={label:i.read,color:N[3],data:[]};r.diskRecords.forEach((function(e){ae.data.push(e.write),ne.data.push(e.read)}));var le=[ae,ne];a=[b,C,D,z,U,$,J,ee,m.a.createElement(Ae,{xs:8,sm:6,md:4,key:"io-usage"},m.a.createElement(Wn,{title:i.diskIO,series:le,displayValue:Ke,minTickStep:1<<20,color:"rose"}))]}else a=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:6,sm:4,md:3},m.a.createElement(Xa.a,{to:"/admin/dashboard/pools/"},m.a.createElement(be,{size:"sm",color:"info",round:!0},m.a.createElement(xn.a,null),i.allButton))))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),a)}function Mn(e){var a=e.title,t=e.series,n=e.valueName,l=e.colorName,r=e.labelName,c=e.displayValue,o=e.baseClass,i={};i.title=o?Object(v.a)({},o):{},t.forEach((function(e,a){var t="series-"+a.toString();i[t]=o?Object(v.a)({},o,{color:e[l]}):{color:e[l]}}));var s=Object(h.a)(i)();return m.a.createElement(te.a,{display:"flex"},m.a.createElement(te.a,{m:1},m.a.createElement(ie.a,{component:"span",className:s.title},a)),t.map((function(e,a){var t,l=e[n],o=e[r],i="series-"+a.toString();return t=c?c(l):l.toString(),m.a.createElement(te.a,{m:1,key:o},m.a.createElement(ie.a,{component:"span",className:s[i]},o),m.a.createElement(ie.a,{component:"span"},": "+t))})))}var Fn={en:{viewButton:"View Cell Status",zone:"Zone Status",title:"Compute Pool",pools:"All Compute Pools",cells:"Compute Cells",instances:"Instances",disks:"Storage(GB)",memory:"Memory",ioUsage:"IO Usage",enabled:"Enabled",disabled:"Disabled",online:"Online ",offline:"Offline ",stopped:"Stopped ",running:"Running ",lost:"Lost ",migrate:"Migrating ",used:"Used ",available:"Available ",coresUsed:"Cores Used",throughput:"Throughput",receive:"Receive ",send:"Send ",write:"Write ",read:"Read "},cn:{viewButton:"\u67e5\u770b\u8282\u70b9\u72b6\u6001",zone:"\u5168\u57df\u72b6\u6001",title:"\u8ba1\u7b97\u8d44\u6e90\u6c60",pools:"\u6240\u6709\u8ba1\u7b97\u8d44\u6e90\u6c60",cells:"\u8d44\u6e90\u8282\u70b9",instances:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",disks:"\u78c1\u76d8\u7a7a\u95f4(GB)",memory:"\u5185\u5b58",ioUsage:"IO\u541e\u5410\u91cf",enabled:"\u542f\u7528",disabled:"\u7981\u7528",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",stopped:"\u505c\u6b62",running:"\u8fd0\u884c",lost:"\u5931\u8054",migrate:"\u8fc1\u79fb\u4e2d",used:"\u5df2\u7528",available:"\u53ef\u7528",coresUsed:"\u6838\u5fc3\u5df2\u5360\u7528",throughput:"\u541e\u5410\u91cf",receive:"\u63a5\u6536",send:"\u53d1\u9001",write:"\u5199\u5165",read:"\u8bfb\u53d6"}},zn=N[0],Hn=j[0],Ln=w[0],qn=S[0],Un=W[2],Vn={borderRadius:"3px",marginTop:"-20px",padding:"15px"},Gn=Object(v.a)({},Z,{},Cn,{cardWithDivider:{borderTop:"1px solid "+W[10]},coresChart:Object(v.a)({},Vn,{background:j[0]}),memoryChart:Object(v.a)({},Vn,{background:N[0]}),networkChart:Object(v.a)({},Vn,{background:w[0]}),diskChart:Object(v.a)({},Vn,{background:_[0]})}),$n=Object(h.a)(Gn),Zn=function(e){var a=e.lang,t=e.status,l=e.poolName,r=$n(),c=Fn[a],o=c.title+": "+l,i=Object(n.a)(t.cells,2),s=i[0],u=i[1],d=[{value:s,label:c.offline,color:Un},{value:u,label:c.online,color:Hn}],f=m.a.createElement(Mn,{key:"cells-labels",title:c.cells,series:d,valueName:"value",colorName:"color",labelName:"label",baseClass:Cn.cardCategory}),p=Object(n.a)(t.instances,4),E=p[0],g=p[1],b=p[2],h=p[3],v=[{value:E,label:c.stopped,color:Un},{value:g,label:c.running,color:zn},{value:b,label:c.lost,color:Ln},{value:h,label:c.migrate,color:qn}],x=m.a.createElement(Mn,{key:"instances-labels",title:c.instances,series:v,valueName:"value",colorName:"color",labelName:"label",baseClass:Cn.cardCategory}),y=Je(t.available_disk/(1<<30),2),k=Je((t.max_disk-t.available_disk)/(1<<30),2),C=[{value:y,label:c.available,color:zn},{value:k,label:c.used,color:qn}],w=m.a.createElement(Mn,{key:"storage-labels",title:c.disks,series:C,valueName:"value",colorName:"color",labelName:"label",baseClass:Cn.cardCategory}),O={label:c.coresUsed,color:T,data:[]},_=0;t.coreRecords.forEach((function(e){O.data.push(e.current),_=Math.max(_,e.max)}));var I=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"cores-usage"},m.a.createElement(te.a,{m:0,p:0,className:r.coresChart,boxShadow:2},m.a.createElement(wn,{series:[O],minTickStep:1,maxValue:_}))),D={label:c.used+c.memory,color:W[4],data:[]},A={label:c.available+c.memory,color:j[1],data:[]};t.memoryRecords.forEach((function(e){D.data.push(e.used),A.data.push(e.available)}));var P=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"memory-usage"},m.a.createElement(te.a,{m:0,p:0,className:r.memoryChart,boxShadow:2},m.a.createElement(jn,{series:[D,A],minTickStep:1024,displayValue:function(e){return 0===e?"0":e>=1024?0===e%1024?(e/1024).toString()+" GB":(e/1024).toFixed(2)+" GB":e.toString()+" MB"}}))),B={label:c.receive+c.throughput,color:N[3],data:[]},R={label:c.send+c.throughput,color:S[1],data:[]};t.networkRecords.forEach((function(e){B.data.push(Je(e.receive/(1<<20),2)),R.data.push(Je(e.send/(1<<20),2))}));var M=function(e){return e>=1024?0===e%1024?(e/1024).toString()+" GB/s":(e/1024).toFixed(2)+" GB/s":Number.isInteger(e)?e.toString()+" MB/s":e.toFixed(2)+" MB/s"},F=[B,R],z=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"network-usage"},m.a.createElement(te.a,{m:0,p:0,className:r.networkChart,boxShadow:2},m.a.createElement(_n,{series:F,displayValue:M,minTickStep:1}))),H={label:c.write+c.throughput,color:j[1],data:[]},L={label:c.read+c.throughput,color:N[3],data:[]};t.diskRecords.forEach((function(e){H.data.push(Je(e.write/(1<<20),2)),L.data.push(Je(e.read/(1<<20),2))}));var q=[H,L],U=[I,P,z,m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"io-usage"},m.a.createElement(te.a,{m:0,p:0,className:r.diskChart,boxShadow:2},m.a.createElement(_n,{series:q,displayValue:M,minTickStep:1})))],V=[f,x,w];return m.a.createElement(gt,{chart:!0},m.a.createElement(vt,null,m.a.createElement(ft,null,U)),m.a.createElement(kt,null,m.a.createElement(ie.a,{component:"span",className:r.cardTitle},o),V,m.a.createElement(te.a,{m:0,p:2,className:r.cardWithDivider},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:6,sm:4,md:3},m.a.createElement(Xa.a,{to:"/admin/dashboard/pools/"+l},m.a.createElement(be,{size:"sm",color:"info",round:!0},m.a.createElement(xn.a,null),c.viewButton)))))))};function Kn(e){var a,t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=Fn[e.lang];if(m.a.useEffect((function(){var e=!0,a=new Map,t=function(){var e;Na("/compute_pool_status/",(function(e){e.forEach((function(e){var t,n,l,r,c=e.name;if(a.has(c)){var o=a.get(c);(t=o.coreRecords).shift(),(n=o.memoryRecords).shift(),(l=o.networkRecords).shift(),(r=o.diskRecords).shift()}else t=new Array(4).fill({current:0,max:0}),n=new Array(4).fill({available:0,used:0}),l=new Array(4).fill({receive:0,send:0}),r=new Array(4).fill({write:0,read:0});t.push({current:Je(e.cpu_usage,2),max:e.max_cpu}),n.push({available:Je(e.available_memory/(1<<20),2),used:Je((e.max_memory-e.available_memory)/(1<<20),2)}),l.push({receive:e.receive_speed,send:e.send_speed}),r.push({write:e.write_speed,read:e.read_speed});var i=Object(v.a)({},e,{coreRecords:t,memoryRecords:n,networkRecords:l,diskRecords:r});a.set(c,i)}));var t=new Map;a.forEach((function(e,a){t.set(a,e)})),c(t)}),e)};t();var n=setInterval((function(){e&&t()}),2e3);return function(){e=!1,clearInterval(n)}}),[]),null===Ve())return $e();if(r){var i=[];r.forEach((function(e,a){i.push(a)})),i.sort(),a=[],i.forEach((function(t){var n=r.get(t);a.push(m.a.createElement(Ae,{xs:12,key:t},m.a.createElement(Zn,{status:n,lang:e.lang,poolName:t})))}))}else a=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});var s=[m.a.createElement(Xa.a,{to:"/admin/dashboard/",key:o.zone},o.zone),m.a.createElement(ie.a,{color:"textPrimary",key:o.pools},o.pools)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ut.a,{separator:"\u203a","aria-label":"breadcrumb"},s)),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),a)}var Jn=t(252),Qn=t.n(Jn),Yn=t(251),Xn=t.n(Yn),el={en:{viewButton:"View Instances",zone:"Zone Status",title:"Compute Cell",pools:"All Compute Pools",cells:"Compute Cells",instances:"Instances",disks:"Storage(GB)",memory:"Memory",ioUsage:"IO Usage",enabled:"Enabled",disabled:"Disabled",online:"Online",offline:"Offline",stopped:"Stopped ",running:"Running ",lost:"Lost ",migrate:"Migrating ",used:"Used ",available:"Available ",coresUsed:"Cores Used",throughput:"Throughput",receive:"Receive ",send:"Send ",write:"Write ",read:"Read "},cn:{viewButton:"\u67e5\u770b\u627f\u8f7d\u4e91\u4e3b\u673a",zone:"\u5168\u57df\u72b6\u6001",title:"\u8ba1\u7b97\u8d44\u6e90\u8282\u70b9",pools:"\u6240\u6709\u8ba1\u7b97\u8d44\u6e90\u6c60",cells:"\u8d44\u6e90\u8282\u70b9",instances:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",disks:"\u78c1\u76d8\u7a7a\u95f4(GB)",memory:"\u5185\u5b58",ioUsage:"IO\u541e\u5410\u91cf",enabled:"\u542f\u7528",disabled:"\u7981\u7528",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",stopped:"\u505c\u6b62",running:"\u8fd0\u884c",lost:"\u5931\u8054",migrate:"\u8fc1\u79fb\u4e2d",used:"\u5df2\u7528",available:"\u53ef\u7528",coresUsed:"\u6838\u5fc3\u5df2\u5360\u7528",throughput:"\u541e\u5410\u91cf",receive:"\u63a5\u6536",send:"\u53d1\u9001",write:"\u5199\u5165",read:"\u8bfb\u53d6"}},al=N[0],tl=w[0],nl=S[0],ll=W[2],rl={borderRadius:"3px",marginTop:"-20px",padding:"15px"},cl=Object(v.a)({},Cn,{},Z,{cardWithDivider:{borderTop:"1px solid "+W[10]},coresChart:Object(v.a)({},rl,{background:j[0]}),memoryChart:Object(v.a)({},rl,{background:N[0]}),networkChart:Object(v.a)({},rl,{background:w[0]}),diskChart:Object(v.a)({},rl,{background:_[0]}),disableChart:Object(v.a)({},rl,{background:W[5]})}),ol=Object(h.a)(cl),il=function(e){var a,t,l,r,c=e.lang,o=e.status,i=e.cellName,s=e.poolName,u=ol(),d=el[c];if(a=o.alive?o.enabled?m.a.createElement(ie.a,{component:"span",className:u.cardTitle},m.a.createElement(Qn.a,{className:u.successText}),d.title+": "+i+" ( "+d.online+" )"):m.a.createElement(ie.a,{component:"span",className:u.cardTitle},m.a.createElement(Ft.a,{className:u.mutedText}),d.title+": "+i+" ( "+d.disabled+" )"):m.a.createElement(ie.a,{component:"span",className:u.cardTitle},m.a.createElement(Xn.a,{className:u.mutedText}),d.title+": "+i+" ( "+d.offline+" )"),o.alive){r=[m.a.createElement(Ae,{xs:6,sm:4,md:3,key:"view"},m.a.createElement(Xa.a,{to:"/admin/instances/?pool="+s+"&cell="+i},m.a.createElement(be,{size:"sm",color:"info",round:!0},m.a.createElement(xn.a,null),d.viewButton)))];var f=Object(n.a)(o.instances,4),p=f[0],E=f[1],g=f[2],b=f[3],h=[{value:p,label:d.stopped,color:ll},{value:E,label:d.running,color:al},{value:g,label:d.lost,color:tl},{value:b,label:d.migrate,color:nl}],v=m.a.createElement(Mn,{key:"instances-labels",title:d.instances,series:h,valueName:"value",colorName:"color",labelName:"label",baseClass:Cn.cardCategory}),x=Je(o.available_disk/(1<<30),2),y=Je((o.max_disk-o.available_disk)/(1<<30),2),k=[{value:x,label:d.available,color:al},{value:y,label:d.used,color:nl}],C=m.a.createElement(Mn,{key:"storage-labels",title:d.disks,series:k,valueName:"value",colorName:"color",labelName:"label",baseClass:Cn.cardCategory}),w={label:d.coresUsed,color:T,data:[]},O=0;o.coreRecords.forEach((function(e){w.data.push(e.current),O=Math.max(O,e.max)}));var _=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"cores-usage"},m.a.createElement(te.a,{m:0,p:0,className:u.coresChart,boxShadow:2},m.a.createElement(wn,{series:[w],minTickStep:1,maxValue:O}))),I={label:d.used+d.memory,color:W[4],data:[]},D={label:d.available+d.memory,color:j[1],data:[]};o.memoryRecords.forEach((function(e){I.data.push(e.used),D.data.push(e.available)}));var A=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"memory-usage"},m.a.createElement(te.a,{m:0,p:0,className:u.memoryChart,boxShadow:2},m.a.createElement(jn,{series:[I,D],minTickStep:1024,displayValue:function(e){return 0===e?"0":e>=1024?0===e%1024?(e/1024).toString()+" GB":(e/1024).toFixed(2)+" GB":e.toString()+" MB"}}))),P={label:d.receive+d.throughput,color:N[3],data:[]},B={label:d.send+d.throughput,color:S[1],data:[]};o.networkRecords.forEach((function(e){P.data.push(Je(e.receive/(1<<20),2)),B.data.push(Je(e.send/(1<<20),2))}));var R=function(e){return e>=1024?0===e%1024?(e/1024).toString()+" GB/s":(e/1024).toFixed(2)+" GB/s":Number.isInteger(e)?e.toString()+" MB/s":e.toFixed(2)+" MB/s"},M=[P,B],F=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"network-usage"},m.a.createElement(te.a,{m:0,p:0,className:u.networkChart,boxShadow:2},m.a.createElement(_n,{series:M,displayValue:R,minTickStep:1}))),z={label:d.write+d.throughput,color:j[1],data:[]},H={label:d.read+d.throughput,color:N[3],data:[]};o.diskRecords.forEach((function(e){z.data.push(Je(e.write/(1<<20),2)),H.data.push(Je(e.read/(1<<20),2))}));var L=[z,H];t=[_,A,F,m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"io-usage"},m.a.createElement(te.a,{m:0,p:0,className:u.diskChart,boxShadow:2},m.a.createElement(_n,{series:L,displayValue:R,minTickStep:1})))],l=[v,C]}else t=new Array(4).fill(m.a.createElement(Ae,{xs:8,sm:6,md:3},m.a.createElement(te.a,{m:0,p:0,className:u.disableChart,boxShadow:2}))),l=[],r=[];return m.a.createElement(gt,{chart:!0},m.a.createElement(vt,null,m.a.createElement(ft,null,t)),m.a.createElement(kt,null,a,l,m.a.createElement(te.a,{m:0,p:2,className:u.cardWithDivider},m.a.createElement(ft,null,r))))};function sl(e){var a,t=e.match.params.pool,l=m.a.useState(null),r=Object(n.a)(l,2),c=r[0],o=r[1],i=el[e.lang];if(m.a.useEffect((function(){var e=!0,a=new Map,n=function(){!function(e,a,t){Na("/compute_cell_status/"+e,a,t)}(t,(function(e){e.forEach((function(e){var t,n,l,r,c=e.name;if(a.has(c)){var o=a.get(c);(t=o.coreRecords).shift(),(n=o.memoryRecords).shift(),(l=o.networkRecords).shift(),(r=o.diskRecords).shift()}else t=new Array(4).fill({current:0,max:0}),n=new Array(4).fill({available:0,used:0}),l=new Array(4).fill({receive:0,send:0}),r=new Array(4).fill({write:0,read:0});t.push({current:Je(e.cpu_usage,2),max:e.max_cpu}),n.push({available:Je(e.available_memory/(1<<20),2),used:Je((e.max_memory-e.available_memory)/(1<<20),2)}),l.push({receive:e.receive_speed,send:e.send_speed}),r.push({write:e.write_speed,read:e.read_speed});var i=Object(v.a)({},e,{coreRecords:t,memoryRecords:n,networkRecords:l,diskRecords:r});a.set(c,i)}));var t=new Map;a.forEach((function(e,a){t.set(a,e)})),o(t)}))};n();var l=setInterval((function(){e&&n()}),2e3);return function(){e=!1,clearInterval(l)}}),[t]),null===Ve())return $e();if(c){var s=[];c.forEach((function(e,a){s.push(a)})),s.sort(),a=[],s.forEach((function(n){var l=c.get(n);a.push(m.a.createElement(Ae,{xs:12,key:n},m.a.createElement(il,{status:l,lang:e.lang,cellName:n,poolName:t})))}))}else a=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});var u=[m.a.createElement(Xa.a,{to:"/admin/dashboard/",key:i.zone},i.zone),m.a.createElement(Xa.a,{to:"/admin/dashboard/pools/",key:i.pools},i.pools),m.a.createElement(ie.a,{color:"textPrimary",key:t},t)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ut.a,{separator:"\u203a","aria-label":"breadcrumb"},u)),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),a)}var ml=t(253),ul=t.n(ml),dl={en:{enable:"Enable",disable:"Disable",enabled:"Enabled",disabled:"Disabled",cells:"Cells",instances:"Instances",modify:"Modify",delete:"Delete",on:"on",off:"off",localStorage:"Use local storage",noAddressPool:"Don't use address pool"},cn:{enable:"\u542f\u7528",disable:"\u7981\u7528",enabled:"\u5df2\u542f\u7528",disabled:"\u5df2\u7981\u7528",cells:"Cell\u8282\u70b9",instances:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",modify:"\u4fee\u6539",delete:"\u5220\u9664",on:"\u5f00\u542f",off:"\u5173\u95ed",localStorage:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8",noAddressPool:"\u4e0d\u4f7f\u7528\u5730\u5740\u6c60"}};function fl(e){var a,t,n,l,r=Object(h.a)(Dt)(),c=Object(h.a)(Z)(),o=e.lang,i=e.pool,s=e.onModify,u=e.onDelete,d=dl[o],f={tips:d.enable,icon:Rt.a,handler:null},p={tips:d.disable,icon:Ft.a,handler:null},E={tips:d.cells,icon:ul.a,href:"/admin/compute_cells/?pool="+i.name},g={tips:d.instances,icon:Ht.a,href:"/admin/instances/range/?pool="+i.name},b={tips:d.modify,icon:Vt.a,handler:s},v={tips:d.delete,icon:qt.a,handler:u};return i.enabled?(a=d.enabled,t=m.a.createElement(Rt.a,{className:c.successText}),n=[p,E,g,b,v]):(a=d.disabled,t=m.a.createElement(Ft.a,{className:c.warningText}),n=[f,E,g,b,v]),l=i.failover?d.on:d.off,m.a.createElement(Wt.a,{className:r.tableBodyRow},m.a.createElement(Tt.a,{className:r.tableCell},i.name),m.a.createElement(Tt.a,{className:r.tableCell},i.cells),m.a.createElement(Tt.a,{className:r.tableCell},i.network?i.network:d.noAddressPool),m.a.createElement(Tt.a,{className:r.tableCell},i.storage?i.storage:d.localStorage),m.a.createElement(Tt.a,{className:r.tableCell},l),m.a.createElement(Tt.a,{className:r.tableCell},m.a.createElement(ce.a,{title:a,placement:"top"},t)),m.a.createElement(Tt.a,{className:r.tableCell},n.map((function(e,a){var t,n=m.a.createElement(e.icon);return t=e.href?m.a.createElement(Xa.a,{to:e.href},m.a.createElement(oe.a,{color:"default"},n)):m.a.createElement(oe.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(i.name)}},n),m.a.createElement(ce.a,{title:e.tips,placement:"top",key:a},t)}))))}var pl={en:{title:"Delete Pool",content:"Are you sure to delete compute pool ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u8d44\u6e90\u6c60",content:"\u662f\u5426\u5220\u9664\u8ba1\u7b97\u8d44\u6e90\u6c60 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},El=function(e){var a,t=e.lang,l=e.pool,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=pl[t],p=function(e){d(e)},E=function(e){d(""),c(e)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t){Aa("/compute_pools/"+e,(function(){a(e)}),(function(a){t('delete compute pool "'+e+'" fail: '+a)}))}(l,E,p)},color:"info"},f.confirm)))},gl=t(536),bl={en:{title:"Create Pool",localStorage:"Use local storage",noAddressPool:"Don't use address pool",name:"Pool Name",storage:"Backend Storage",network:"Address Pool",failover:"Failover",off:"Off",on:"On",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u8d44\u6e90\u6c60",localStorage:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8",noAddressPool:"\u4e0d\u4f7f\u7528\u5730\u5740\u6c60",name:"\u8d44\u6e90\u6c60\u540d\u79f0",storage:"\u540e\u7aef\u5b58\u50a8",network:"\u5730\u5740\u6c60",failover:"\u6545\u969c\u5207\u6362",off:"\u5173\u95ed",on:"\u5f00\u542f",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},hl=function(e){var a,t,l,r={name:"",storage:"__default",network:"__default",failover:!1},c=e.lang,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(""),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(r),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState({storage:[],network:[]}),w=Object(n.a)(S,2),O=w[0],j=w[1],N=bl[c],_=function(e){h(e)},W=function(e){h(""),C(r),i(e)},I=function(e){return function(a){var t=a.target.value;C((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(o&&!f){var e=[{name:N.localStorage,value:"__default"}],a=[{name:N.noAddressPool,value:"__default"}],t=function(t){t.forEach((function(e){var t={name:e.name+" ("+e.allocated+"/"+e.addresses+" allocated via gateway "+e.gateway+")",value:e.name};a.push(t)})),j({storage:e,network:a}),p(!0)};oa((function(a){a.forEach((function(a){var t={name:a.name+" ("+a.type+":"+a.host+")",value:a.name};e.push(t)})),ia(t,_)}),_)}}),[f,o,N.localStorage,N.noAddressPool]),a=f?m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:6},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Te.a,{label:N.name,onChange:I("name"),value:k.name,margin:"normal",required:!0,fullWidth:!0}))),m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(nn.a,{htmlFor:"storage"},N.storage),m.a.createElement(tn.a,{value:k.storage,onChange:I("storage"),inputProps:{name:"storage",id:"storage"},fullWidth:!0},O.storage.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.name)}))))),m.a.createElement(Ae,{xs:10},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(nn.a,{htmlFor:"network"},N.network),m.a.createElement(tn.a,{value:k.network,onChange:I("network"),inputProps:{name:"network",id:"network"},fullWidth:!0},O.network.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.name)}))))),m.a.createElement(Ae,{xs:6},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(nn.a,{htmlFor:"failover"},N.failover),m.a.createElement(Ae,null,N.off,m.a.createElement(gl.a,{checked:k.failover,onChange:(t="failover",function(e){var a=e.target.checked;C((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),color:"primary",inputProps:{name:"failover",id:"failover"}}),N.on)))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=b&&""!==b?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:b,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:o,"aria-labelledby":N.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,N.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){h(""),C(r),s()},color:"transparent",autoFocus:!0},N.cancel),m.a.createElement(be,{onClick:function(){var e=k.name;""!==e?function(e,a,t,n,l,r){Wa("/compute_pools/"+e,{storage:a,network:t,failover:n},(function(){l(e)}),r)}(e,"__default"===k.storage?"":k.storage,"__default"===k.network?"":k.network,k.failover,W,_):_("must specify pool name")},color:"info"},N.confirm)))},vl={en:{title:"Modify Pool",localStorage:"Use local storage",noAddressPool:"Don't use address pool",storage:"Backend Storage",network:"Address Pool",failover:"Failover",off:"Off",on:"On",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u8d44\u6e90\u6c60",localStorage:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8",noAddressPool:"\u4e0d\u4f7f\u7528\u5730\u5740\u6c60",storage:"\u540e\u7aef\u5b58\u50a8",network:"\u5730\u5740\u6c60",failover:"\u6545\u969c\u5207\u6362",off:"\u5173\u95ed",on:"\u5f00\u542f",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},xl=function(e){var a,t,l,r={storage:"__default",network:"__default",failover:!1},c=e.lang,o=e.pool,i=e.open,s=e.onSuccess,u=e.onCancel,d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(""),b=Object(n.a)(g,2),h=b[0],x=b[1],y=m.a.useState(r),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState({storage:[],network:[]}),O=Object(n.a)(w,2),j=O[0],N=O[1],_=vl[c],W=function(e){x(e)},I=function(){x(""),S(r),E(!1)},T=function(e){I(),s(e)},D=function(e){return function(a){var t=a.target.value;S((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(o&&i&&!p){var e=[{name:_.localStorage,value:"__default"}],a=[{name:_.noAddressPool,value:"__default"}],t=function(t){N({storage:e,network:a}),S({storage:t.storage?t.storage:"__default",network:t.network?t.network:"__default",failover:t.failover}),E(!0)},n=function(e){e.forEach((function(e){var t={name:e.name+" ("+e.allocated+"/"+e.addresses+" allocated via gateway "+e.gateway+")",value:e.name};a.push(t)})),function(e,a,t){Na("/compute_pools/"+e,a,t)}(o,t,W)};oa((function(a){a.forEach((function(a){var t={name:a.name+" ("+a.type+":"+a.host+")",value:a.name};e.push(t)})),ia(n,W)}),W)}}),[p,i,o,_.localStorage,_.noAddressPool]),a=p?m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(nn.a,{htmlFor:"storage"},_.storage),m.a.createElement(tn.a,{value:C.storage,onChange:D("storage"),inputProps:{name:"storage",id:"storage"},autoWidth:!0},j.storage.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.name)}))))),m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(nn.a,{htmlFor:"network"},_.network),m.a.createElement(tn.a,{value:C.network,onChange:D("network"),inputProps:{name:"network",id:"network"}},j.network.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.name)}))))),m.a.createElement(Ae,{xs:6},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(nn.a,{htmlFor:"failover"},_.failover),m.a.createElement(Ae,null,_.off,m.a.createElement(gl.a,{checked:C.failover,onChange:(t="failover",function(e){var a=e.target.checked;S((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),color:"primary",inputProps:{name:"failover",id:"failover"}}),_.on)))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=h&&""!==h?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:h,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:i,"aria-labelledby":_.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,_.title+" "+o),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){I(),u()},color:"transparent",autoFocus:!0},_.cancel),m.a.createElement(be,{onClick:function(){var e,a;e="__default"===C.storage?"":C.storage,a="__default"===C.network?"":C.network,function(e,a,t,n,l,r){Da("/compute_pools/"+e,{storage:a,network:t,failover:n},(function(){l(e)}),r)}(o,e,a,C.failover,T,W)},color:"info"},_.confirm)))},yl=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),kl={en:{createButton:"Create Compute Pool",tableTitle:"Compute Pools",name:"Name",cells:"Cells",storage:"Backend Storage",network:"Address Pool",failover:"FailOver",status:"Status",operates:"Operates",noPools:"No compute pool available",computePools:"Compute Pools"},cn:{createButton:"\u521b\u5efa\u8d44\u6e90\u6c60",tableTitle:"\u8ba1\u7b97\u8d44\u6e90\u6c60",name:"\u540d\u79f0",cells:"\u8d44\u6e90\u8282\u70b9",storage:"\u540e\u7aef\u5b58\u50a8",network:"\u5730\u5740\u6c60",failover:"\u6545\u969c\u5207\u6362",status:"\u72b6\u6001",operates:"\u64cd\u4f5c",noPools:"\u6ca1\u6709\u8ba1\u7b97\u8d44\u6e90\u6c60",computePools:"\u8ba1\u7b97\u8d44\u6e90\u6c60"}};var Cl=t(54),Sl=t.n(Cl),wl=t(71),Ol=t.n(wl),jl=Object(v.a)({},Dt,{},Z),Nl={en:{modify:"Modify",delete:"Delete",detail:"Detail"},cn:{modify:"\u4fee\u6539",delete:"\u5220\u9664",detail:"\u8be6\u60c5"}};function _l(e){var a=Object(h.a)(jl)(),t=e.lang,n=e.pool,l=e.onModify,r=e.onDelete,c=Nl[t],o=[{tips:c.modify,icon:Sl.a,handler:l},{tips:c.detail,icon:Ol.a,href:"/admin/address_pools/"+n.name},{tips:c.delete,icon:qt.a,handler:r}];return m.a.createElement(Wt.a,{className:a.tableBodyRow},m.a.createElement(Tt.a,{className:a.tableCell},n.name),m.a.createElement(Tt.a,{className:a.tableCell},n.gateway),m.a.createElement(Tt.a,{className:a.tableCell},n.addresses),m.a.createElement(Tt.a,{className:a.tableCell},n.allocated),m.a.createElement(Tt.a,{className:a.tableCell},o.map((function(e,a){var t,l=m.a.createElement(e.icon);return t=e.href?m.a.createElement(Xa.a,{to:e.href},m.a.createElement(oe.a,{color:"inherit"},l)):m.a.createElement(oe.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(n.name)}},l),m.a.createElement(ce.a,{title:e.tips,placement:"top",key:a},t)}))))}var Wl={en:{title:"Delete Address Pool",content:"Are you sure to delete address pool ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u5730\u5740\u8d44\u6e90\u6c60",content:"\u662f\u5426\u5220\u9664\u5730\u5740\u8d44\u6e90\u6c60 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Il(e){var a,t=e.lang,l=e.pool,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=Wl[t],p=function(e){d(e)},E=function(e){d(""),c(e)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t){Aa("/address_pools/"+e,(function(){a(e)}),t)}(l,E,p)},color:"info"},f.confirm)))}var Tl={en:{title:"Create Network Pool",name:"Name",gateway:"Gateway",dns1:"DNS1",dns2:"DNS2",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u5730\u5740\u8d44\u6e90\u6c60",name:"\u540d\u79f0",gateway:"\u7f51\u5173\u5730\u5740",dns1:"\u4e3bDNS",dns2:"\u526fDNS",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Dl(e){var a,t={name:"",gateway:"",dns1:"",dns2:""},l=e.lang,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=m.a.useState(t),p=Object(n.a)(f,2),E=p[0],g=p[1],b=Tl[l],h=function(e){d(e)},x=function(){d(""),g(t)},y=function(e){x(),c(e)},k=function(e){return function(a){var t=a.target.value;g((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},C=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.name,onChange:k("name"),value:E.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.gateway,onChange:k("gateway"),value:E.gateway,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.dns1,onChange:k("dns1"),value:E.dns1,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.dns2,onChange:k("dns2"),value:E.dns2,margin:"normal",fullWidth:!0})))));return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":b.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,b.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},C),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){x(),o()},color:"transparent",autoFocus:!0},b.cancel),m.a.createElement(be,{onClick:function(){var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");if(E.name)if(E.gateway)if(e.test(E.gateway))if(E.dns1)if(e.test(E.dns1)){var a=[E.dns1];if(E.dns2){if(!e.test(E.dns2))return void h("invalid secondary DNS format");a.push(E.dns2)}!function(e,a,t,n,l){Wa("/address_pools/"+e,{gateway:a,dns:t},(function(){n(e)}),l)}(E.name,E.gateway,a,y,h)}else h("invalid primary DNS format");else h("must specify primary DNS");else h("invalid gateway format");else h("must specify gateway");else h("must specify pool name")},color:"info"},b.confirm)))}var Al={en:{title:"Modify Address Pool",name:"Name",gateway:"Gateway",dns1:"DNS1",dns2:"DNS2",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u5730\u5740\u8d44\u6e90\u6c60",name:"\u540d\u79f0",gateway:"\u7f51\u5173\u5730\u5740",dns1:"\u4e3bDNS",dns2:"\u526fDNS",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Pl(e){var a,t,l={name:"",gateway:"",dns1:"",dns2:""},r=e.lang,c=e.pool,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(""),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(l),y=Object(n.a)(x,2),k=y[0],C=y[1],S=Al[r],w=function(e){h(e)},O=function(){h(""),C(l),p(!1)},j=function(e){O(),i(e)},N=function(e){return function(a){var t=a.target.value;C((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(c&&o&&!f){sa(c,(function(e){var a,t;0!==e.dns.length?(1===e.dns.length?a=e.dns[0]:2===e.dns.length&&(a=e.dns[0],t=e.dns[1]),C({name:e.name,gateway:e.gateway,dns1:a,dns2:t}),p(!0)):w("no DNS available for pool "+e)}),w)}}),[f,o,c]),a=f?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:S.name,value:c,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:S.gateway,onChange:N("gateway"),value:k.gateway,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:S.dns1,onChange:N("dns1"),value:k.dns1,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:S.dns2,onChange:N("dns2"),value:k.dns2,margin:"normal",fullWidth:!0}))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),t=b&&""!==b?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:b,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:o,"aria-labelledby":S.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,S.title+" "+c),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){O(),s()},color:"transparent",autoFocus:!0},S.cancel),m.a.createElement(be,{onClick:function(){var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");if(k.gateway)if(e.test(k.gateway))if(k.dns1)if(e.test(k.dns1)){var a=[k.dns1];if(k.dns2){if(!e.test(k.dns2))return void w("invalid secondary DNS format");a.push(k.dns2)}!function(e,a,t,n,l){Da("/address_pools/"+e,{gateway:a,dns:t},(function(){n(e)}),l)}(c,k.gateway,a,j,w)}else w("invalid primary DNS format");else w("must specify primary DNS");else w("invalid gateway format");else w("must specify gateway")},color:"info"},S.confirm)))}var Bl=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),Rl={en:{createButton:"Create Address Pool",tableTitle:"Address Pools",name:"Name",gateway:"Gateway",address:"Total Address",allocated:"Allocated Address",operates:"Operates",noResource:"No address pool available"},cn:{createButton:"\u521b\u5efa\u5730\u5740\u6c60",tableTitle:"\u5730\u5740\u8d44\u6e90\u6c60",name:"\u540d\u79f0",gateway:"\u7f51\u5173",address:"\u5730\u5740\u6570\u91cf",allocated:"\u5df2\u5206\u914d\u5730\u5740",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u5730\u5740\u6c60"}};function Ml(e){var a=Bl(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(!1),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(!1),b=Object(n.a)(g,2),h=b[0],v=b[1],x=m.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState("warning"),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(""),_=Object(n.a)(N,2),W=_[0],I=_[1],T=function(){I("")},D=m.a.useCallback((function(e){j("warning"),I(e),setTimeout(T,3e3)}),[j,I]),A=m.a.useCallback((function(){ia(c,(function(e){D(e),Ge()}))}),[D]),P=function(e){j("info"),I(e),Oa(e),setTimeout(T,3e3)},B=function(e){E(!0),C(e)},R=function(){E(!1)},M=function(e){v(!0),C(e)},F=function(){v(!1)},z=function(){u(!1)};if(m.a.useEffect((function(){A()}),[A]),null===Ve())return $e();var H,L=e.lang,q=Rl[L];return H=null===r?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===r.length?m.a.createElement(St,null,q.noResource):m.a.createElement(Pt,{color:"primary",headers:[q.name,q.gateway,q.address,q.allocated,q.operates],rows:r.map((function(e){return m.a.createElement(_l,{key:e.name,pool:e,lang:L,onModify:B,onDelete:M})}))}),m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:3,sm:3,md:3},m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){u(!0)}},m.a.createElement(mt.a,null),q.createButton)))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:a.cardTitleWhite},q.tableTitle)),m.a.createElement(kt,null,H))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:O,message:W,open:""!==W,closeNotification:T,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Dl,{lang:L,open:s,onSuccess:function(e){z(),P("pool "+e+" created"),A()},onCancel:z})),m.a.createElement(Ae,null,m.a.createElement(Pl,{lang:L,open:p,pool:k,onSuccess:function(e){R(),P("pool "+e+" modified"),A()},onCancel:R})),m.a.createElement(Ae,null,m.a.createElement(Il,{lang:L,open:h,pool:k,onSuccess:function(e){F(),P("pool "+e+" deleted"),A()},onCancel:F})))}var Fl=t(72),zl=t.n(Fl),Hl=t(77),Ll=t.n(Hl),ql=Object(v.a)({},Dt,{},Z),Ul={en:{detail:"Detail",remove:"Remove"},cn:{detail:"\u8be6\u60c5",remove:"\u5220\u9664"}};function Vl(e){var a=Object(h.a)(ql)(),t=e.lang,n=e.poolName,l=e.rangeType,r=e.range,c=e.onRemove,o=Ul[t],i=[{tips:o.detail,icon:Ol.a,href:"/admin/address_pools/"+n+"/"+l+"/ranges/"+r.start},{tips:o.remove,icon:qt.a,handler:c}];return m.a.createElement(Wt.a,{className:a.tableBodyRow},m.a.createElement(Tt.a,{className:a.tableCell},r.start),m.a.createElement(Tt.a,{className:a.tableCell},r.end),m.a.createElement(Tt.a,{className:a.tableCell},r.netmask),m.a.createElement(Tt.a,{className:a.tableCell},i.map((function(e,a){var t,c=m.a.createElement(e.icon);return t=e.href?m.a.createElement(Xa.a,{to:e.href},m.a.createElement(oe.a,{color:"inherit"},c)):m.a.createElement(oe.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(n,l,r.start)}},c),m.a.createElement(ce.a,{title:e.tips,placement:"top",key:a},t)}))))}var Gl={en:{title:"Remove Address Range",content:"Are you sure to remove address range ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u5730\u5740\u6bb5",content:"\u662f\u5426\u5220\u9664\u5730\u5740\u6bb5 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function $l(e){var a,t=e.lang,l=e.open,r=e.poolName,c=e.rangeType,o=e.startAddress,i=e.onSuccess,s=e.onCancel,u=m.a.useState(""),d=Object(n.a)(u,2),f=d[0],p=d[1],E=Gl[t],g=function(e){p(e)},b=function(e){p(""),i(e,c,o)};return a=f&&""!==f?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:f,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:l,"aria-labelledby":E.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,E.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},E.content+o),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){p(""),s()},color:"transparent",autoFocus:!0},E.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n,l){Aa("/address_pools/"+e+"/"+a+"/ranges/"+t,(function(){n(t,e)}),l)}(r,c,o,b,g)},color:"info"},E.confirm)))}var Zl=t(554),Kl=t(537),Jl=t(538),Ql=t(519),Yl=t(478),Xl={en:{title:"Add Address Range",type:"Range Type",internal:"Internal Address",external:"External Address",start:"Start Address",end:"End Address",netmask:"Netmask",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6dfb\u52a0\u5730\u5740\u6bb5",type:"\u7c7b\u578b",internal:"\u5185\u90e8\u5730\u5740\u6bb5",external:"\u5916\u90e8\u5730\u5740\u6bb5",start:"\u8d77\u59cb\u5730\u5740",end:"\u7ed3\u675f\u5730\u5740",netmask:"\u5b50\u7f51\u63a9\u7801",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function er(e){var a,t={type:"internal",start:"",end:"",netmask:""},l=e.lang,r=e.poolName,c=e.open,o=e.onSuccess,i=e.onCancel,s=m.a.useState(""),u=Object(n.a)(s,2),d=u[0],f=u[1],p=m.a.useState(t),E=Object(n.a)(p,2),g=E[0],b=E[1],h=Xl[l],x=function(e){f(e)},y=function(){f(""),b(t)},k=function(){y(),o(r,g.type,g.start)},C=function(e){return function(a){var t=a.target.value;b((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},S=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},h.type),m.a.createElement(Kl.a,{name:"type",value:g.type,onChange:C("type"),row:!0},m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,null,m.a.createElement(Jl.a,{value:"internal",control:m.a.createElement(Zl.a,null),label:h.internal})),m.a.createElement(te.a,null,m.a.createElement(Jl.a,{value:"external",control:m.a.createElement(Zl.a,{disabled:!0}),label:h.external})))))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:h.start,onChange:C("start"),value:g.start,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:h.end,onChange:C("end"),value:g.end,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:h.netmask,onChange:C("netmask"),value:g.netmask,margin:"normal",required:!0,fullWidth:!0})))));return a=d&&""!==d?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:d,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":h.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,h.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},S),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){y(),i()},color:"transparent",autoFocus:!0},h.cancel),m.a.createElement(be,{onClick:function(){var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");g.start?e.test(g.start)?g.end?e.test(g.end)?g.netmask?e.test(g.netmask)?function(e,a,t,n,l,r,c){Wa("/address_pools/"+e+"/"+a+"/ranges/"+t,{end:n,netmask:l},(function(){r(t,e)}),c)}(r,g.type,g.start,g.end,g.netmask,k,x):x("invalid netmask format"):x("must specify netmask"):x("invalid end address format"):x("must specify end address"):x("invalid start start format"):x("must specify start address")},color:"info"},h.confirm)))}var ar=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),tr={en:{back:"Back",createButton:"Add Address Range",tableTitle:"Address Pool Status",internal:"Internal Address Range",allocated:"Allocated Address",startAddress:"Start Address",endAddress:"End Address",netmask:"Netmask",noInternalRange:"No internal range available",noAllocated:"No address allocated",operates:"Operates",allocatedAddress:"Allocated Address",instance:"Instance"},cn:{back:"\u8fd4\u56de",createButton:"\u6dfb\u52a0\u5730\u5740\u6bb5",tableTitle:"\u5730\u5740\u8d44\u6e90\u6c60\u72b6\u6001",internal:"\u5185\u90e8\u5730\u5740\u6bb5",allocated:"\u5df2\u5206\u914d\u5730\u5740",startAddress:"\u5f00\u59cb\u5730\u5740",endAddress:"\u7ed3\u675f\u5730\u5740",netmask:"\u5b50\u7f51\u63a9\u7801",noInternalRange:"\u6ca1\u6709\u5185\u90e8\u5730\u5740\u6bb5",noAllocated:"\u672a\u5206\u914d\u5730\u5740",operates:"\u64cd\u4f5c",allocatedAddress:"\u5df2\u5206\u914d\u5730\u5740",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b"}};function nr(e){var a=e.match.params.pool,t=ar(),l=m.a.useState(null),r=Object(n.a)(l,2),c=r[0],o=r[1],i=m.a.useState(!1),s=Object(n.a)(i,2),u=s[0],d=s[1],f=m.a.useState(!1),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState({pool:"",type:"",start:""}),h=Object(n.a)(b,2),v=h[0],x=h[1],y=m.a.useState("warning"),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState(""),O=Object(n.a)(w,2),j=O[0],N=O[1],_=function(){N("")},W=m.a.useCallback((function(e){S("warning"),N(e),setTimeout(_,3e3)}),[S,N]),I=m.a.useCallback((function(){sa(a,o,(function(e){W(e),Ge()}))}),[W,a]),T=function(e){S("info"),N(e),Oa(e),setTimeout(_,3e3)},D=function(e,a,t){g(!0),x({pool:e,type:a,start:t})},A=function(){g(!1)},P=function(){d(!1)};if(m.a.useEffect((function(){I()}),[I]),null===Ve())return $e();var B,R=e.lang,M=tr[R];if(null===c)B=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});else{var F;F=c.ranges&&0!==c.ranges.length?m.a.createElement(Pt,{color:"primary",headers:[M.startAddress,M.endAddress,M.netmask,M.operates],rows:c.ranges.map((function(e,t){return m.a.createElement(Vl,{key:t,poolName:a,lang:R,rangeType:"internal",range:e,onRemove:D})}))}):m.a.createElement(St,null,M.noInternalRange);var z,H=m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:t.cardTitleWhite},M.internal)),m.a.createElement(kt,null,F));z=c.allocated&&0!==c.allocated.length?m.a.createElement(Pt,{color:"primary",headers:[M.allocatedAddress,M.instance,""],rows:c.allocated.map((function(e,a){return m.a.createElement(Wt.a,{className:t.tableBodyRow,key:a},m.a.createElement(Tt.a,{className:t.tableCell},e.address),m.a.createElement(Tt.a,{className:t.tableCell},e.instance),m.a.createElement(Tt.a,{className:t.tableCell},m.a.createElement(Xa.a,{to:"/admin/instances/details/"+e.instance},m.a.createElement(oe.a,{color:"inherit"},m.a.createElement(Ll.a,null)))))}))}):m.a.createElement(St,null,M.noAllocated);var L=m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:t.cardTitleWhite},M.allocated)),m.a.createElement(kt,null,z));B=m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},H),m.a.createElement(Ae,{xs:12},L))}var q=[m.a.createElement(be,{key:"back",size:"sm",color:"info",round:!0,onClick:function(){e.history.goBack()}},m.a.createElement(zl.a,null),M.back),m.a.createElement(be,{key:"add",size:"sm",color:"info",round:!0,onClick:function(){d(!0)}},m.a.createElement(mt.a,null),M.createButton)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},q.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12},B),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:C,message:j,open:""!==j,closeNotification:_,close:!0})),m.a.createElement(Ae,null,m.a.createElement(er,{lang:R,poolName:a,open:u,onSuccess:function(e,a,t){P(),T('range "'+t+'" of '+a+" address added"),I()},onCancel:P})),m.a.createElement(Ae,null,m.a.createElement($l,{lang:R,open:E,poolName:v.pool,rangeType:v.type,startAddress:v.start,onSuccess:function(e,a,t){A(),T('range "'+t+'" of '+a+" address removed"),I()},onCancel:A})))}var lr=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),rr={en:{back:"Back",internal:"Address Range Status",allocated:"Allocated Address",startAddress:"Start Address",endAddress:"End Address",netmask:"Netmask",noAllocated:"No address allocated",allocatedAddress:"Allocated Address",instance:"Instance"},cn:{back:"\u8fd4\u56de",internal:"\u5730\u5740\u6bb5\u72b6\u6001",allocated:"\u5df2\u5206\u914d\u5730\u5740",startAddress:"\u5f00\u59cb\u5730\u5740",endAddress:"\u7ed3\u675f\u5730\u5740",netmask:"\u5b50\u7f51\u63a9\u7801",noAllocated:"\u672a\u5206\u914d\u5730\u5740",allocatedAddress:"\u5df2\u5206\u914d\u5730\u5740",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b"}};function cr(e){var a=e.match.params.pool,t=e.match.params.type,l=e.match.params.start,r=lr(),c=m.a.useState(null),o=Object(n.a)(c,2),i=o[0],s=o[1],u=m.a.useState("warning"),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(""),g=Object(n.a)(E,2),b=g[0],h=g[1],v=function(){h("")},x=m.a.useCallback((function(e){p("warning"),h(e),setTimeout(v,3e3)}),[p,h]),y=m.a.useCallback((function(){!function(e,a,t,n,l){Na("/address_pools/"+e+"/"+a+"/ranges/"+t,n,l)}(a,t,l,s,(function(e){x(e),Ge()}))}),[x,a,t,l]);if(m.a.useEffect((function(){y()}),[y]),null===Ve())return $e();var k,C=e.lang,S=rr[C];if(null===i)k=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});else{var w,O=m.a.createElement(Pt,{color:"primary",headers:[S.startAddress,S.endAddress,S.netmask],rows:[m.a.createElement(Wt.a,{className:r.tableBodyRow,key:"current"},m.a.createElement(Tt.a,{className:r.tableCell},l),m.a.createElement(Tt.a,{className:r.tableCell},i.end),m.a.createElement(Tt.a,{className:r.tableCell},i.netmask))]}),j=m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:r.cardTitleWhite},S.internal)),m.a.createElement(kt,null,O));w=i.allocated&&0!==i.allocated.length?m.a.createElement(Pt,{color:"primary",headers:[S.allocatedAddress,S.instance,""],rows:i.allocated.map((function(e,a){return m.a.createElement(Wt.a,{className:r.tableBodyRow,key:a},m.a.createElement(Tt.a,{className:r.tableCell},e.address),m.a.createElement(Tt.a,{className:r.tableCell},e.instance),m.a.createElement(Tt.a,{className:r.tableCell},m.a.createElement(Xa.a,{to:"/admin/instances/details/"+e.instance},m.a.createElement(oe.a,{color:"inherit"},m.a.createElement(Ll.a,null)))))}))}):m.a.createElement(St,null,S.noAllocated);var N=m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:r.cardTitleWhite},S.allocated)),m.a.createElement(kt,null,w));k=m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},j),m.a.createElement(Ae,{xs:12},N))}var _=[m.a.createElement(be,{key:"back",size:"sm",color:"info",round:!0,onClick:function(){e.history.goBack()}},m.a.createElement(zl.a,null),S.back)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},_.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12},k),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:f,message:b,open:""!==b,closeNotification:v,close:!0})))}var or=Object(v.a)({},Dt,{},Z),ir={en:{modify:"Modify",delete:"Delete"},cn:{modify:"\u4fee\u6539",delete:"\u5220\u9664"}};function sr(e){var a=Object(h.a)(or)(),t=e.lang,n=e.pool,l=e.onModify,r=e.onDelete,c=ir[t],o=[{tips:c.modify,icon:Vt.a,handler:l},{tips:c.delete,icon:qt.a,handler:r}];return m.a.createElement(Wt.a,{className:a.tableBodyRow},m.a.createElement(Tt.a,{className:a.tableCell},n.name),m.a.createElement(Tt.a,{className:a.tableCell},n.type),m.a.createElement(Tt.a,{className:a.tableCell},n.host),m.a.createElement(Tt.a,{className:a.tableCell},n.target),m.a.createElement(Tt.a,{className:a.tableCell},o.map((function(e,a){var t=m.a.createElement(e.icon);return m.a.createElement(ce.a,{title:e.tips,placement:"top",key:a},m.a.createElement(oe.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(n.name)}},t))}))))}var mr={en:{title:"Delete Storage Pool",content:"Are you sure to delete storage pool ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u5b58\u50a8\u8d44\u6e90\u6c60",content:"\u662f\u5426\u5220\u9664\u5b58\u50a8\u8d44\u6e90\u6c60 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},ur=function(e){var a,t=e.lang,l=e.pool,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=mr[t],p=function(e){d(e)},E=function(e){d(""),c(e)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t){Aa("/storage_pools/"+e,(function(){a(e)}),t)}(l,E,p)},color:"info"},f.confirm)))},dr={en:{title:"Create Storage Pool",name:"Name",type:"Type",host:"Host",target:"Target",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u5b58\u50a8\u8d44\u6e90\u6c60",name:"\u540d\u79f0",type:"\u7c7b\u578b",host:"\u4e3b\u673a",target:"\u76ee\u6807",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function fr(e){var a,t={name:"",type:"nfs",host:"",target:""},l=e.lang,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=m.a.useState(t),p=Object(n.a)(f,2),E=p[0],g=p[1],b={type:[{value:"nfs",label:"NFS"}]},h=dr[l],x=function(e){d(e)},y=function(){d(""),g(t)},k=function(e){y(),c(e)},C=function(e){return function(a){var t=a.target.value;g((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},S=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:h.name,onChange:C("name"),value:E.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"type"},h.type),m.a.createElement(tn.a,{value:E.type,onChange:C("type"),inputProps:{name:"type",id:"type"},fullWidth:!0},b.type.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.label)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:h.host,onChange:C("host"),value:E.host,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:h.target,onChange:C("target"),value:E.target,margin:"normal",required:!0,fullWidth:!0})))));return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":h.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,h.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},S),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){y(),o()},color:"transparent",autoFocus:!0},h.cancel),m.a.createElement(be,{onClick:function(){if(E.name)if(E.type)if(E.host)if(E.target){var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)+([A-Za-z]|[A-Za-z][A-Za-z0-9-]*[A-Za-z0-9])$"),a=new RegExp("^(/[^/ ]*)+/?$");e.test(E.host)?a.test(E.target)?function(e,a,t,n,l,r){Wa("/storage_pools/"+e,{type:a,host:t,target:n},(function(){l(e)}),r)}(E.name,E.type,E.host,E.target,k,x):x("invalid target format"):x("invalid host format")}else x("must specify storage target");else x("must specify storage host");else x("must specify storage type");else x("must specify storage name")},color:"info"},h.confirm)))}var pr={en:{title:"Modify Storage Pool",name:"Name",type:"Type",host:"Host",target:"Target",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u5b58\u50a8\u8d44\u6e90\u6c60",name:"\u540d\u79f0",type:"\u7c7b\u578b",host:"\u4e3b\u673a",target:"\u76ee\u6807",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Er(e){var a,t,l={name:"",type:"",host:"",target:""},r=e.lang,c=e.pool,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(""),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(l),y=Object(n.a)(x,2),k=y[0],C=y[1],S={type:[{value:"nfs",label:"NFS"}]},w=pr[r],O=function(e){h(e)},j=function(){h(""),C(l),p(!1)},N=function(e){j(),i(e)},_=function(e){return function(a){var t=a.target.value;C((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(c&&o&&!f){!function(e,a,t){Na("/storage_pools/"+e,a,t)}(c,(function(e){C({type:e.type,host:e.host,target:e.target}),p(!0)}),O)}}),[f,o,c]),a=f?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:w.name,value:c,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"type"},w.type),m.a.createElement(tn.a,{value:k.type,onChange:_("type"),inputProps:{name:"type",id:"type"},fullWidth:!0},S.type.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.label)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:w.host,onChange:_("host"),value:k.host,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:w.target,onChange:_("target"),value:k.target,margin:"normal",required:!0,fullWidth:!0}))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),t=b&&""!==b?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:b,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:o,"aria-labelledby":w.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,w.title+" "+c),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){j(),s()},color:"transparent",autoFocus:!0},w.cancel),m.a.createElement(be,{onClick:function(){if(k.type)if(k.host)if(k.target){var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)+([A-Za-z]|[A-Za-z][A-Za-z0-9-]*[A-Za-z0-9])$"),a=new RegExp("^(/[^/ ]*)+/?$");e.test(k.host)?a.test(k.target)?function(e,a,t,n,l,r){Da("/storage_pools/"+e,{type:a,host:t,target:n},(function(){l(e)}),r)}(c,k.type,k.host,k.target,N,O):O("invalid target format"):O("invalid host format")}else O("must specify storage target");else O("must specify storage host");else O("must specify storage type")},color:"info"},w.confirm)))}var gr=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),br={en:{createButton:"Create Storage Pool",tableTitle:"Storage Pools",name:"Name",type:"Type",host:"Host",target:"Target",operates:"Operates",noResource:"No storage pool available"},cn:{createButton:"\u521b\u5efa\u5b58\u50a8\u8d44\u6e90\u6c60",tableTitle:"\u5b58\u50a8\u8d44\u6e90\u6c60",name:"\u540d\u79f0",type:"\u7c7b\u578b",host:"\u4e3b\u673a",target:"\u76ee\u6807",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u8ba1\u7b97\u8d44\u6e90\u6c60"}};var hr=t(157),vr=t.n(hr),xr=t(556),yr={en:{modify:"Modify Info",delete:"Delete Image",createTime:"Created Time",modifyTime:"Modified Time"},cn:{modify:"\u4fee\u6539\u955c\u50cf\u4fe1\u606f",delete:"\u5220\u9664\u955c\u50cf",createTime:"\u521b\u5efa\u65f6\u95f4",modifyTime:"\u4fee\u6539\u65f6\u95f4"}};function kr(e){var a=e.lang,t=e.image,n=e.onModify,l=e.onDelete,r=yr[a],c={tips:r.delete,icon:qt.a,handler:l},o=[{tips:r.modify,icon:Vt.a,handler:n},c],i=Ze(t.size);return m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",null,t.name),m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,{m:1},i),t.tags.map((function(e){return m.a.createElement(te.a,{m:0,p:1,key:e},m.a.createElement(xr.a,{label:e}))})))),m.a.createElement(kt,null,m.a.createElement(ie.a,{variant:"body1",component:"p",noWrap:!0},t.description),m.a.createElement("p",null,r.createTime+": "+t.create_time),m.a.createElement("p",null,r.modifyTime+": "+t.modify_time),o.map((function(e,a){var n,l=m.a.createElement(e.icon);return n=e.href?m.a.createElement(Xa.a,{to:e.href},m.a.createElement(oe.a,{color:"inherit"},l)):m.a.createElement(oe.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(t.id)}},l),m.a.createElement(ce.a,{title:e.tips,placement:"top",key:a},n)}))))}var Cr={en:{title:"Delete Media Image",content:"Are you sure to delete media image ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u5149\u76d8\u955c\u50cf",content:"\u662f\u5426\u5220\u9664\u5149\u76d8\u955c\u50cf ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Sr(e){var a,t=e.lang,l=e.imageID,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=Cr[t],p=function(e){d(e)},E=function(){d(""),c(l)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){ba(l,E,p)},color:"info"},f.confirm)))}var wr=t(479),Or=t(552),jr=t(539),Nr={en:{title:"Upload New Image",name:"Image Name",description:"Description",tags:"Tags",file:"Image File",choose:"Choose File",cancel:"Cancel",confirm:"Upload"},cn:{title:"\u4e0a\u4f20\u65b0\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",file:"\u955c\u50cf\u6587\u4ef6",choose:"\u6d4f\u89c8\u6587\u4ef6",cancel:"\u53d6\u6d88",confirm:"\u4e0a\u4f20"}},_r=function(e){return m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:0},m.a.createElement(Ie.a,{container:!0},e.children)))};function Wr(e){var a,t,l,r={name:"",description:"",tags:new Map,file:null},c=e.lang,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(!1),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(0),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState(""),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(r),_=Object(n.a)(N,2),W=_[0],I=_[1],T=m.a.useState({tags:[]}),D=Object(n.a)(T,2),A=D[0],P=D[1],B=Nr[c],R=function(e){j(e)},M=function(){j(""),I(r),p(!1),h(!1),C(0)},F=function(e){M(),i(e)},z=function(e){C(e)},H=function(e){return function(a){var t=a.target.value;I((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(o&&!f){P({tags:[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]]}),p(!0)}}),[f,o]),a=f?b?m.a.createElement(Ie.a,{container:!0},m.a.createElement(_r,null,m.a.createElement(Ae,{xs:12},m.a.createElement(jr.a,{variant:"determinate",value:k}))),m.a.createElement(_r,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ie.a,{align:"center"},k.toFixed(2)+"%")))):m.a.createElement(Ie.a,{container:!0},m.a.createElement(_r,null,m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.name,onChange:H("name"),value:W.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(_r,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.description,onChange:H("description"),value:W.description,margin:"normal",rowsMax:"4",required:!0,fullWidth:!0,multiline:!0})))),m.a.createElement(_r,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},B.tags),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},A.tags.map((function(e){var a,t,n=e[0],l=e[1];return a=!!W.tags.has(n)&&W.tags.get(n),m.a.createElement(Ae,{xs:6,sm:3,key:n},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:a,onChange:(t=n,function(e){var a=e.target.checked;I((function(e){return Object(v.a)({},e,{tags:e.tags.set(t,a)})}))}),value:n}),label:l}))})))))))),m.a.createElement(_r,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.file,onChange:(t="file",function(e){var a=e.target.files[0];I((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),margin:"normal",type:"file",required:!0,fullWidth:!0}))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=O&&""!==O?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:O,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:o,"aria-labelledby":B.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,B.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){M(),s()},color:"transparent",autoFocus:!0},B.cancel),m.a.createElement(be,{onClick:function(){var e=W.name;if(""!==e){var a=W.description;if(""!==a)if(W.tags){var t=[];if(W.tags.forEach((function(e,a){e&&t.push(a)})),0!==t.length)if(W.file){!function(e,a,t,n,l){var r=Ve();if(null!==r){Wa("/media_images/",{name:e,description:a,tags:t,owner:r.user,group:r.group},(function(e){n(e.id)}),l)}else l("session expired")}(e,a,t,(function(a){var t=function(){R("new image "+e+" deleted")},n=function(a){R("delete new image "+e+" fail: "+a)};h(!0),function(e,a,t,n,l){Ba("/media_images/"+e+"/file/","image",a,t,n,l)}(a,W.file,z,F,(function(){ba(a,t,n)}))}),R)}else R("must specify upload file");else R("image tags required")}else R("image tags required");else R("desciption required")}else R("must specify image name")},color:"info"},B.confirm)))}var Ir={en:{title:"Modify Media Image",name:"Image Name",description:"Description",tags:"Tags",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u955c\u50cf\u4fe1\u606f",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}},Tr=function(e){return m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:0},m.a.createElement(Ie.a,{container:!0},e.children)))};function Dr(e){var a,t,l={name:"",description:"",tags:new Map},r=e.lang,c=e.imageID,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(""),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(l),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState({tags:[]}),w=Object(n.a)(S,2),O=w[0],j=w[1],N=Ir[r],_=function(e){h(e)},W=function(){h(""),C(l),p(!1)},I=function(e){W(),i(e)},T=function(e){return function(a){var t=a.target.value;C((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(o&&!f){var e=[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]];!function(e,a,t){Na("/media_images/"+e,a,t)}(c,(function(a){j({tags:e});var t=new Map;a.tags&&a.tags.forEach((function(e){t.set(e,!0)})),C({name:a.name,description:a.description,tags:t}),p(!0)}),_)}}),[f,o,c]),a=f?m.a.createElement(Ie.a,{container:!0},m.a.createElement(Tr,null,m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:N.name,onChange:T("name"),value:k.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(Tr,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:N.description,onChange:T("description"),value:k.description,margin:"normal",rowsMax:"4",required:!0,fullWidth:!0,multiline:!0})))),m.a.createElement(Tr,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},N.tags),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},O.tags.map((function(e){var a,t,n=e[0],l=e[1];return a=!!k.tags.has(n)&&k.tags.get(n),m.a.createElement(Ae,{xs:6,sm:3,key:n},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:a,onChange:(t=n,function(e){var a=e.target.checked;C((function(e){return Object(v.a)({},e,{tags:e.tags.set(t,a)})}))}),value:n}),label:l}))}))))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),t=b&&""!==b?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:b,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:o,"aria-labelledby":N.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,N.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){W(),s()},color:"transparent",autoFocus:!0},N.cancel),m.a.createElement(be,{onClick:function(){var e=k.name;if(""!==e){var a=k.description;if(""!==a)if(k.tags){var t=[];k.tags.forEach((function(e,a){e&&t.push(a)})),0!==t.length?function(e,a,t,n,l,r){var c=Ve();if(null!==c){Da("/media_images/"+e,{name:a,description:t,tags:n,owner:c.user,group:c.group},(function(){l(e)}),r)}else r("session expired")}(c,e,a,t,I,_):_("image tags required")}else _("image tags required");else _("desciption required")}else _("must specify image name")},color:"info"},N.confirm)))}var Ar={en:{uploadButton:"Upload New ISO",noResource:"No images available"},cn:{uploadButton:"\u4e0a\u4f20\u65b0\u5149\u76d8\u955c\u50cf",noResource:"\u6ca1\u6709\u5149\u76d8\u955c\u50cf"}};var Pr={en:{modify:"Modify Info",delete:"Delete Image",createTime:"Created Time",modifyTime:"Modified Time"},cn:{modify:"\u4fee\u6539\u955c\u50cf\u4fe1\u606f",delete:"\u5220\u9664\u955c\u50cf",createTime:"\u521b\u5efa\u65f6\u95f4",modifyTime:"\u4fee\u6539\u65f6\u95f4"}};function Br(e){var a=e.lang,t=e.image,n=e.onModify,l=e.onDelete,r=Pr[a],c={tips:r.delete,icon:qt.a,handler:l},o=[{tips:r.modify,icon:Vt.a,handler:n},c],i=Ze(t.size);return m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",null,t.name),m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,{m:1},i),t.tags.map((function(e){return m.a.createElement(te.a,{m:0,p:1,key:e},m.a.createElement(xr.a,{label:e}))})))),m.a.createElement(kt,null,m.a.createElement(ie.a,{variant:"body1",component:"p",noWrap:!0},t.description),m.a.createElement("p",null,r.createTime+": "+t.create_time),m.a.createElement("p",null,r.modifyTime+": "+t.modify_time),o.map((function(e,a){var n,l=m.a.createElement(e.icon);return n=e.href?m.a.createElement(Xa.a,{to:e.href},m.a.createElement(oe.a,{color:"inherit"},l)):m.a.createElement(oe.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(t.id)}},l),m.a.createElement(ce.a,{title:e.tips,placement:"top",key:a},n)}))))}var Rr={en:{title:"Delete Disk Image",content:"Are you sure to delete disk image ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u78c1\u76d8\u955c\u50cf",content:"\u662f\u5426\u5220\u9664\u78c1\u76d8\u955c\u50cf ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Mr(e){var a,t=e.lang,l=e.imageID,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=Rr[t],p=function(e){d(e)},E=function(){d(""),c(l)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){ya(l,E,p)},color:"info"},f.confirm)))}var Fr={en:{title:"Upload New Image",name:"Image Name",description:"Description",tags:"Tags",file:"Image File",choose:"Choose File",cancel:"Cancel",confirm:"Upload"},cn:{title:"\u4e0a\u4f20\u65b0\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",file:"\u955c\u50cf\u6587\u4ef6",choose:"\u6d4f\u89c8\u6587\u4ef6",cancel:"\u53d6\u6d88",confirm:"\u4e0a\u4f20"}};function zr(e){var a,t,l,r={name:"",description:"",tags:new Map,file:null},c=e.lang,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(!1),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(0),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState(""),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(r),_=Object(n.a)(N,2),W=_[0],I=_[1],T=m.a.useState({tags:[]}),D=Object(n.a)(T,2),A=D[0],P=D[1],B=Fr[c],R=function(e){j(e)},M=function(){j(""),I(r),p(!1),h(!1),C(0)},F=function(e){M(),i(e)},z=function(e){C(e)},H=function(e){return function(a){var t=a.target.value;I((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(o&&!f){P({tags:[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]]}),p(!0)}}),[f,o]),a=f?b?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(jr.a,{variant:"determinate",value:k}))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ie.a,{align:"center"},k.toFixed(2)+"%")))):m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.name,onChange:H("name"),value:W.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.description,onChange:H("description"),value:W.description,margin:"normal",rowsMax:"4",required:!0,fullWidth:!0,multiline:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},B.tags),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},A.tags.map((function(e){var a,t,n=e[0],l=e[1];return a=!!W.tags.has(n)&&W.tags.get(n),m.a.createElement(Ae,{xs:6,sm:3,key:n},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:a,onChange:(t=n,function(e){var a=e.target.checked;I((function(e){return Object(v.a)({},e,{tags:e.tags.set(t,a)})}))}),value:n}),label:l}))})))))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.file,onChange:(t="file",function(e){var a=e.target.files[0];I((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),margin:"normal",type:"file",required:!0,fullWidth:!0}))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=O&&""!==O?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:O,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:o,"aria-labelledby":B.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,B.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){M(),s()},color:"transparent",autoFocus:!0},B.cancel),m.a.createElement(be,{onClick:function(){var e=W.name;if(""!==e){var a=W.description;if(""!==a)if(W.tags){var t=[];if(W.tags.forEach((function(e,a){e&&t.push(a)})),0!==t.length)if(W.file){xa(e,null,a,t,(function(a){var t=function(){R("new image "+e+" deleted")},n=function(a){R("delete new image "+e+" fail: "+a)};h(!0),function(e,a,t,n,l){Ba("/disk_images/"+e+"/file/","image",a,t,n,l)}(a,W.file,z,F,(function(){ya(a,t,n)}))}),R)}else R("must specify upload file");else R("image tags required")}else R("image tags required");else R("desciption required")}else R("must specify image name")},color:"info"},B.confirm)))}var Hr={en:{title:"Modify Disk Image",name:"Image Name",description:"Description",tags:"Tags",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u955c\u50cf\u4fe1\u606f",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}},Lr=function(e){return m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:0},m.a.createElement(Ie.a,{container:!0},e.children)))};function qr(e){var a,t,l={name:"",description:"",tags:new Map},r=e.lang,c=e.imageID,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(""),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(l),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState({tags:[]}),w=Object(n.a)(S,2),O=w[0],j=w[1],N=Hr[r],_=function(e){h(e)},W=function(){h(""),C(l),p(!1)},I=function(e){W(),i(e)},T=function(e){return function(a){var t=a.target.value;C((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(o&&!f){var e=[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]];va(c,(function(a){j({tags:e});var t=new Map;a.tags&&a.tags.forEach((function(e){t.set(e,!0)})),C({name:a.name,description:a.description,tags:t}),p(!0)}),_)}}),[f,o,c]),a=f?m.a.createElement(Ie.a,{container:!0},m.a.createElement(Lr,null,m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:N.name,onChange:T("name"),value:k.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(Lr,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:N.description,onChange:T("description"),value:k.description,margin:"normal",rowsMax:"4",required:!0,fullWidth:!0,multiline:!0})))),m.a.createElement(Lr,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},N.tags),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},O.tags.map((function(e){var a,t,n=e[0],l=e[1];return a=!!k.tags.has(n)&&k.tags.get(n),m.a.createElement(Ae,{xs:6,sm:3,key:n},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:a,onChange:(t=n,function(e){var a=e.target.checked;C((function(e){return Object(v.a)({},e,{tags:e.tags.set(t,a)})}))}),value:n}),label:l}))}))))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),t=b&&""!==b?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:b,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:o,"aria-labelledby":N.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,N.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){W(),s()},color:"transparent",autoFocus:!0},N.cancel),m.a.createElement(be,{onClick:function(){var e=k.name;if(""!==e){var a=k.description;if(""!==a)if(k.tags){var t=[];k.tags.forEach((function(e,a){e&&t.push(a)})),0!==t.length?function(e,a,t,n,l,r){var c=Ve();if(null!==c){Da("/disk_images/"+e,{name:a,description:t,tags:n,owner:c.user,group:c.group},(function(){l(e)}),r)}else r("session expired")}(c,e,a,t,I,_):_("image tags required")}else _("image tags required");else _("desciption required")}else _("must specify image name")},color:"info"},N.confirm)))}var Ur={en:{title:"Build New Image",name:"Image Name",description:"Description",tags:"Tags",pool:"Compute Pool",guest:"Source Instance",cancel:"Cancel",confirm:"Build"},cn:{title:"\u6784\u5efa\u65b0\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",pool:"\u8d44\u6e90\u6c60",guest:"\u6e90\u4e91\u4e3b\u673a",cancel:"\u53d6\u6d88",confirm:"\u4e0a\u4f20"}};function Vr(e){var a,t,l={name:"",description:"",tags:new Map,pool:"",guest:""},r=e.lang,c=e.open,o=e.onSuccess,i=e.onCancel,s=m.a.useState(!1),u=Object(n.a)(s,2),d=u[0],f=u[1],p=m.a.useState(!1),E=Object(n.a)(p,2),g=E[0],b=E[1],h=m.a.useState(0),x=Object(n.a)(h,2),y=x[0],k=x[1],C=m.a.useState(""),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState(l),N=Object(n.a)(j,2),_=N[0],W=N[1],I=m.a.useState({tags:[],pools:[],guests:[]}),T=Object(n.a)(I,2),D=T[0],A=T[1],P=Ur[r],B=function(e){O(e)},R=function(e){return function(a){ya(e),B(a)}},M=function(){O(""),W(l),f(!1),b(!1),k(0)},F=function e(a,t){return function(n){n.created?function(e){M(),o(e)}(a):(k(n.progress),setTimeout((function(){va(a,e(a,t),R(a))}),1e3))}},z=function(e){return function(a){var t=a.target.value;W((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(c&&!d){var e=[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]];la((function(a){var t=[];a.forEach((function(e){t.push(e.name)})),A((function(a){return{tags:e,pools:t,guests:[]}})),W((function(e){return Object(v.a)({},e,{pool:"",guest:""})})),f(!0)}),B)}}),[d,c]),a=d?g?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(jr.a,{variant:"determinate",value:y}))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ie.a,{align:"center"},y.toFixed(2)+"%")))):m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:P.name,onChange:z("name"),value:_.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:P.description,onChange:z("description"),value:_.description,margin:"normal",rowsMax:"4",required:!0,fullWidth:!0,multiline:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},P.tags),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},D.tags.map((function(e){var a,t,n=e[0],l=e[1];return a=!!_.tags.has(n)&&_.tags.get(n),m.a.createElement(Ae,{xs:6,sm:3,key:n},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:a,onChange:(t=n,function(e){var a=e.target.checked;W((function(e){return Object(v.a)({},e,{tags:e.tags.set(t,a)})}))}),value:n}),label:l}))})))))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:10,sm:8,md:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"pool"},P.pool),m.a.createElement(tn.a,{value:_.pool,onChange:function(e){var a=e.target.value;ma(a,null,(function(e){var t=[];e.forEach((function(e){t.push({value:e.id,label:e.name})})),A((function(e){return Object(v.a)({},e,{guests:t})})),W((function(e){return Object(v.a)({},e,{pool:a,guest:""})}))}),B)},inputProps:{name:"pool",id:"pool"},required:!0,fullWidth:!0},D.pools.map((function(e){return m.a.createElement(xe.a,{value:e,key:e},e)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"guest"},P.guest),m.a.createElement(tn.a,{value:_.guest,onChange:z("guest"),inputProps:{name:"guest",id:"guest"},required:!0,fullWidth:!0},D.guests.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.label)}))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),t=w&&""!==w?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:w,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":P.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,P.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){M(),i()},color:"transparent",autoFocus:!0},P.cancel),m.a.createElement(be,{onClick:function(){if(_.name)if(_.description)if(_.tags){var e=[];if(_.tags.forEach((function(a,t){a&&e.push(t)})),0!==e.length)if(_.guest){var a=_.name;xa(a,_.guest,_.description,e,function(e){return function(a){b(!0),setTimeout((function(){va(a,F(a,e),R(a))}),1e3)}}(a),B)}else B("must specify source guest");else B("image tags required")}else B("image tags required");else B("desciption required");else B("must specify image name")},color:"info"},P.confirm)))}var Gr={en:{uploadButton:"Upload New Disk Image",buildButton:"Build New Disk Image",noResource:"No images available"},cn:{uploadButton:"\u4e0a\u4f20\u65b0\u78c1\u76d8\u955c\u50cf",buildButton:"\u6784\u5efa\u65b0\u78c1\u76d8\u955c\u50cf",noResource:"\u6ca1\u6709\u78c1\u76d8\u955c\u50cf"}};var $r=t(84),Zr=t.n($r),Kr=t(167),Jr=t.n(Kr),Qr=t(111),Yr=t.n(Qr),Xr=t(125),ec=t.n(Xr),ac=t(164),tc=t.n(ac),nc=t(254),lc=t.n(nc),rc=t(158),cc=t.n(rc),oc=t(256),ic=t.n(oc),sc=t(257),mc=t.n(sc),uc=t(255),dc=t.n(uc),fc=t(258),pc=t.n(fc),Ec=t(159),gc=t.n(Ec),bc=t(160),hc=t.n(bc),vc=t(161),xc=t.n(vc),yc=t(162),kc=t.n(yc),Cc=t(163),Sc=t.n(Cc),wc=t(110),Oc=t.n(wc),jc={en:{running:"Running",stopped:"Stopped",start:"Start Instance",startWithMedia:"Start Instance With Media",snapshot:"Snapshot",createImage:"Create Disk Image",resetSystem:"Reset System",delete:"Delete Instance",migrate:"Migrate Instance",monitor:"Monitor Resource Usage",detail:"Instance Detail",remoteControl:"Remote Control",stop:"Stop Instance",forceStop:"Force Stop Instance",reboot:"Reboot Instance",reset:"Reset Instance",insertMedia:"Insert Media",ejectMedia:"Eject Media",autoStartup:"Auto Startup",mediaAttached:"Media Attached"},cn:{running:"\u8fd0\u884c\u4e2d",stopped:"\u5df2\u505c\u6b62",start:"\u542f\u52a8\u4e91\u4e3b\u673a",startWithMedia:"\u4ece\u5149\u76d8\u955c\u50cf\u542f\u52a8\u4e91\u4e3b\u673a",snapshot:"\u5feb\u7167",createImage:"\u521b\u5efa\u78c1\u76d8\u955c\u50cf",resetSystem:"\u91cd\u7f6e\u7cfb\u7edf",delete:"\u5220\u9664\u4e91\u4e3b\u673a",migrate:"\u8fc1\u79fb\u4e91\u4e3b\u673a",monitor:"\u76d1\u63a7\u8d44\u6e90\u7528\u91cf",detail:"\u5b9e\u4f8b\u8be6\u60c5",remoteControl:"\u8fdc\u7a0b\u76d1\u63a7",stop:"\u505c\u6b62\u4e91\u4e3b\u673a",forceStop:"\u5f3a\u5236\u7ec8\u6b62\u4e91\u4e3b\u673a",reboot:"\u91cd\u542f\u4e91\u4e3b\u673a",reset:"\u5f3a\u5236\u91cd\u542f\u4e91\u4e3b\u673a",insertMedia:"\u63d2\u5165\u5149\u76d8\u955c\u50cf",ejectMedia:"\u5f39\u51fa\u5149\u76d8\u955c\u50cf",autoStartup:"\u5f00\u673a\u542f\u52a8",mediaAttached:"\u5a92\u4f53\u5df2\u52a0\u8f7d"}};function Nc(e){var a,t=Object(h.a)(Dt)(),n=Object(h.a)(Z)(),l=e.lang,r=e.instance,c=e.onNotify,o=e.onError,i=e.onDelete,s=e.onStatusChange,u=e.onMediaStart,d=e.onInsertMedia,f=e.onResetSystem,p=e.onBuildImage,E=e.onMigrateInstance,g=e.checked,b=e.checkable,v=e.onCheckStatusChanged,x=jc[l],y={tips:x.start,icon:ec.a,handler:function(e){!function(e,a,t){Wa("/instances/"+e,{},(function(){a(e)}),t)}(e,(function(e){c("instance "+e+" started"),s()}),(function(a){o("start instance "+e+" fail: "+a)}))}},k={tips:x.startWithMedia,icon:lc.a,handler:u},C={tips:x.snapshot,icon:cc.a,href:"/admin/instances/snapshots/"+r.id},S={tips:x.createImage,icon:dc.a,handler:p},w={tips:x.resetSystem,icon:ic.a,handler:f},O={tips:x.delete,icon:qt.a,handler:i},j={tips:x.migrate,icon:$t.a,handler:function(e){E(e,r.pool,r.cell)}},N={tips:x.monitor,icon:mc.a,href:"/admin/instances/status/"+r.id,target:"_blank"},_={tips:x.detail,icon:Vt.a,href:"/admin/instances/details/"+r.id,target:"_blank"},W={tips:x.remoteControl,icon:pc.a,href:"/admin/instances/control/"+r.id,target:"_blank"},I={tips:x.stop,icon:Zr.a,handler:function(e){fa(e,(function(e){c("instance "+e+" stopped"),s()}),(function(a){o("stop instance "+e+" fail: "+a)}))}},T={tips:x.forceStop,icon:on.a,handler:function(e){!function(e,a,t){Pa("/instances/"+e,{reboot:!1,force:!0},(function(){a(e)}),t)}(e,(function(e){c("instance "+e+" force stopped"),s()}),(function(a){o("force stop instance "+e+" fail: "+a)}))}},D={tips:x.reboot,icon:gc.a,handler:function(e){pa(e,(function(e){c("instance "+e+" reboot"),s()}),(function(a){o("reboot instance "+e+" fail: "+a)}))}},A={tips:x.reset,icon:hc.a,handler:function(e){Ea(e,(function(e){c("instance "+e+" reset"),s()}),(function(a){o("reset instance "+e+" fail: "+a)}))}},P={tips:x.insertMedia,icon:xc.a,handler:d},B={tips:x.ejectMedia,icon:kc.a,handler:function(e){da(e,(function(e){c("media ejected from instance "+e),s()}),(function(a){o("eject media from instance "+e+" fail: "+a)}))}},R=[];r.running?(a=[m.a.createElement(ce.a,{title:x.running,placement:"top",key:x.running},m.a.createElement(ec.a,{className:n.successText}))],R=[W,I,T,D,A],r.auto_start&&a.push(m.a.createElement(ce.a,{title:x.autoStartup,placement:"top",key:x.autoStartup},m.a.createElement(Sc.a,{className:n.infoText}))),r.media_attached?(a.push(m.a.createElement(ce.a,{title:x.mediaAttached,placement:"top",key:x.mediaAttached},m.a.createElement(Oc.a,{className:n.infoText}))),R.push(B)):R.push(P),R=R.concat([N,_])):(a=[m.a.createElement(ce.a,{title:x.stopped,placement:"top",key:x.stopped},m.a.createElement(tc.a,{className:n.dangerText}))],R=[y,k,C,S,w,O,j,N,_]);var M="";r.internal&&r.internal.network_address&&(M=r.internal.network_address),r.external&&r.external.network_address&&(M+="/"+r.external.network_address);var F;F=r.memory>=1<<30?r.memory/(1<<30)+" GB":r.memory/(1<<20)+" MB";var z=[];r.disks.forEach((function(e){z.push((e/(1<<30)).toFixed(2).toString())}));var H,L=z.join("/")+" GB";return H=b?m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,null,m.a.createElement(Or.a,{checked:g,onChange:function(e){return function(e){var a=e.target.checked;v(a,r.id)}(e)},value:r.id})),m.a.createElement(te.a,null,r.name)):r.name,m.a.createElement(Wt.a,{className:t.tableBodyRow},m.a.createElement(Tt.a,{className:t.tableCell},H),m.a.createElement(Tt.a,{className:t.tableCell},r.cell),m.a.createElement(Tt.a,{className:t.tableCell},M),m.a.createElement(Tt.a,{className:t.tableCell},r.cores),m.a.createElement(Tt.a,{className:t.tableCell},F),m.a.createElement(Tt.a,{className:t.tableCell},L),m.a.createElement(Tt.a,{className:t.tableCell},a),m.a.createElement(Tt.a,{className:t.tableCell},R.map((function(e,a){var t,n=m.a.createElement(e.icon);return t=e.href?m.a.createElement(Xa.a,{to:e.href,target:e.target},m.a.createElement(oe.a,{color:"inherit"},n)):m.a.createElement(oe.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(r.id)}},n),m.a.createElement(ce.a,{title:e.tips,placement:"top",key:a},t)}))))}var _c={en:{title:"Delete Instance",content:"Are you sure to delete instance ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u4e91\u4e3b\u673a",content:"\u662f\u5426\u5220\u9664\u4e91\u4e3b\u673a ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Wc(e){var a,t=e.lang,l=e.instanceID,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=_c[t],p=function(e){d(e)},E=function(){d(""),c(l)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t){Pa("/guests/"+e,{force:!1},a,t)}(l,E,p)},color:"info"},f.confirm)))}var Ic=t(559),Tc=t(560),Dc=t(540),Ac=t(541),Pc=t(166),Bc=t.n(Pc),Rc={en:{title:"Create Instance",name:"Instance Name",resourcePool:"Resource Pool",core:"Core",memory:"Memory",systemDisk:"System Disk Size",dataDisk:"Data Disk Size",autoStartup:"Automatic Startup",systemVersion:"System Version",sourceImage:"Source Image",blankSystem:"Blank System",qos:"QoS Options (Optional)",cpuPriority:"CPU Priority",iops:"IOPS",outbound:"Outband Bandwidth",inbound:"Inbound Bandwidth",noDataDisk:"Don't use data disk",noLimit:"No Limit",cpuPriorityHigh:"High",cpuPriorityMedium:"Medium",cpuPriorityLow:"Low",modules:"Pre-Installed Modules",adminName:"Admin Name",adminPassword:"Admin Password",blankHelper:"Leave blank to generate",dataPath:"Data Path",off:"Off",on:"On",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u4e91\u4e3b\u673a",name:"\u4e91\u4e3b\u673a\u540d\u79f0",resourcePool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",core:"\u6838\u5fc3\u6570",memory:"\u5185\u5b58",systemDisk:"\u7cfb\u7edf\u78c1\u76d8\u5bb9\u91cf",dataDisk:"\u6570\u636e\u78c1\u76d8\u5bb9\u91cf",autoStartup:"\u81ea\u52a8\u542f\u52a8",systemVersion:"\u7cfb\u7edf\u7248\u672c",sourceImage:"\u6765\u6e90\u955c\u50cf",blankSystem:"\u7a7a\u767d\u7cfb\u7edf",qos:"QoS\u9009\u9879 (\u53ef\u9009)",cpuPriority:"CPU\u4f18\u5148\u7ea7",iops:"\u78c1\u76d8\u8bfb\u5199\u9650\u5236",outbound:"\u4e0a\u884c\u5e26\u5bbd",inbound:"\u4e0b\u884c\u5e26\u5bbd",noDataDisk:"\u4e0d\u4f7f\u7528\u6570\u636e\u78c1\u76d8",noLimit:"\u65e0\u9650\u5236",cpuPriorityHigh:"\u9ad8",cpuPriorityMedium:"\u4e2d",cpuPriorityLow:"\u4f4e",modules:"\u9884\u88c5\u6a21\u5757",adminName:"\u7ba1\u7406\u5458\u8d26\u53f7",adminPassword:"\u7ba1\u7406\u5458\u5bc6\u7801",blankHelper:"\u7559\u7a7a\u5219\u81ea\u52a8\u751f\u6210\u65b0\u5bc6\u7801",dataPath:"\u6302\u8f7d\u6570\u636e\u8def\u5f84",off:"\u5173\u95ed",on:"\u5f00\u542f",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Mc(e){var a,t,l,r=e.lang,c=e.open,o=e.onSuccess,i=e.onCancel,s={name:"",pool:"",cores:1..toString(),memory:(1<<30).toString(),system_disk:5,data_disk:0,auto_start:!1,system_version:"centos7",from_image:"__default",modules:new Map,module_cloud_init_admin_name:"root",module_cloud_init_admin_password:"",module_cloud_init_data_path:"/opt/data",priority:"medium",iops:0,inbound:0,outbound:0},u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(!1),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(0),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState(""),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(s),_=Object(n.a)(N,2),W=_[0],I=_[1],T=m.a.useState({pools:[],images:[],versions:[]}),D=Object(n.a)(T,2),A=D[0],P=D[1],B=Rc[r],R=function(e){j(e)},M=function(){j(""),I(s),p(!1),h(!1),C(0)},F=function(e){M(),o(e.id)},z=function(e){h(!0),C(0),setTimeout((function(){H(e)}),1e3)},H=function e(a){ua(a,F,R,(function(t){C(t),setTimeout((function(){e(a)}),1e3)}))},L=function(e){return function(a){var t=a.target.value;I((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},q=function(e){return function(a,t){I((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};if(m.a.useEffect((function(){if(c&&!f){var e=[],a=[{name:B.blankSystem,value:"__default"}],t=[{name:"centos7",label:"CentOS 7 or Later",allowCI:!0},{name:"centos6",label:"CentOS 6",allowCI:!0},{name:"win2012",label:"Windows Server 2012",allowCI:!1},{name:"legacy",label:"Legacy system",allowCI:!0},{name:"general",label:"Other General System",allowCI:!0}],n=function(n){n.forEach((function(e){var t={name:e.name,value:e.id};a.push(t)})),P({pools:e,images:a,versions:t}),p(!0)};la((function(a){a.forEach((function(a){e.push(a.name)})),ha(n,R)}),R)}}),[f,c,B.blankSystem]),f)if(b)a=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(jr.a,{variant:"determinate",value:k}))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ie.a,{align:"center"},k.toFixed(2)+"%"))));else{var U=[];[1,2,4,8,16].forEach((function(e){U.push(e.toString())}));var V,G=[];[1,2,4,8,16,32].forEach((function(e){var a,t=512*e*(1<<20);a=t>=1<<30?t/(1<<30)+" GB":t/(1<<20)+" MB",G.push({name:a,value:t.toString()})}));var $,Z=[];[5,60,30].forEach((function(e){Z.push({value:e,label:e+" GB"})})),V=m.a.createElement(Ic.a,{color:"secondary",value:W.system_disk,max:60,min:5,step:1,valueLabelDisplay:"auto",marks:Z,onChange:q("system_disk")});var K,J=[{value:0,label:B.noDataDisk},{value:10,label:"10 GB"},{value:20,label:"20 GB"}];if($=m.a.createElement(Ic.a,{color:"secondary",value:W.data_disk,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:J,onChange:q("data_disk")}),W.system_version&&"__default"!==W.from_image){var Q=!0,Y=W.system_version;A.versions.some((function(e){return Y===e.name&&(Q=e.allowCI,!0)}));var ee,ae=[{value:"qemu",label:"QEMU-Guest-Agent"}];Q&&ae.push({value:"cloud-init",label:"CloudInit"}),ee=W.modules.get("cloud-init")?m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},"Cloud Init Options"),m.a.createElement(fn,null,m.a.createElement(Te.a,{label:B.adminName,onChange:L("module_cloud_init_admin_name"),value:W.module_cloud_init_admin_name,margin:"normal",fullWidth:!0})),m.a.createElement(fn,null,m.a.createElement(Te.a,{label:B.adminPassword,onChange:L("module_cloud_init_admin_password"),helperText:B.blankHelper,margin:"normal",fullWidth:!0})),m.a.createElement(fn,null,m.a.createElement(Te.a,{label:B.dataPath,onChange:L("module_cloud_init_data_path"),value:W.module_cloud_init_data_path,margin:"normal",disabled:!0,fullWidth:!0}))))):m.a.createElement(Ae,null),K=m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},B.modules),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},ae.map((function(e){var a,t,n;return a=!!W.modules.has(e.value)&&W.modules.get(e.value),m.a.createElement(Ae,{xs:12,sm:6,md:4,key:e.value},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:a,onChange:(t="modules",n=e.value,function(e){var a=e.target.checked;I((function(e){return Object(v.a)({},e,Object(X.a)({},t,e[t].set(n,a)))}))}),value:e.value}),label:e.label}))}))))))),ee)}else K=m.a.createElement(Ae,null);a=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.name,onChange:L("name"),value:W.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:10,sm:4,md:3},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"pool"},B.resourcePool),m.a.createElement(tn.a,{value:W.pool,onChange:L("pool"),inputProps:{name:"pool",id:"pool"},required:!0,fullWidth:!0},A.pools.map((function(e){return m.a.createElement(xe.a,{value:e,key:e},e)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},B.core),m.a.createElement(Kl.a,{"aria-label":B.core,name:"cores",value:W.cores,onChange:L("cores"),row:!0},m.a.createElement(Ie.a,{container:!0},U.map((function(e){return m.a.createElement(Ae,{xs:3,sm:2,md:1,key:e},m.a.createElement(Jl.a,{value:e,control:m.a.createElement(Zl.a,null),label:e}))}))))))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},B.memory),m.a.createElement(Kl.a,{"aria-label":B.memory,name:"memory",value:W.memory,onChange:L("memory"),row:!0},m.a.createElement(Ie.a,{container:!0},G.map((function(e){return m.a.createElement(Ae,{xs:6,sm:3,md:2,key:e.value},m.a.createElement(Jl.a,{value:e.value,control:m.a.createElement(Zl.a,null),label:e.name}))})))))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Yl.a,{component:"legend"},B.systemDisk),V))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Yl.a,{component:"legend"},B.dataDisk),$))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:10,sm:6,md:5},m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(nn.a,{htmlFor:"image"},B.sourceImage),m.a.createElement(tn.a,{value:W.from_image,onChange:L("from_image"),inputProps:{name:"image",id:"image"},fullWidth:!0},A.images.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.name)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:10,sm:5,md:4},m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(nn.a,{htmlFor:"version"},B.systemVersion),m.a.createElement(tn.a,{value:W.system_version,onChange:L("system_version"),inputProps:{name:"version",id:"version"},fullWidth:!0},A.versions.map((function(e){return m.a.createElement(xe.a,{value:e.name,key:e.name},e.label)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:8,sm:6,md:4},m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(nn.a,{htmlFor:"auto_start"},B.autoStartup),B.off,m.a.createElement(gl.a,{checked:W.failover,onChange:(t="auto_start",function(e){var a=e.target.checked;I((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),color:"primary",inputProps:{name:"auto_start",id:"auto_start"}}),B.on))),K,m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(Tc.a,null,m.a.createElement(Dc.a,{expandIcon:m.a.createElement(Bc.a,null)},B.qos),m.a.createElement(Ac.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},B.cpuPriority),m.a.createElement(Kl.a,{"aria-label":B.cpuPriority,value:W.priority,onChange:L("priority"),row:!0},m.a.createElement(Jl.a,{value:"high",control:m.a.createElement(Zl.a,null),label:B.cpuPriorityHigh,key:"high"}),m.a.createElement(Jl.a,{value:"medium",control:m.a.createElement(Zl.a,null),label:B.cpuPriorityMedium,key:"medium"}),m.a.createElement(Jl.a,{value:"low",control:m.a.createElement(Zl.a,null),label:B.cpuPriorityLow,key:"low"}))))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Yl.a,{component:"legend"},B.iops),m.a.createElement(Ic.a,{color:"secondary",value:W.iops,max:2e3,min:0,step:10,valueLabelDisplay:"auto",marks:[{value:0,label:B.noLimit},{value:2e3,label:2e3}],onChange:q("iops")}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Yl.a,{component:"legend"},B.inbound),m.a.createElement(Ic.a,{color:"secondary",value:W.inbound,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:B.noLimit},{value:20,label:"20 Mbit/s"}],onChange:q("inbound")}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Yl.a,{component:"legend"},B.outbound),m.a.createElement(Ic.a,{color:"secondary",value:W.outbound,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:B.noLimit},{value:20,label:"20 Mbit/s"}],onChange:q("outbound")}))))))))))}else a=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});return l=O&&""!==O?m.a.createElement(Ae,{xs:12},B.title,m.a.createElement(ze,{message:O,color:"danger"})):B.title,m.a.createElement(je.a,{open:c,"aria-labelledby":B.title,maxWidth:"md",fullWidth:!0},m.a.createElement(We.a,null,l),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a))),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){M(),i()},color:"transparent",autoFocus:!0},B.cancel),m.a.createElement(be,{onClick:function(){if(W.name)if(W.pool){var e=Number(W.cores);if(Number.isNaN(e))R("invalid cores: "+W.cores);else{var a=Number(W.memory);if(Number.isNaN(a))R("invalid memory: "+W.memory);else{var t=[W.system_disk*(1<<30)];0!==W.data_disk&&t.push(W.data_disk*(1<<30));var n,l=W.system_version;n="__default"===W.from_image?"":W.from_image;var r=[],c=!1;W.modules.forEach((function(e,a){e&&(r.push(a),"cloud-init"===a&&(c=!0))}));var o=null;c&&(o={admin_name:W.module_cloud_init_admin_name,admin_secret:W.module_cloud_init_admin_password,data_path:W.module_cloud_init_data_path});var i={cpu_priority:W.priority,write_iops:W.iops,read_iops:W.iops,receive_speed:W.inbound*(1<<17),send_speed:W.outbound*(1<<17)};!function(e,a,t,n,l,r,c,o,i,s,m,u,d,f){var p=Ve();if(null!==p){var E={name:e,owner:p.user,group:p.group,pool:a,cores:t,memory:n,disks:l,auto_start:r,from_image:c,system_version:o};i&&(E.modules=i),s&&(E.cloud_init=s),m&&(E.qos=m);Ia("/guests/",E,(function(e,a){202===e?u(a.id):200===e?d(a.id):f("unexpected status "+e.toString())}),f)}else f("session expired")}(W.name,W.pool,e,a,t,W.auto_start,n,l,r,o,i,z,F,R)}}}else R("must specify target pool");else R("instance name required")},color:"info"},B.confirm)))}var Fc={en:{title:"Start Instance With Media",name:"Media Name",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4ece\u5f15\u5bfc\u5149\u76d8\u542f\u52a8\u4e91\u4e3b\u673a",name:"\u955c\u50cf\u540d\u79f0",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function zc(e){var a,t,l,r={image:""},c=e.lang,o=e.instanceID,i=e.open,s=e.onSuccess,u=e.onCancel,d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(""),b=Object(n.a)(g,2),h=b[0],x=b[1],y=m.a.useState(r),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState({images:[]}),O=Object(n.a)(w,2),j=O[0],N=O[1],_=Fc[c],W=function(e){x(e)},I=function(){x(""),S(r),E(!1)},T=function(e){I(),s(e)};return m.a.useEffect((function(){if(i&&!p){ga((function(e){var a=[];e.forEach((function(e){a.push({value:e.id,label:e.name})})),N({images:a}),E(!0)}),W)}}),[p,i]),a=p?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"image"},_.name),m.a.createElement(tn.a,{value:C.image,onChange:(t="image",function(e){var a=e.target.value;S((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),inputProps:{name:"image",id:"image"},fullWidth:!0},j.images.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.label)}))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=h&&""!==h?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:h,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:i,"aria-labelledby":_.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,_.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){I(),u()},color:"transparent",autoFocus:!0},_.cancel),m.a.createElement(be,{onClick:function(){var e=C.image;""!==e?function(e,a,t,n){Wa("/instances/"+e,{from_media:!0,source:a},(function(){t(e)}),n)}(o,e,T,W):W("select a media image")},color:"info"},_.confirm)))}var Hc={en:{title:"Insert Media Into Instance",name:"Media Name",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5411\u4e91\u4e3b\u673a\u63d2\u5165\u5149\u76d8\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function Lc(e){var a,t,l,r={image:""},c=e.lang,o=e.instanceID,i=e.open,s=e.onSuccess,u=e.onCancel,d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(""),b=Object(n.a)(g,2),h=b[0],x=b[1],y=m.a.useState(r),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState({images:[]}),O=Object(n.a)(w,2),j=O[0],N=O[1],_=Hc[c],W=function(e){x(e)},I=function(){x(""),S(r),E(!1)},T=function(e){I(),s(e)};return m.a.useEffect((function(){if(i&&!p){ga((function(e){var a=[];e.forEach((function(e){a.push({value:e.id,label:e.name})})),N({images:a}),E(!0)}),W)}}),[p,i]),a=p?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"image"},_.name),m.a.createElement(tn.a,{value:C.image,onChange:(t="image",function(e){var a=e.target.value;S((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),inputProps:{name:"image",id:"image"},fullWidth:!0},j.images.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.label)}))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=h&&""!==h?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:h,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:i,"aria-labelledby":_.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,_.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){I(),u()},color:"transparent",autoFocus:!0},_.cancel),m.a.createElement(be,{onClick:function(){var e=C.image;""!==e?function(e,a,t,n){Wa("/instances/"+e+"/media",{source:a},(function(){t(e)}),n)}(o,e,T,W):W("select a media image")},color:"info"},_.confirm)))}var qc={en:{title:"Build New Image",name:"Image Name",description:"Description",tags:"Tags",cancel:"Cancel",confirm:"Build"},cn:{title:"\u6784\u5efa\u65b0\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",cancel:"\u53d6\u6d88",confirm:"\u4e0a\u4f20"}};function Uc(e){var a,t,l={name:"",description:"",tags:new Map},r=e.lang,c=e.instanceID,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(!1),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(0),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState(""),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(l),_=Object(n.a)(N,2),W=_[0],I=_[1],T=m.a.useState({tags:[]}),D=Object(n.a)(T,2),A=D[0],P=D[1],B=qc[r],R=function(e){j(e)},M=function(e){return function(a){ya(e),R(a)}},F=function(){j(""),I(l),p(!1),h(!1),C(0)},z=function e(a,t){return function(n){n.created?function(e){F(),i(e)}(t):(C(n.progress),setTimeout((function(){va(a,e(a,t),M(a))}),1e3))}},H=function(e){return function(a){var t=a.target.value;I((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return m.a.useEffect((function(){if(o&&!f){var e=[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]];P((function(a){return Object(v.a)({},a,{tags:e})})),p(!0)}}),[f,o]),a=f?b?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(jr.a,{variant:"determinate",value:k}))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ie.a,{align:"center"},k.toFixed(2)+"%")))):m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.name,onChange:H("name"),value:W.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:B.description,onChange:H("description"),value:W.description,margin:"normal",rowsMax:"4",required:!0,fullWidth:!0,multiline:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},B.tags),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},A.tags.map((function(e){var a,t,n=e[0],l=e[1];return a=!!W.tags.has(n)&&W.tags.get(n),m.a.createElement(Ae,{xs:6,sm:3,key:n},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:a,onChange:(t=n,function(e){var a=e.target.checked;I((function(e){return Object(v.a)({},e,{tags:e.tags.set(t,a)})}))}),value:n}),label:l}))}))))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),t=O&&""!==O?m.a.createElement(Ae,{xs:12},B.title,m.a.createElement(ze,{message:O,color:"danger"})):B.title,m.a.createElement(je.a,{open:o,"aria-labelledby":B.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,t),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a))),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){F(),s()},color:"transparent",autoFocus:!0},B.cancel),m.a.createElement(be,{onClick:function(){if(j(""),W.name)if(W.description)if(W.tags){var e=[];if(W.tags.forEach((function(a,t){a&&e.push(t)})),0!==e.length){var a=W.name;xa(a,c,W.description,e,function(e){return function(a){h(!0),setTimeout((function(){va(a,z(a,e),M(a))}),1e3)}}(a),R)}else R("image tags required")}else R("image tags required");else R("desciption required");else R("must specify image name")},color:"info"},B.confirm)))}var Vc={en:{title:"Reset Instance System",name:"Target System",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u91cd\u7f6e\u4e91\u4e3b\u673a\u7cfb\u7edf",name:"\u76ee\u6807\u7cfb\u7edf",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function Gc(e){var a,t,l,r={image:""},c=e.lang,o=e.instanceID,i=e.open,s=e.onSuccess,u=e.onCancel,d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(!1),b=Object(n.a)(g,2),h=b[0],x=b[1],y=m.a.useState(0),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState(""),O=Object(n.a)(w,2),j=O[0],N=O[1],_=m.a.useState(r),W=Object(n.a)(_,2),I=W[0],T=W[1],D=m.a.useState({images:[]}),A=Object(n.a)(D,2),P=A[0],B=A[1],R=Vc[c],M=function(e){N(e)},F=function(){N(""),T(r),E(!1)},z=function(e){F(),s(e.id)},H=function(e){x(!0),S(0),setTimeout((function(){L(e)}),1e3)},L=function e(a){ua(a,z,M,(function(t){S(t),setTimeout((function(){e(a)}),1e3)}))};return m.a.useEffect((function(){if(i&&!p){ha((function(e){var a=[];e.forEach((function(e){a.push({value:e.id,label:e.name})})),B({images:a}),E(!0)}),M)}}),[p,i]),a=p?h?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(jr.a,{variant:"determinate",value:C}))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ie.a,{align:"center"},C.toFixed(2)+"%")))):m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"image"},R.name),m.a.createElement(tn.a,{value:I.image,onChange:(t="image",function(e){var a=e.target.value;T((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),inputProps:{name:"image",id:"image"},fullWidth:!0},P.images.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.label)}))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=j&&""!==j?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:j,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:i,"aria-labelledby":R.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,R.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){F(),u()},color:"transparent",autoFocus:!0},R.cancel),m.a.createElement(be,{onClick:function(){var e=I.image;""!==e?function(e,a,t,n){Da("/guests/"+e+"/system/",{from_image:a},(function(){t(e)}),n)}(o,e,H,M):M("select a target system")},color:"info"},R.confirm)))}var $c={en:{title:"Migrate Single Instance",sourcePool:"Source Pool",sourceCell:"Source Cell",targetCell:"Target Cell",offline:"Offline",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u8fc1\u79fb\u4e91\u4e3b\u673a\u5b9e\u4f8b",sourcePool:"\u6e90\u8d44\u6e90\u6c60",sourceCell:"\u6e90\u8282\u70b9",targetCell:"\u76ee\u6807\u8282\u70b9",offline:"\u79bb\u7ebf",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function Zc(e){var a,t,l,r={targetCell:""},c=e.lang,o=e.instanceID,i=e.open,s=e.sourcePool,u=e.sourceCell,d=e.onSuccess,f=e.onCancel,p=m.a.useState(!1),E=Object(n.a)(p,2),g=E[0],b=E[1],h=m.a.useState(""),x=Object(n.a)(h,2),y=x[0],k=x[1],C=m.a.useState(r),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState({cells:[]}),N=Object(n.a)(j,2),_=N[0],W=N[1],I=$c[c],T=function(e){k(e)},D=function(){k(""),O(r),b(!1)},A=function(e){D(),d(e)};return m.a.useEffect((function(){if(i&&!g){ra(s,(function(e){var a=[];e.forEach((function(e){e.name!==u&&a.push({name:e.name,address:e.address,alive:e.alive})})),0!==a.length?(W({cells:a}),b(!0)):T("no target cell available")}),T)}}),[g,i,s,u]),a=g?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:I.sourcePool,value:s,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:I.sourceCell,value:u,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"targetCell"},I.targetCell),m.a.createElement(tn.a,{value:w.image,onChange:(t="targetCell",function(e){var a=e.target.value;O((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),inputProps:{name:"targetCell",id:"targetCell"},fullWidth:!0},_.cells.map((function(e){if(e.alive){var a=e.name+"("+e.address+")";return m.a.createElement(xe.a,{value:e.name,key:e.name},a)}var t=e.name+"("+I.offline+")";return m.a.createElement(xe.a,{value:e.name,key:e.name,disabled:!0},t)}))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=y&&""!==y?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:y,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:i,"aria-labelledby":I.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,I.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){D(),f()},color:"transparent",autoFocus:!0},I.cancel),m.a.createElement(be,{onClick:function(){var e=w.targetCell;""!==e?function(e,a,t,n,l,r){Da("/migrations/",{source_pool:e,source_cell:a,target_cell:t,instances:[n]},(function(){l(n)}),r)}(o,s,u,e,A,T):T("select a target cell")},color:"info"},I.confirm)))}var Kc=t(542),Jc={en:{title:"Batch Stopping Instance",content1:"Are you sure to stop ",content2:" instance(s)",cancel:"Cancel",confirm:"Confirm",finish:"Finish",fail:"Fail",complete:"Stopped",processing:"Stopping",instance:"Instance",result:"Result"},cn:{title:"\u6279\u91cf\u505c\u6b62\u4e91\u4e3b\u673a",content1:"\u662f\u5426\u505c\u6b62 ",content2:" \u4e2a\u4e91\u4e3b\u673a",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",finish:"\u5b8c\u6210",fail:"\u5931\u8d25",complete:"\u5df2\u505c\u6b62",processing:"\u505c\u6b62\u4e2d",instance:"\u4e91\u4e3b\u673a",result:"\u5904\u7406\u7ed3\u679c"}};function Qc(e){var a,t=0,l=1,r=2,c=e.lang,o=e.targets,i=e.open,s=e.onSuccess,u=e.onCancel,d=m.a.useState(t),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(null),b=Object(n.a)(g,2),h=b[0],v=b[1],x=m.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=Jc[c],w=function(e){C(e)};a=k&&""!==k?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:k,color:"danger"})):m.a.createElement(Ae,{xs:12});var O,j,N=m.a.createElement(be,{onClick:function(){E(t),C(""),u()},color:"transparent",key:"cancel"},S.cancel),_=m.a.createElement(be,{onClick:function(){if(o&&0!==o.length){var e,a=function a(t){v(t),setTimeout((function(){Sa(e,a,n,w)}),2e3)},n=function(e){v(e),r!==p&&E(r)};!function(e,a,t){if(e&&0!==e.length){Ia("/batch/stop_guest/",{guest:e},(function(e,n){202===e?a(n.id):t("unexpected status "+e.toString())}),t)}else t("target is empty")}(o,(function(r){t===p&&E(l),Sa(e=r,a,n,w)}),w)}else C("no target selecetd")},color:"info",key:"confirm"},S.confirm),W=m.a.createElement(be,{onClick:function(){E(t),C(""),s()},color:"info",key:"finish"},S.finish),I=function(e){var a=[];return e?(e.forEach((function(e,t){"fail"===e.status?a.push({id:e.id,text:S.fail+":"+e.error}):"stopped"===e.status?a.push({id:e.id,text:S.complete}):a.push({id:e.id,text:S.processing})})),m.a.createElement(Kc.a,{component:Ce.a},m.a.createElement(Nt.a,null,m.a.createElement(_t.a,null,m.a.createElement(Wt.a,null,m.a.createElement(Tt.a,null,S.instance),m.a.createElement(Tt.a,null,S.result))),m.a.createElement(It.a,null,a.map((function(e){return m.a.createElement(Wt.a,{key:e.id},m.a.createElement(Tt.a,{component:"th",scope:"row"},e.id),m.a.createElement(Tt.a,null,e.text))})))))):m.a.createElement("div",null)};switch(p){case l:O=I(h),j=k?[N]:[];break;case r:O=I(h),j=[W];break;default:O=S.content1+o.length.toString()+S.content2,j=[N,_]}return m.a.createElement(je.a,{open:i,"aria-labelledby":S.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,S.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},O),a)),m.a.createElement(Ne.a,null,j))}var Yc={en:{title:"Batch Deleting Instance",content1:"Are you sure to delete ",content2:" instance(s)",cancel:"Cancel",confirm:"Confirm",finish:"Finish",fail:"Fail",complete:"Deleted",processing:"Deleting",instance:"Instance",result:"Result"},cn:{title:"\u6279\u91cf\u5220\u9664\u4e91\u4e3b\u673a",content1:"\u662f\u5426\u5220\u9664 ",content2:" \u4e2a\u4e91\u4e3b\u673a",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",finish:"\u5b8c\u6210",fail:"\u5931\u8d25",complete:"\u5df2\u5220\u9664",processing:"\u5220\u9664\u4e2d",instance:"\u4e91\u4e3b\u673a",result:"\u5904\u7406\u7ed3\u679c"}};function Xc(e){var a,t=0,l=1,r=2,c=e.lang,o=e.targets,i=e.open,s=e.onSuccess,u=e.onCancel,d=m.a.useState(t),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(null),b=Object(n.a)(g,2),h=b[0],v=b[1],x=m.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=Yc[c],w=function(e){C(e)};a=k&&""!==k?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:k,color:"danger"})):m.a.createElement(Ae,{xs:12});var O,j,N=m.a.createElement(be,{onClick:function(){E(t),C(""),u()},color:"transparent",key:"cancel"},S.cancel),_=m.a.createElement(be,{onClick:function(){if(o&&0!==o.length){var e,a=function a(t){v(t),setTimeout((function(){Ca(e,a,n,w)}),2e3)},n=function(e){v(e),r!==p&&E(r)};!function(e,a,t){if(e&&0!==e.length){Ia("/batch/delete_guest/",{guest:e},(function(e,n){202===e?a(n.id):t("unexpected status "+e.toString())}),t)}else t("target is empty")}(o,(function(r){t===p&&E(l),Ca(e=r,a,n,w)}),w)}else C("no target selecetd")},color:"info",key:"confirm"},S.confirm),W=m.a.createElement(be,{onClick:function(){E(t),C(""),s()},color:"info",key:"finish"},S.finish),I=function(e){var a=[];return e?(e.forEach((function(e,t){"fail"===e.status?a.push({id:e.id,text:S.fail+":"+e.error}):"deleted"===e.status?a.push({id:e.id,text:S.complete}):a.push({id:e.id,text:S.processing})})),m.a.createElement(Kc.a,{component:Ce.a},m.a.createElement(Nt.a,null,m.a.createElement(_t.a,null,m.a.createElement(Wt.a,null,m.a.createElement(Tt.a,null,S.instance),m.a.createElement(Tt.a,null,S.result))),m.a.createElement(It.a,null,a.map((function(e){return m.a.createElement(Wt.a,{key:e.id},m.a.createElement(Tt.a,{component:"th",scope:"row"},e.id),m.a.createElement(Tt.a,null,e.text))})))))):m.a.createElement("div",null)};switch(p){case l:O=I(h),j=k?[N]:[];break;case r:O=I(h),j=[W];break;default:O=S.content1+o.length.toString()+S.content2,j=[N,_]}return m.a.createElement(je.a,{open:i,"aria-labelledby":S.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,S.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},O),a)),m.a.createElement(Ne.a,null,j))}var eo={en:{title:"Batch Creating Instances",rule:"Name Rule",ruleOrder:"By Order",ruleMAC:"By MAC",ruleAddress:"By Guest Address",prefix:"Prefix",count:"Create Quantity",resourcePool:"Resource Pool",core:"Core",memory:"Memory",systemDisk:"System Disk Size",dataDisk:"Data Disk Size",autoStartup:"Automatic Startup",systemVersion:"System Version",sourceImage:"Source Image",blankSystem:"Blank System",qos:"QoS Options (Optional)",cpuPriority:"CPU Priority",iops:"IOPS",outbound:"Outband Bandwidth",inbound:"Inbound Bandwidth",noDataDisk:"Don't use data disk",noLimit:"No Limit",cpuPriorityHigh:"High",cpuPriorityMedium:"Medium",cpuPriorityLow:"Low",modules:"Pre-Installed Modules",adminName:"Admin Name",adminPassword:"Admin Password",blankHelper:"Leave blank to generate",dataPath:"Data Path",off:"Off",on:"On",cancel:"Cancel",confirm:"Confirm",finish:"Finish",fail:"Fail",complete:"Created",processing:"Creating",instance:"Instance",result:"Result"},cn:{title:"\u6279\u91cf\u521b\u5efa\u4e91\u4e3b\u673a",rule:"\u5b9e\u4f8b\u547d\u540d\u89c4\u5219",ruleOrder:"\u987a\u5e8f\u9012\u589e",ruleMAC:"\u6309MAC\u5730\u5740",ruleAddress:"\u6309\u5b9e\u4f8b\u5730\u5740",prefix:"\u5b9e\u4f8b\u540d\u524d\u7f00",count:"\u521b\u5efa\u6570\u91cf",resourcePool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",core:"\u6838\u5fc3\u6570",memory:"\u5185\u5b58",systemDisk:"\u7cfb\u7edf\u78c1\u76d8\u5bb9\u91cf",dataDisk:"\u6570\u636e\u78c1\u76d8\u5bb9\u91cf",autoStartup:"\u81ea\u52a8\u542f\u52a8",systemVersion:"\u7cfb\u7edf\u7248\u672c",sourceImage:"\u6765\u6e90\u955c\u50cf",blankSystem:"\u7a7a\u767d\u7cfb\u7edf",qos:"QoS\u9009\u9879 (\u53ef\u9009)",cpuPriority:"CPU\u4f18\u5148\u7ea7",iops:"\u78c1\u76d8\u8bfb\u5199\u9650\u5236",outbound:"\u4e0a\u884c\u5e26\u5bbd",inbound:"\u4e0b\u884c\u5e26\u5bbd",noDataDisk:"\u4e0d\u4f7f\u7528\u6570\u636e\u78c1\u76d8",noLimit:"\u65e0\u9650\u5236",cpuPriorityHigh:"\u9ad8",cpuPriorityMedium:"\u4e2d",cpuPriorityLow:"\u4f4e",modules:"\u9884\u88c5\u6a21\u5757",adminName:"\u7ba1\u7406\u5458\u8d26\u53f7",adminPassword:"\u7ba1\u7406\u5458\u5bc6\u7801",blankHelper:"\u7559\u7a7a\u5219\u81ea\u52a8\u751f\u6210\u65b0\u5bc6\u7801",dataPath:"\u6302\u8f7d\u6570\u636e\u8def\u5f84",off:"\u5173\u95ed",on:"\u5f00\u542f",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",finish:"\u5b8c\u6210",fail:"\u5931\u8d25",complete:"\u521b\u5efa\u5b8c\u6210",processing:"\u521b\u5efa\u4e2d",instance:"\u4e91\u4e3b\u673a",result:"\u5904\u7406\u7ed3\u679c"}};function ao(e){var a=0,t=1,l=2,r="order",c="MAC",o="address",i=e.lang,s=e.open,u=e.onSuccess,d=e.onCancel,f={rule:r,prefix:"",count:1,name:"",pool:"",cores:1..toString(),memory:(1<<30).toString(),system_disk:5,data_disk:0,auto_start:!1,system_version:"centos7",from_image:"__default",modules:new Map,module_cloud_init_admin_name:"root",module_cloud_init_admin_password:"",module_cloud_init_data_path:"/opt/data",priority:"medium",iops:0,inbound:0,outbound:0},p=m.a.useState(!1),E=Object(n.a)(p,2),g=E[0],b=E[1],h=m.a.useState(a),x=Object(n.a)(h,2),y=x[0],k=x[1],C=m.a.useState(null),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState(""),N=Object(n.a)(j,2),_=N[0],W=N[1],I=m.a.useState(f),T=Object(n.a)(I,2),D=T[0],A=T[1],P=m.a.useState({pools:[],images:[],versions:[]}),B=Object(n.a)(P,2),R=B[0],M=B[1],F=eo[i],z=function(e){W(e)},H=function(){W(""),A(f),b(!1),k(a)},L=function(e){W(""),a===y&&k(t),ka(e,q(e),U(e),z)},q=function e(a){return function(t){O(t),setTimeout((function(){ka(a,e(a),U(a),z)}),1e3)}},U=function(e){return function(e){O(e),l!==y&&k(l)}},V=function(e){return function(a){var t=a.target.value;A((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},G=function(e){return function(a,t){A((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};m.a.useEffect((function(){if(s&&!g){var e=[],a=[{name:F.blankSystem,value:"__default"}],t=[{name:"centos7",label:"CentOS 7 or Later",allowCI:!0},{name:"centos6",label:"CentOS 6",allowCI:!0},{name:"win2012",label:"Windows Server 2012",allowCI:!1},{name:"legacy",label:"Legacy system",allowCI:!0},{name:"general",label:"Other General System",allowCI:!0}],n=function(n){n.forEach((function(e){var t={name:e.name,value:e.id};a.push(t)})),M({pools:e,images:a,versions:t}),b(!0)};la((function(a){a.forEach((function(a){e.push(a.name)})),ha(n,z)}),z)}}),[g,s,F.blankSystem]);var $,Z=function(e){var a=[];return e?(e.forEach((function(e,t){var n;if("fail"===e.status)n=F.fail+":"+e.error;else if("created"===e.status)n=F.complete;else{var l=e.progress;n=m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:8,sm:9,md:10},m.a.createElement(jr.a,{variant:"determinate",value:l})),m.a.createElement(Ae,{xs:4,sm:3,md:2},m.a.createElement(ie.a,{align:"center"},l.toFixed(2)+"%")))}a.push({name:e.name,content:n})})),m.a.createElement(Kc.a,{component:Ce.a},m.a.createElement(Nt.a,null,m.a.createElement(_t.a,null,m.a.createElement(Wt.a,null,m.a.createElement(Tt.a,null,F.instance),m.a.createElement(Tt.a,null,F.result))),m.a.createElement(It.a,null,a.map((function(e){return m.a.createElement(Wt.a,{key:e.name},m.a.createElement(Tt.a,{component:"th",scope:"row"},e.name),m.a.createElement(Tt.a,null,e.content))})))))):m.a.createElement("div",null)};$=_&&""!==_?m.a.createElement(Ae,{xs:12},F.title,m.a.createElement(ze,{message:_,color:"danger"})):F.title;var K,J,Q,Y=m.a.createElement(be,{onClick:function(){H(),d()},color:"transparent",key:"cancel"},F.cancel),ee=m.a.createElement(be,{onClick:function(){if(D.prefix){var e=Number.parseInt(D.count);if(Number.isNaN(e))z("invalid count: "+D.count);else if(D.pool){var a=Number.parseInt(D.cores);if(Number.isNaN(a))z("invalid cores: "+D.cores);else{var t=Number.parseInt(D.memory);if(Number.isNaN(t))z("invalid memory: "+D.memory);else{var n=[D.system_disk*(1<<30)];0!==D.data_disk&&n.push(D.data_disk*(1<<30));var l,r=D.system_version;l="__default"===D.from_image?"":D.from_image;var c=[],o=!1;D.modules.forEach((function(e,a){e&&(c.push(a),"cloud-init"===a&&(o=!0))}));var i=null;o&&(i={admin_name:D.module_cloud_init_admin_name,admin_secret:D.module_cloud_init_admin_password,data_path:D.module_cloud_init_data_path});var s={cpu_priority:D.priority,write_iops:D.iops,read_iops:D.iops,receive_speed:D.inbound*(1<<17),send_speed:D.outbound*(1<<17)};!function(e,a,t,n,l,r,c,o,i,s,m,u,d,f,p){var E=Ve();if(null!==E){var g={name_rule:e,count:t,owner:E.user,group:E.group,pool:n,cores:l,memory:r,disks:c,auto_start:o,from_image:i,system_version:s};a&&(g.name_prefix=a),m&&(g.modules=m),u&&(g.cloud_init=u),d&&(g.qos=d);Ia("/batch/create_guest/",g,(function(e,a){202===e?f(a.id):p("unexpected status "+e.toString())}),p)}else p("session expired")}(D.rule,D.prefix,e,D.pool,a,t,n,D.auto_start,l,r,c,i,s,L,z)}}}else z("must specify target pool")}else z("prefix required")},color:"info",key:"confirm"},F.confirm),ae=m.a.createElement(be,{onClick:function(){H(),u()},color:"info",key:"finish"},F.finish);if(g)switch(y){case t:K=Z(w),J=_?[Y]:[];break;case l:K=Z(w),J=[ae];break;default:J=[Y,ee];var ne=[];[1,2,4,8,16].forEach((function(e){ne.push(e.toString())}));var le,re=[];[1,2,4,8,16,32].forEach((function(e){var a,t=512*e*(1<<20);a=t>=1<<30?t/(1<<30)+" GB":t/(1<<20)+" MB",re.push({name:a,value:t.toString()})}));var ce,oe=[];[5,60,30].forEach((function(e){oe.push({value:e,label:e+" GB"})})),le=m.a.createElement(Ic.a,{color:"secondary",value:D.system_disk,max:60,min:5,step:1,valueLabelDisplay:"auto",marks:oe,onChange:G("system_disk")});var se,me=[{value:0,label:F.noDataDisk},{value:10,label:"10 GB"},{value:20,label:"20 GB"}];if(ce=m.a.createElement(Ic.a,{color:"secondary",value:D.data_disk,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:me,onChange:G("data_disk")}),D.system_version&&"__default"!==D.from_image){var ue=!0,de=D.system_version;R.versions.some((function(e){return de===e.name&&(ue=e.allowCI,!0)}));var fe,pe=[{value:"qemu",label:"QEMU-Guest-Agent"}];ue&&pe.push({value:"cloud-init",label:"CloudInit"}),fe=D.modules.get("cloud-init")?m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},"Cloud Init Options"),m.a.createElement(fn,null,m.a.createElement(Te.a,{label:F.adminName,onChange:V("module_cloud_init_admin_name"),value:D.module_cloud_init_admin_name,margin:"normal",fullWidth:!0})),m.a.createElement(fn,null,m.a.createElement(Te.a,{label:F.adminPassword,onChange:V("module_cloud_init_admin_password"),helperText:F.blankHelper,margin:"normal",fullWidth:!0})),m.a.createElement(fn,null,m.a.createElement(Te.a,{label:F.dataPath,onChange:V("module_cloud_init_data_path"),value:D.module_cloud_init_data_path,margin:"normal",disabled:!0,fullWidth:!0}))))):m.a.createElement(Ae,null),se=m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},F.modules),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},pe.map((function(e){var a,t,n;return a=!!D.modules.has(e.value)&&D.modules.get(e.value),m.a.createElement(Ae,{xs:12,sm:6,md:4,key:e.value},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:a,onChange:(t="modules",n=e.value,function(e){var a=e.target.checked;A((function(e){return Object(v.a)({},e,Object(X.a)({},t,e[t].set(n,a)))}))}),value:e.value}),label:e.label}))}))))))),fe)}else se=m.a.createElement(Ae,null);K=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},F.rule),m.a.createElement(Kl.a,{"aria-label":F.rule,name:"rule",value:D.rule,onChange:V("rule"),row:!0},m.a.createElement(te.a,{display:"flex"},m.a.createElement(te.a,null,m.a.createElement(Jl.a,{value:r,control:m.a.createElement(Zl.a,null),label:F.ruleOrder})),m.a.createElement(te.a,null,m.a.createElement(Jl.a,{value:c,control:m.a.createElement(Zl.a,{disabled:!0}),label:F.ruleMAC})),m.a.createElement(te.a,null,m.a.createElement(Jl.a,{value:o,control:m.a.createElement(Zl.a,{disabled:!0}),label:F.ruleAddress})))))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:6},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Yl.a,{component:"legend"},F.count),m.a.createElement(Ic.a,{color:"secondary",value:D.count,max:20,min:1,step:1,valueLabelDisplay:"auto",marks:[{value:1,label:"1"},{value:10,label:"10"},{value:20,label:"20"}],onChange:G("count")})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:F.prefix,onChange:V("prefix"),value:D.prefix,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:10,sm:4,md:3},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(nn.a,{htmlFor:"pool"},F.resourcePool),m.a.createElement(tn.a,{value:D.pool,onChange:V("pool"),inputProps:{name:"pool",id:"pool"},required:!0,fullWidth:!0},R.pools.map((function(e){return m.a.createElement(xe.a,{value:e,key:e},e)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},F.core),m.a.createElement(Kl.a,{"aria-label":F.core,name:"cores",value:D.cores,onChange:V("cores"),row:!0},m.a.createElement(Ie.a,{container:!0},ne.map((function(e){return m.a.createElement(Ae,{xs:3,sm:2,md:1,key:e},m.a.createElement(Jl.a,{value:e,control:m.a.createElement(Zl.a,null),label:e}))}))))))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},F.memory),m.a.createElement(Kl.a,{"aria-label":F.memory,name:"memory",value:D.memory,onChange:V("memory"),row:!0},m.a.createElement(Ie.a,{container:!0},re.map((function(e){return m.a.createElement(Ae,{xs:6,sm:3,md:2,key:e.value},m.a.createElement(Jl.a,{value:e.value,control:m.a.createElement(Zl.a,null),label:e.name}))})))))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Yl.a,{component:"legend"},F.systemDisk),le))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Yl.a,{component:"legend"},F.dataDisk),ce))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:10,sm:6,md:5},m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(nn.a,{htmlFor:"image"},F.sourceImage),m.a.createElement(tn.a,{value:D.from_image,onChange:V("from_image"),inputProps:{name:"image",id:"image"},fullWidth:!0},R.images.map((function(e){return m.a.createElement(xe.a,{value:e.value,key:e.value},e.name)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:10,sm:5,md:4},m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(nn.a,{htmlFor:"version"},F.systemVersion),m.a.createElement(tn.a,{value:D.system_version,onChange:V("system_version"),inputProps:{name:"version",id:"version"},fullWidth:!0},R.versions.map((function(e){return m.a.createElement(xe.a,{value:e.name,key:e.name},e.label)})))))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:8,sm:6,md:4},m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(nn.a,{htmlFor:"auto_start"},F.autoStartup),F.off,m.a.createElement(gl.a,{checked:D.failover,onChange:(Q="auto_start",function(e){var a=e.target.checked;A((function(e){return Object(v.a)({},e,Object(X.a)({},Q,a))}))}),color:"primary",inputProps:{name:"auto_start",id:"auto_start"}}),F.on))),se,m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:8,md:6},m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(Tc.a,null,m.a.createElement(Dc.a,{expandIcon:m.a.createElement(Bc.a,null)},F.qos),m.a.createElement(Ac.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},F.cpuPriority),m.a.createElement(Kl.a,{"aria-label":F.cpuPriority,value:D.priority,onChange:V("priority"),row:!0},m.a.createElement(Jl.a,{value:"high",control:m.a.createElement(Zl.a,null),label:F.cpuPriorityHigh,key:"high"}),m.a.createElement(Jl.a,{value:"medium",control:m.a.createElement(Zl.a,null),label:F.cpuPriorityMedium,key:"medium"}),m.a.createElement(Jl.a,{value:"low",control:m.a.createElement(Zl.a,null),label:F.cpuPriorityLow,key:"low"}))))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Yl.a,{component:"legend"},F.iops),m.a.createElement(Ic.a,{color:"secondary",value:D.iops,max:2e3,min:0,step:10,valueLabelDisplay:"auto",marks:[{value:0,label:F.noLimit},{value:2e3,label:2e3}],onChange:G("iops")}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Yl.a,{component:"legend"},F.inbound),m.a.createElement(Ic.a,{color:"secondary",value:D.inbound,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:F.noLimit},{value:20,label:"20 Mbit/s"}],onChange:G("inbound")}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(Yl.a,{component:"legend"},F.outbound),m.a.createElement(Ic.a,{color:"secondary",value:D.outbound,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:F.noLimit},{value:20,label:"20 Mbit/s"}],onChange:G("outbound")}))))))))))}else K=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),J=[Y,ee];return m.a.createElement(je.a,{open:s,"aria-labelledby":F.title,maxWidth:"md",fullWidth:!0},m.a.createElement(We.a,null,$),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},K))),m.a.createElement(Ne.a,null,J))}var to=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),no={en:{createButton:"Create New Instance",batchCreate:"Batch Create",batchDelete:"Batch Delete",batchStop:"Batch Stop",enterBatch:"Enter Batch Mode",exitBatch:"Exit Batch Mode",tableTitle:"Cloud Instances",name:"Name",cell:"Host Cell",address:"Address",core:"Core",memory:"Memory",disk:"Disk",status:"Status",operates:"Operates",noResource:"No instances available",computePools:"Compute Pools"},cn:{createButton:"\u521b\u5efa\u4e91\u4e3b\u673a",batchCreate:"\u6279\u91cf\u521b\u5efa",batchDelete:"\u6279\u91cf\u5220\u9664",batchStop:"\u6279\u91cf\u505c\u6b62",enterBatch:"\u8fdb\u5165\u6279\u91cf\u6a21\u5f0f",exitBatch:"\u9000\u51fa\u6279\u91cf\u6a21\u5f0f",tableTitle:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",name:"\u540d\u79f0",cell:"\u627f\u8f7d\u8282\u70b9",address:"\u5730\u5740",core:"\u6838\u5fc3",memory:"\u5185\u5b58",disk:"\u78c1\u76d8",status:"\u72b6\u6001",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u4e91\u4e3b\u673a\u5b9e\u4f8b",computePools:"\u8ba1\u7b97\u8d44\u6e90\u6c60"}};function lo(e){var a=to(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(new Map),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=Object(b.g)(),h=new URLSearchParams(g.search),v=h.get("pool"),x=h.get("cell"),y=m.a.useState(!1),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState(!1),O=Object(n.a)(w,2),j=O[0],N=O[1],_=m.a.useState(!1),W=Object(n.a)(_,2),I=W[0],T=W[1],D=m.a.useState(!1),A=Object(n.a)(D,2),P=A[0],B=A[1],R=m.a.useState(!1),M=Object(n.a)(R,2),F=M[0],z=M[1],H=m.a.useState(!1),L=Object(n.a)(H,2),q=L[0],U=L[1],V=m.a.useState(!1),G=Object(n.a)(V,2),$=G[0],Z=G[1],K=m.a.useState(!1),J=Object(n.a)(K,2),Q=J[0],Y=J[1],X=m.a.useState(!1),ee=Object(n.a)(X,2),ae=ee[0],ne=ee[1],le=m.a.useState(!1),re=Object(n.a)(le,2),ce=re[0],oe=re[1],se=m.a.useState(""),me=Object(n.a)(se,2),ue=me[0],de=me[1],fe=m.a.useState(""),pe=Object(n.a)(fe,2),Ee=pe[0],ge=pe[1],he=m.a.useState(""),ve=Object(n.a)(he,2),xe=ve[0],ye=ve[1],ke=m.a.useState("warning"),Ce=Object(n.a)(ke,2),Se=Ce[0],we=Ce[1],je=m.a.useState(""),Ne=Object(n.a)(je,2),_e=Ne[0],We=Ne[1],Ie=function(){We("")},Te=m.a.useCallback((function(e){we("warning"),We(e),setTimeout(Ie,3e3)}),[we,We]),De=function(e){we("info"),We(e),Oa(e),setTimeout(Ie,3e3)},Pe=m.a.useCallback((function(){ma(v,x,(function(e){var a=s,t=!1;if(e){c(e);var n=[];a.forEach((function(a,t){e.some((function(e){return e.id===t}))||n.push(t)})),e.forEach((function(e){var n=e.id;a.has(n)||(a.set(n,!1),t||(t=!0))})),0!==n.length&&n.forEach((function(e){a.delete(e),t||(t=!0)}))}else c([]),0!==a.size&&(a.clear(),t=!0);t&&u(new Map(a))}),(function(e){Te(e),Ge()}))}),[v,x,s,Te]),Be=function(e){N(!0),de(e)},Re=function(){N(!1)},Me=function(e){T(!0),de(e)},Fe=function(){T(!1)},ze=function(e){B(!0),de(e)},He=function(){B(!1)},Le=function(e){z(!0),de(e)},qe=function(){z(!1)},Ue=function(e){U(!0),de(e)},Ze=function(){U(!1)},Ke=function(e,a,t){Z(!0),de(e),ge(a),ye(t)},Je=function(){Z(!1)},Qe=function(){S(!1)},Ye=function(){Y(!1)},Xe=function(){ne(!1)},ea=function(){oe(!1)},aa=function(){Pe()},ta=function(e,a){var t=new Map(s);t.set(a,e),u(t)};if(m.a.useEffect((function(){var e=!0;Pe();var a=setInterval((function(){e&&Pe()}),5e3);return function(){e=!1,clearInterval(a)}}),[Pe]),!v)return console.log("pool name omit"),$e();if(null===Ve())return $e();var na,la=e.lang,ra=no[la];if(null===r)na=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});else if(0===r.length)na=m.a.createElement(St,null,ra.noResource);else{var ca;ca=p?m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,null,m.a.createElement(Or.a,{onChange:function(e){var a=e.target.checked,t=new Map,n=!0,l=!1,r=void 0;try{for(var c,o=s.keys()[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t.set(i,a)}}catch(m){l=!0,r=m}finally{try{n||null==o.return||o.return()}finally{if(l)throw r}}u(t)}})),m.a.createElement(te.a,null,ra.name)):ra.name,na=m.a.createElement(Pt,{color:"primary",headers:[ca,ra.cell,ra.address,ra.core,ra.memory,ra.disk,ra.status,ra.operates],rows:r.map((function(e){var a=e.id;return m.a.createElement(Nc,{key:e.id,instance:e,lang:la,checked:!(!s||!s.has(a))&&s.get(a),checkable:p,onCheckStatusChanged:ta,onNotify:De,onError:Te,onDelete:Be,onMediaStart:Me,onInsertMedia:ze,onResetSystem:Le,onBuildImage:Ue,onStatusChange:aa,onMigrateInstance:Ke})}))})}var oa=[m.a.createElement(Xa.a,{to:"/admin/compute_pools/",key:ra.computePools},ra.computePools)];x?(oa.push(m.a.createElement(Xa.a,{to:"/admin/instances/range/?pool="+v,key:v},v)),oa.push(m.a.createElement(ie.a,{color:"textPrimary",key:x},x))):oa.push(m.a.createElement(ie.a,{color:"textPrimary",key:v},v));var ia=[m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){S(!0)}},m.a.createElement(mt.a,null),ra.createButton),m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){oe(!0)}},m.a.createElement(Jr.a,null),ra.batchCreate)];p?ia.push(m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){ne(!0)}},m.a.createElement(qt.a,null),ra.batchDelete),m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){Y(!0)}},m.a.createElement(Zr.a,null),ra.batchStop),m.a.createElement(be,{size:"sm",color:"rose",round:!0,onClick:function(){E(!1)}},m.a.createElement(Yr.a,null),ra.exitBatch)):ia.push(m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){var e=new Map,a=!0,t=!1,n=void 0;try{for(var l,r=s.keys()[Symbol.iterator]();!(a=(l=r.next()).done);a=!0){var c=l.value;e.set(c,!1)}}catch(o){t=!0,n=o}finally{try{a||null==r.return||r.return()}finally{if(t)throw n}}u(e),E(!0)}},m.a.createElement(Ol.a,null),ra.enterBatch));var sa=[];return s&&(s.forEach((function(e,a){e&&sa.push(a)})),sa.sort()),m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ut.a,{separator:"\u203a","aria-label":"breadcrumb"},oa)),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},ia.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:a.cardTitleWhite},ra.tableTitle)),m.a.createElement(kt,null,na))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:Se,message:_e,open:""!==_e,closeNotification:Ie,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Mc,{lang:la,open:C,onSuccess:function(e){Qe(),De("new instance "+e+" created"),Pe()},onCancel:Qe})),m.a.createElement(Ae,null,m.a.createElement(Wc,{lang:la,instanceID:ue,open:j,onSuccess:function(e){Re(),De("instance "+e+" deleted"),Pe()},onCancel:Re})),m.a.createElement(Ae,null,m.a.createElement(zc,{lang:la,instanceID:ue,open:I,onSuccess:function(e){Fe(),De("instance "+e+" started with media"),Pe()},onCancel:Fe})),m.a.createElement(Ae,null,m.a.createElement(Lc,{lang:la,instanceID:ue,open:P,onSuccess:function(e){He(),De("instance "+e+" started with media"),Pe()},onCancel:He})),m.a.createElement(Ae,null,m.a.createElement(Gc,{lang:la,instanceID:ue,open:F,onSuccess:function(e){qe(),De("guest system of "+e+" reset")},onCancel:qe})),m.a.createElement(Ae,null,m.a.createElement(Uc,{lang:la,instanceID:ue,open:q,onSuccess:function(e){Ze(),De("new image "+e+" created from "+ue)},onCancel:Ze})),m.a.createElement(Ae,null,m.a.createElement(Zc,{lang:la,instanceID:ue,sourcePool:Ee,sourceCell:xe,open:$,onSuccess:function(e){Je(),De("instance "+e+" migrated"),Pe()},onCancel:Je})),m.a.createElement(Ae,null,m.a.createElement(Qc,{lang:la,open:Q,targets:Q?sa:[],onSuccess:function(){Ye(),Pe()},onCancel:Ye})),m.a.createElement(Ae,null,m.a.createElement(Xc,{lang:la,open:ae,targets:ae?sa:[],onSuccess:function(){Xe(),Pe()},onCancel:Xe})),m.a.createElement(Ae,null,m.a.createElement(ao,{lang:la,open:ce,onSuccess:function(){ea(),Pe()},onCancel:ea})))}var ro=t(260),co=t.n(ro),oo=t(259),io=t.n(oo),so=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(o.a)(a).call(this,e))).disconnect=function(){t.rfb&&(t.rfb.disconnect(),t.rfb=null)},t.connect=function(){if(t.disconnect(),t.container){var e=t.props,a=e.url,n={credentials:{password:e.password}};t.rfb=new io.a(t.container,a,n)}},t.bindContainer=function(e){t.container=e},t.handleMouseEnter=function(){t.rfb&&t.rfb.focus()},t.handleMouseLeave=function(){t.rfb&&t.rfb.blur()},e.delegate.sendEmergencyKeys=t.sendEmergencyKeys.bind(Object(Ua.a)(t)),t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.connect()}},{key:"componentWillUnmount",value:function(){this.disconnect()}},{key:"componentWillReceiveProps",value:function(e){this.rfb}},{key:"sendEmergencyKeys",value:function(){this.rfb&&this.rfb.sendCtrlAltDel()}},{key:"render",value:function(){return m.a.createElement("div",{style:this.props.style,ref:this.bindContainer,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave})}}]),a}(m.a.Component);so.defaultProps={style:null,encrypt:null,wsProtocols:["binary"],trueColor:!0,localCursor:!0,connectTimeout:5,disconnectTimeout:5,width:1280,height:720,onClipboard:null,onUpdateState:null,onPasswordRequired:null,onBell:null,onDesktopName:null,shared:!1};var mo={en:{instance:"Instance",sendKeys:"Send Ctrl+Alt+Delete",stop:"Stop Instance",reboot:"Reboot Instance",reset:"Reset Instance",insertMedia:"Insert Media",ejectMedia:"Eject Media"},cn:{instance:"\u4e91\u4e3b\u673a",sendKeys:"\u53d1\u9001 Ctrl+Alt+Delete",stop:"\u505c\u6b62\u4e91\u4e3b\u673a",reboot:"\u91cd\u542f\u4e91\u4e3b\u673a",reset:"\u5f3a\u5236\u91cd\u542f\u4e91\u4e3b\u673a",insertMedia:"\u63d2\u5165\u5149\u76d8\u955c\u50cf",ejectMedia:"\u5f39\u51fa\u5149\u76d8\u955c\u50cf"}};function uo(e){var a=e.match.params.id,t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(!1),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState("warning"),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(""),b=Object(n.a)(g,2),h=b[0],v=b[1],x=function(){v("")},y=m.a.useCallback((function(e){E("warning"),v(e),setTimeout(x,3e3)}),[E,v]),k=function(e){E("info"),v(e),Oa(e),setTimeout(x,3e3)},C=m.a.useCallback((function(e){y(e)}),[y]),S=function(){u(!1)};if(m.a.useEffect((function(){ua(a,(function(e){!function(e,a,t){Wa("/monitor_channels/",{guest:e},(function(e){a(e.id,e.password)}),t)}(a,(function(a,t){var n={name:e.name,pool:e.pool,cell:e.cell,channel:a,password:t,delegate:{}};c(n)}),C)}),C)}),[a,C]),null===Ve())return $e();var w,O,j=e.lang,N=mo[j];if(null===r)w=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),O=m.a.createElement(te.a,null);else{var _=function(e){var a=Xe+"/monitor_channels/"+e;if(a.startsWith("ws://"))return a;if(a.startsWith("http://"))return a.replace("http://","ws://");if(a.startsWith("https://"))return a.replace("https://","ws://");var t="ws://"+window.location.hostname;return window.location.port&&(t+=":"+window.location.port),t+a}(r.channel);w=m.a.createElement(so,{url:_,password:r.password,delegate:r.delegate});var W=[{tips:N.sendKeys,icon:co.a,handler:function(){r&&r.delegate&&r.delegate.sendEmergencyKeys&&r.delegate.sendEmergencyKeys()}},{tips:N.insertMedia,icon:xc.a,handler:function(){u(!0)}},{tips:N.ejectMedia,icon:kc.a,handler:function(){da(a,(function(){k("media of instance "+r.name+" ejected")}),C)}},{tips:N.stop,icon:Zr.a,handler:function(){fa(a,(function(){k("instance "+r.name+" stopped")}),C)}},{tips:N.reboot,icon:gc.a,handler:function(){pa(a,(function(){k("instance "+r.name+" reboot")}),C)}},{tips:N.reset,icon:hc.a,handler:function(){Ea(a,(function(){k("instance "+r.name+" reset")}),C)}}];O=m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,{flexGrow:1,fontWeight:"fontWeightBold",letterSpacing:10},m.a.createElement(ie.a,{component:"span"},N.instance+": "+r.name)),W.map((function(e,a){return m.a.createElement(te.a,{key:a},m.a.createElement(ce.a,{title:e.tips,placement:"top"},m.a.createElement(oe.a,{color:"inherit",onClick:e.handler},m.a.createElement(e.icon))))})))}return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},O),m.a.createElement(kt,null,w))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:p,message:h,open:""!==h,closeNotification:x,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Lc,{lang:j,instanceID:a,open:s,onSuccess:function(){S(),k("media insert into instance "+r.name)},onCancel:S})))}var fo={en:{title:"Instance",cores:"Cores",memory:"Memory",disks:"Disk",autoStartup:"Auto Startup",internalAddress:"Internal Address",externalAddress:"External Address",ioUsage:"IO Usage",stopped:"Stopped ",running:"Running ",used:"Used ",available:"Available ",coresUsed:"Cores Used",throughput:"Throughput",receive:"Receive ",send:"Send ",write:"Write ",read:"Read ",flags:"Running Flags",mediaAttached:"Media Attached"},cn:{title:"\u4e91\u4e3b\u673a",cores:"\u6838\u5fc3\u6570",memory:"\u5185\u5b58",disks:"\u78c1\u76d8",autoStartup:"\u5f00\u673a\u542f\u52a8",internalAddress:"\u5185\u90e8\u5730\u5740",externalAddress:"\u5916\u90e8\u5730\u5740",ioUsage:"IO\u541e\u5410\u91cf",stopped:"\u505c\u6b62",running:"\u8fd0\u884c",used:"\u5df2\u7528",available:"\u53ef\u7528",coresUsed:"\u6838\u5fc3\u5df2\u5360\u7528",throughput:"\u541e\u5410\u91cf",receive:"\u63a5\u6536",send:"\u53d1\u9001",write:"\u5199\u5165",read:"\u8bfb\u53d6",flags:"\u8fd0\u884c\u6807\u5fd7",mediaAttached:"\u5df2\u6302\u8f7d\u5a92\u4f53"}},po={borderRadius:"3px",marginTop:"-20px",padding:"15px"},Eo=Object(v.a)({},Cn,{},Z,{cardWithDivider:{borderTop:"1px solid "+W[10]},coresChart:Object(v.a)({},po,{background:j[0]}),memoryChart:Object(v.a)({},po,{background:N[0]}),networkChart:Object(v.a)({},po,{background:w[0]}),diskChart:Object(v.a)({},po,{background:_[0]}),disableChart:Object(v.a)({},po,{background:W[5]})}),go=Object(h.a)(Eo),bo=function(e){var a,t,n,l=e.lang,r=e.status,c=go(),o=fo[l];if(a=r.running?m.a.createElement(ie.a,{component:"span",className:c.cardTitle},m.a.createElement(ec.a,{className:c.successText}),o.title+": "+r.name+" ( "+o.running+" )"):m.a.createElement(ie.a,{component:"span",className:c.cardTitle},m.a.createElement(tc.a,{className:c.mutedText}),o.title+": "+r.name+" ( "+o.stopped+" )"),r.running){var i={label:o.coresUsed,color:T,data:[]},s=0;r.coreRecords.forEach((function(e){i.data.push(e.current),s=Math.max(s,e.max)}));var u=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"cores-usage"},m.a.createElement(te.a,{m:0,p:0,className:c.coresChart,boxShadow:2},m.a.createElement(wn,{series:[i],minTickStep:1,maxValue:100,maxTicks:5,displayValue:function(e){return e.toString()+"%"}}))),d={label:o.used+o.memory,color:W[4],data:[]},f={label:o.available+o.memory,color:j[1],data:[]};r.memoryRecords.forEach((function(e){d.data.push(e.used),f.data.push(e.available)}));var p=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"memory-usage"},m.a.createElement(te.a,{m:0,p:0,className:c.memoryChart,boxShadow:2},m.a.createElement(jn,{series:[d,f],minTickStep:1024,displayValue:function(e){return 0===e?"0":e>=1024?0===e%1024?(e/1024).toString()+" GB":(e/1024).toFixed(2)+" GB":e.toString()+" MB"}}))),E={label:o.receive+o.throughput,color:N[3],data:[]},g={label:o.send+o.throughput,color:S[1],data:[]};r.networkSpeed.forEach((function(e){E.data.push(Je(e.receive/(1<<20),2)),g.data.push(Je(e.send/(1<<20),2))}));var b=function(e){return e>=1024?0===e%1024?(e/1024).toString()+" GB/s":(e/1024).toFixed(2)+" GB/s":Number.isInteger(e)?e.toString()+" MB/s":e.toFixed(2)+" MB/s"},h=[E,g],v=m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"network-usage"},m.a.createElement(te.a,{m:0,p:0,className:c.networkChart,boxShadow:2},m.a.createElement(_n,{series:h,displayValue:b,minTickStep:1}))),x={label:o.write+o.throughput,color:j[1],data:[]},y={label:o.read+o.throughput,color:N[3],data:[]};r.diskSpeed.forEach((function(e){x.data.push(Je(e.write/(1<<20),2)),y.data.push(Je(e.read/(1<<20),2))}));var k=[x,y];t=[u,p,v,m.a.createElement(Ae,{xs:8,sm:6,md:3,key:"io-usage"},m.a.createElement(te.a,{m:0,p:0,className:c.diskChart,boxShadow:2},m.a.createElement(_n,{series:k,displayValue:b,minTickStep:1})))];var C=m.a.createElement(te.a,{m:1,p:2,key:"core-label"},m.a.createElement(ie.a,{component:"span",className:c.cardTitle},o.cores+": "),m.a.createElement(ie.a,{component:"span"},r.cores)),w=m.a.createElement(te.a,{m:1,p:2,key:"memory-label"},m.a.createElement(ie.a,{component:"span",className:c.cardTitle},o.memory+": "),m.a.createElement(ie.a,{component:"span"},Ze(r.memory))),O=[];r.disks.forEach((function(e){O.push(Ze(e))}));var _=m.a.createElement(te.a,{m:1,p:2,key:"disk-label"},m.a.createElement(ie.a,{component:"span",className:c.cardTitle},o.disks+": "),m.a.createElement(ie.a,{component:"span"},O.join(" / "))),I=m.a.createElement(te.a,{m:1,p:2,key:"internal-label"},m.a.createElement(ie.a,{component:"span",className:c.cardTitle},o.internalAddress+": "),m.a.createElement(ie.a,{component:"span"},r.internal&&r.internal.network_address?r.internal.network_address:"")),D=m.a.createElement(te.a,{m:1,p:2,key:"external-label"},m.a.createElement(ie.a,{component:"span",className:c.cardTitle},o.externalAddress+": "),m.a.createElement(ie.a,{component:"span"},r.external&&r.external.network_address?r.external.network_address:"")),A=[];r.auto_start&&A.push(m.a.createElement(ce.a,{title:o.autoStartup,placement:"top",key:o.autoStartup},m.a.createElement(Sc.a,{className:c.infoText}))),r.media_attached&&A.push(m.a.createElement(ce.a,{title:o.mediaAttached,placement:"top",key:o.mediaAttached},m.a.createElement(Oc.a,{className:c.infoText}))),n=[C,w,_,I,D,m.a.createElement(te.a,{m:1,p:2,key:"flag-label"},m.a.createElement(ie.a,{component:"span",className:c.cardTitle},o.flags+": "),A)]}else t=new Array(4).fill(m.a.createElement(Ae,{xs:8,sm:6,md:3},m.a.createElement(te.a,{m:0,p:0,className:c.disableChart,boxShadow:2}))),n=[];return m.a.createElement(gt,{chart:!0},m.a.createElement(vt,null,m.a.createElement(ft,null,t)),m.a.createElement(kt,null,a,m.a.createElement(te.a,{m:0,p:0,className:c.cardWithDivider,display:"flex",alignItems:"center"},n)))};function ho(e){var a,t,l=e.match.params.id,r=m.a.useState(null),c=Object(n.a)(r,2),o=c[0],i=c[1],s=m.a.useState(""),u=Object(n.a)(s,2),d=u[0],f=u[1],p=function(){f("")},E=m.a.useCallback((function(e){f(e),setTimeout(p,3e3)}),[f]);if(m.a.useEffect((function(){var e,a=!0,t=new Array(5).fill({current:0,max:0}),n=new Array(5).fill({available:0,used:0}),r=new Array(5).fill({receive:0,send:0}),c=new Array(5).fill({write:0,read:0}),o=new Array(5).fill({receive:0,send:0}),s=new Array(5).fill({write:0,read:0}),m=!1;return ua(l,(function(u){var d=u.pool,f=u.cell,p=function(){var e,a,u;e=function(e){if(t.shift(),t.push({current:Je(e.cpu_usage,2),max:e.cores}),n.shift(),n.push({available:Je(e.memory_available/(1<<20),2),used:Je((e.memory-e.memory_available)/(1<<20),2)}),r.shift(),r.push({receive:e.bytes_received,send:e.bytes_sent}),c.shift(),c.push({write:e.bytes_written,read:e.bytes_read}),m){var a=(r[r.length-1].receive-r[r.length-2].receive)/2,l=(r[r.length-1].send-r[r.length-2].send)/2,u=(c[c.length-1].write-c[c.length-2].write)/2,p=(c[c.length-1].read-c[c.length-2].read)/2;o.shift(),o.push({receive:a,send:l}),s.shift(),s.push({write:u,read:p})}else m=!0;var E=Object(v.a)({},e,{pool:d,cell:f,coreRecords:t,memoryRecords:n,networkRecords:r,diskRecords:c,networkSpeed:o,diskSpeed:s});i(E)},_a("/instances/"+l,(function(t,n){if(201===t){var l=n.progress,r=n.name,c=n.created;u(l,r,c)}else 200===t?e(n):a("unexpected status "+t.toString())}),a)};p();e=setInterval((function(){a&&p()}),2e3)}),E),function(){a=!1,e&&clearInterval(e)}}),[l,E]),null===Ve())return $e();if(o){a=m.a.createElement(Ae,{xs:12},m.a.createElement(bo,{status:o,lang:e.lang}));var g=[m.a.createElement(Xa.a,{to:"/admin/instances/range/?pool="+o.pool,key:o.pool},o.pool),m.a.createElement(Xa.a,{to:"/admin/instances/range/?pool="+o.pool+"&cell="+o.cell,key:o.cell},o.cell),m.a.createElement(ie.a,{color:"textPrimary",key:o.name},o.name)];t=m.a.createElement(ut.a,{separator:"\u203a","aria-label":"breadcrumb"},g)}else a=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),t=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},t),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),a,m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:"warning",message:d,open:""!==d,closeNotification:p,close:!0})))}var vo=t(544),xo=t(543),yo=t(264),ko=t.n(yo),Co=t(263),So=t.n(Co),wo=t(261),Oo=t.n(wo),jo=t(262),No=t.n(jo),_o=t(265),Wo=t.n(_o),Io=t(194),To={en:{title:"Create Snapshot",name:"Name",description:"Description",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u4e91\u4e3b\u673a\u5feb\u7167",name:"\u540d\u79f0",description:"\u63cf\u8ff0",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Do(e){var a,t={name:"",description:""},l=e.lang,r=e.open,c=e.instanceID,o=e.onSuccess,i=e.onCancel,s=m.a.useState(""),u=Object(n.a)(s,2),d=u[0],f=u[1],p=m.a.useState(t),E=Object(n.a)(p,2),g=E[0],b=E[1],h=To[l],x=function(e){f(e)},y=function(){f(""),b(t)},k=function(e){y(),o(e)},C=function(e){return function(a){var t=a.target.value;b((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},S=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:h.name,onChange:C("name"),value:g.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:h.description,onChange:C("description"),value:g.description,margin:"normal",required:!0,fullWidth:!0})))));return a=d&&""!==d?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:d,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":h.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,h.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},S),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){y(),i()},color:"transparent",autoFocus:!0},h.cancel),m.a.createElement(be,{onClick:function(){g.name?g.description?function(e,a,t,n,l){Wa("/instances/"+e+"/snapshots/",{name:a,description:t},(function(){n(a,e)}),l)}(c,g.name,g.description,k,x):x("must specify description"):x("must specify snapshot name")},color:"info"},h.confirm)))}var Ao={en:{title:"Delete Snapshot",content:"Are you sure to delete snapshot ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u4e91\u4e3b\u673a\u5feb\u7167",content:"\u662f\u5426\u5220\u9664\u4e91\u4e3b\u673a\u5feb\u7167 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Po(e){var a,t=e.lang,l=e.instanceID,r=e.snapshotName,c=e.open,o=e.onSuccess,i=e.onCancel,s=m.a.useState(""),u=Object(n.a)(s,2),d=u[0],f=u[1],p=Ao[t],E=function(e){f(e)},g=function(){f(""),o(r)};return a=d&&""!==d?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:d,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":p.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,p.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},p.content+r),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){f(""),i()},color:"transparent",autoFocus:!0},p.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n){Aa("/instances/"+e+"/snapshots/"+a,(function(){t(a,e)}),n)}(l,r,g,E)},color:"info"},p.confirm)))}var Bo={en:{title:"Revert Snapshot",content:"Are you sure to revert snapshot ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6062\u590d\u4e91\u4e3b\u673a\u5feb\u7167",content:"\u662f\u5426\u6062\u590d\u4e91\u4e3b\u673a\u5feb\u7167 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ro(e){var a,t=e.lang,l=e.instanceID,r=e.snapshotName,c=e.open,o=e.onSuccess,i=e.onCancel,s=m.a.useState(""),u=Object(n.a)(s,2),d=u[0],f=u[1],p=Bo[t],E=function(e){f(e)},g=function(){f(""),o(r)};return a=d&&""!==d?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:d,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":p.title},m.a.createElement(We.a,null,p.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},p.content+r),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){f(""),i()},color:"transparent",autoFocus:!0},p.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n){Da("/instances/"+e+"/snapshots/",{target:a},(function(){t(a,e)}),n)}(l,r,g,E)},color:"info"},p.confirm)))}var Mo={panel:{background:t.n(Io).a[100]}},Fo={en:{title:"Snapshots of ",noResource:"No snapshots created",back:"Back",create:"Create New Snapshot",delete:"Delete",revert:"Revert",current:"Current",name:"Name",description:"Description",createdTime:"Created Time",type:"Type",offline:"Offline Snapshot",realtime:"Realtime Snapshot"},cn:{title:"\u4e91\u4e3b\u673a\u5feb\u7167:",noResource:"\u5c1a\u672a\u521b\u5efa\u4e91\u4e3b\u673a\u5feb\u7167",back:"\u8fd4\u56de",create:"\u521b\u5efa\u65b0\u5feb\u7167",delete:"\u5220\u9664",revert:"\u6062\u590d",current:"\u5f53\u524d",name:"\u5feb\u7167\u540d\u79f0",description:"\u63cf\u8ff0",createdTime:"\u521b\u5efa\u65f6\u95f4",type:"\u7c7b\u578b",offline:"\u79bb\u7ebf\u5feb\u7167",realtime:"\u5b9e\u65f6\u5feb\u7167"}};function zo(e){var a=Object(h.a)(Mo)(),t=e.match.params.id,l=m.a.useState(null),r=Object(n.a)(l,2),c=r[0],o=r[1],i=m.a.useState(null),s=Object(n.a)(i,2),u=s[0],d=s[1],f=m.a.useState(!1),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState(!1),x=Object(n.a)(b,2),y=x[0],k=x[1],C=m.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState("warning"),N=Object(n.a)(j,2),_=N[0],W=N[1],I=m.a.useState(""),T=Object(n.a)(I,2),D=T[0],A=T[1],P=function(){A("")},B=m.a.useCallback((function(e){W("warning"),A(e),setTimeout(P,3e3)}),[W,A]),R=function(e){W("info"),A(e),Oa(e),setTimeout(P,3e3)},M=m.a.useCallback((function(e){B(e)}),[B]),F=m.a.useCallback((function(e,a,t){var n=[];return t.get(e).forEach((function(e){var l={name:e};a===e&&(l.isCurrent=!0),t.has(e)&&(l.children=F(e,a,t)),n.push(l)})),n}),[]),z=m.a.useCallback((function(e){!function(e,a,t){Na("/instances/"+e+"/snapshots/",a,t)}(t,(function(a){var t="",n="",l={},r=new Map;if(Object.keys(a).forEach((function(e){r.set(e,a[e])})),0!==r.length){var c=new Map;r.forEach((function(e,a){if(e.is_root&&(t=a),e.is_current&&(n=a),e.backing){var l=e.backing;c.has(l)?c.get(l).push(a):c.set(l,[a])}})),""!==t&&(l.name=t,t===n&&(l.isCurrent=!0),c.has(t)&&(l.children=F(t,n,c)))}o(e?{name:e,rootName:t,current:n,rootNode:l}:function(e){return Object(v.a)({},e,{rootName:t,current:n,rootNode:l})})}),M)}),[t,M,F]),H=function(){g(!1)},L=function(){k(!1)},q=function(){O(!1)},U=function(e){!function(e,a,t,n){Na("/instances/"+e+"/snapshots/"+a,t,n)}(t,e,(function(a){d(Object(v.a)({},a,{name:e}))}),M)};if(m.a.useEffect((function(){ua(t,(function(e){z(e.name)}),M)}),[t,M,z]),null===Ve())return $e();var V,G,$=e.lang,Z=Fo[$],K=[];if(null===c)V=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),G="";else{if(""===c.rootName)V=m.a.createElement(te.a,{display:"flex",justifyContent:"center"},Z.noResource);else{var J,Q=[],Y=function e(a){var t;t=a.isCurrent?a.name+"( "+Z.current+" )":a.name,Q.push(a.name);var n={nodeId:a.name,label:t,key:a.name,onClick:function(e){e.preventDefault(),U(a.name)}};if(a.name===c.rootName?n.icon=m.a.createElement(Oo.a,null):a.name===c.current&&(n.icon=m.a.createElement(No.a,null)),a.children){var l=[];a.children.forEach((function(a){l.push(e(a))})),n.children=l}return m.a.createElement(xo.a,n)}(c.rootNode),X=m.a.createElement(vo.a,{defaultCollapseIcon:m.a.createElement(So.a,null),defaultExpandIcon:m.a.createElement(ko.a,null),defaultEndIcon:m.a.createElement(cc.a,null),defaultExpanded:Q},Y);if(u){var ee=[{title:Z.name,value:u.name},{title:Z.description,value:u.description},{title:Z.createdTime,value:u.create_time},{title:Z.type,value:u.running?Z.realtime:Z.offline}],ae=[m.a.createElement(be,{size:"sm",color:"info",onClick:function(){O(!0)}},m.a.createElement(Wo.a,null),Z.revert),m.a.createElement(be,{size:"sm",color:"info",onClick:function(){k(!0)}},m.a.createElement(qt.a,null),Z.delete)];J=m.a.createElement(Ce.a,{className:a.panel},m.a.createElement(te.a,{p:2,m:1},m.a.createElement(Nt.a,{size:"small"},m.a.createElement(It.a,null,ee.map((function(e){return m.a.createElement(Wt.a,{key:e.title},m.a.createElement(Tt.a,{component:"th"},m.a.createElement(ie.a,{component:"span",variant:"subtitle1"},e.title)),m.a.createElement(Tt.a,null,m.a.createElement(ie.a,{component:"span"},e.value)))}))))),m.a.createElement(te.a,{display:"flex",m:2},ae.map((function(e,a){return m.a.createElement(te.a,{key:a,m:2,p:1},e)}))))}else J=m.a.createElement("div",null);V=m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12,sm:6},X),m.a.createElement(Ae,{xs:12,sm:6},J))}G=Z.title+c.name,K=[m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){e.history.goBack()}},m.a.createElement(zl.a,null),Z.back),m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){g(!0)}},m.a.createElement(mt.a,null),Z.create)]}return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},K.map((function(e,a){return m.a.createElement(te.a,{key:a,pl:2,pr:2},e)})))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},G),m.a.createElement(kt,null,V))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:_,message:D,open:""!==D,closeNotification:P,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Do,{lang:$,open:E,instanceID:t,onSuccess:function(e){H(),R("new snapshot "+e+" created for "+c.name),z()},onCancel:H})),m.a.createElement(Ae,null,m.a.createElement(Po,{lang:$,open:y,instanceID:t,snapshotName:u?u.name:"",onSuccess:function(e){L(),R("snapshot "+e+" deleted"),z()},onCancel:L})),m.a.createElement(Ae,null,m.a.createElement(Ro,{lang:$,open:w,instanceID:t,snapshotName:u?u.name:"",onSuccess:function(e){q(),R("restored to snapshot "+e),z()},onCancel:q})))}var Ho=t(545),Lo=t(198),qo=t.n(Lo),Uo=t(199),Vo=t.n(Uo),Go=t(200),$o=t.n(Go),Zo=t(201),Ko=t.n(Zo),Jo={en:{title:"Modify Instance Name",current:"Current Name",new:"New Name",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u4e91\u4e3b\u673a\u540d\u79f0",current:"\u5f53\u524d\u4e91\u4e3b\u673a\u540d",new:"\u65b0\u4e3b\u673a\u540d",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Qo(e){var a,t,l={name:""},r=e.lang,c=e.open,o=e.instanceID,i=e.current,s=e.onSuccess,u=e.onCancel,d=i?i.name.slice(i.group.length+1):"",f=m.a.useState(""),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState(l),h=Object(n.a)(b,2),x=h[0],y=h[1],k=Jo[r],C=function(e){g(e)},S=function(){g(""),y(l)},w=function(e){S(),s(e,o)},O=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.current,value:d,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.new,onChange:(a="name",function(e){var t=e.target.value;y((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))}),value:x.name,margin:"normal",required:!0,fullWidth:!0})))));return t=E&&""!==E?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:E,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":k.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,k.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},O),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){S(),u()},color:"transparent",autoFocus:!0},k.cancel),m.a.createElement(be,{onClick:function(){if(x.name){var e=[i.group,x.name].join(".");d!==e?function(e,a,t,n){Da("/guests/"+e+"/name/",{name:a},(function(){t(a,e)}),n)}(o,e,w,C):C("no need to modify")}else C("must specify new instance name")},color:"info"},k.confirm)))}var Yo={en:{title:"Modify Instance Cores",current:"Current Cores",new:"New Cores",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u6838\u5fc3\u6570",current:"\u5f53\u524d\u6838\u5fc3\u6570",new:"\u65b0\u6838\u5fc3\u6570",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Xo(e){var a,t,l={cores:""},r=e.lang,c=e.open,o=e.instanceID,i=e.current,s=e.onSuccess,u=e.onCancel,d=i?i.cores:0,f=m.a.useState(""),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState(l),h=Object(n.a)(b,2),x=h[0],y=h[1],k=Yo[r],C=function(e){g(e)},S=function(){g(""),y(l)},w=function(e){S(),s(e,o)},O=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.current,value:d.toString(),margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.new,onChange:(a="cores",function(e){var t=e.target.value;y((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))}),value:x.cores,margin:"normal",required:!0,fullWidth:!0})))));return t=E&&""!==E?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:E,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":k.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,k.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},O),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){S(),u()},color:"transparent",autoFocus:!0},k.cancel),m.a.createElement(be,{onClick:function(){if(x.cores){var e=Number.parseInt(x.cores);Number.isNaN(e)?C("invalid cores number: "+x.cores):d!==e?function(e,a,t,n){Da("/guests/"+e+"/cores",{cores:a},(function(){t(a,e)}),n)}(o,e,w,C):C("no need to modify")}else C("must specify new instance cores")},color:"info"},k.confirm)))}var ei={en:{title:"Modify Memory of Instance",current:"Current Memory Size",new:"New Memory Size (MB)",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u5185\u5b58\u5927\u5c0f",current:"\u5f53\u524d\u5185\u5b58\u5bb9\u91cf",new:"\u65b0\u5185\u5b58\u5bb9\u91cf(MB)",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ai(e){var a,t,l={memory:""},r=e.lang,c=e.open,o=e.instanceID,i=e.current,s=e.onSuccess,u=e.onCancel,d=i?i.memory:0,f=Ze(d),p=m.a.useState(""),E=Object(n.a)(p,2),g=E[0],b=E[1],h=m.a.useState(l),x=Object(n.a)(h,2),y=x[0],k=x[1],C=ei[r],S=function(e){b(e)},w=function(){b(""),k(l)},O=function(e){w(),s(e,o)},j=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:C.current,value:f,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:C.new,onChange:(a="memory",function(e){var t=e.target.value;k((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))}),value:y.memory,margin:"normal",required:!0,fullWidth:!0})))));return t=g&&""!==g?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:g,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":C.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,C.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},j),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){w(),u()},color:"transparent",autoFocus:!0},C.cancel),m.a.createElement(be,{onClick:function(){if(y.memory){var e=Number.parseInt(y.memory);if(Number.isNaN(e))S("invalid memory size: "+y.memory);else{var a=e*(1<<20);d!==a?function(e,a,t,n){Da("/guests/"+e+"/memory",{memory:a},(function(){t(a,e)}),n)}(o,a,O,S):S("no need to modify")}}else S("must specify new memory size")},color:"info"},C.confirm)))}var ti={en:{title:"Modify Admin Password",name:"Admin Name",new:"New Password (generate a new one when blank)",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7ba1\u7406\u5458\u5bc6\u7801",name:"\u5f53\u524d\u7ba1\u7406\u5458",new:"\u65b0\u5bc6\u7801(\u7559\u7a7a\u5219\u81ea\u52a8\u751f\u6210)",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ni(e){var a,t,l={password:""},r=e.lang,c=e.open,o=e.instanceID,i=e.current,s=e.onSuccess,u=e.onCancel,d=i?i.owner:"",f=m.a.useState(""),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState(l),h=Object(n.a)(b,2),x=h[0],y=h[1],k=ti[r],C=function(e){g(e)},S=function(){g(""),y(l)},w=function(e){S(),s(e,o)},O=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.name,value:d,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.new,onChange:(a="password",function(e){var t=e.target.value;y((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))}),value:x.password,margin:"normal",required:!0,fullWidth:!0})))));return t=E&&""!==E?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:E,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":k.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,k.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},O),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){S(),u()},color:"transparent",autoFocus:!0},k.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n,l){var r={};a&&(r.user=a),t&&(r.password=t),Da("/guests/"+e+"/auth",r,(function(a){var t=a.user,l=a.password;n(t,l,e)}),l)}(o,d,x.password,w,C)},color:"info"},k.confirm)))}var li={en:{title:"Extend Disk Size",current:"Current Disk Size",new:"New Disk Size (GB)",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6269\u5c55\u78c1\u76d8\u5bb9\u91cf",current:"\u5f53\u524d\u78c1\u76d8\u5bb9\u91cf",new:"\u65b0\u78c1\u76d8\u5bb9\u91cf(GB)",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ri(e){var a,t,l={size:""},r=e.lang,c=e.open,o=e.instanceID,i=e.current,s=e.index,u=e.onSuccess,d=e.onCancel,f=i?i.disks[s]:0,p=Ze(f),E=m.a.useState(""),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(l),y=Object(n.a)(x,2),k=y[0],C=y[1],S=li[r],w=function(e){h(e)},O=function(){h(""),C(l)},j=function(e,a){O(),u(e,a,o)},N=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:S.current,value:p,margin:"normal",disabled:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:S.new,onChange:(a="size",function(e){var t=e.target.value;C((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))}),value:k.size,margin:"normal",required:!0,fullWidth:!0})))));return t=b&&""!==b?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:b,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":S.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,S.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},N),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){O(),d()},color:"transparent",autoFocus:!0},S.cancel),m.a.createElement(be,{onClick:function(){if(k.size){var e=Number.parseInt(k.size);if(Number.isNaN(e))w("invalid disk size: "+k.size);else{var a=e*(1<<30);f!==a?function(e,a,t,n,l){var r={size:t};Da("/guests/"+e+"/disks/resize/"+a.toString(),r,(function(){n(a,t,e)}),l)}(o,s,a,j,w):w("no need to modify")}}else w("must specify new disk size")},color:"info"},S.confirm)))}var ci={en:{title:"Shrink Disk Size",content1:"Are you sure to shrink size of ",content2:" ? it will take a long time, please be patient and ignore the timeout warning.",cancel:"Cancel",confirm:"Confirm",systemDisk:"System Disk",dataDisk:"Data Disk"},cn:{title:"\u538b\u7f29\u78c1\u76d8\u5bb9\u91cf",content1:"\u662f\u5426\u538b\u7f29 ",content2:" \u7684\u78c1\u76d8\u7a7a\u95f4\uff0c\u8fd9\u4f1a\u5360\u7528\u5f88\u957f\u65f6\u95f4\uff0c\u8bf7\u5ffd\u7565\u8d85\u65f6\u63d0\u793a\u5e76\u8010\u5fc3\u7b49\u5f85",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",systemDisk:"\u7cfb\u7edf\u78c1\u76d8",dataDisk:"\u6570\u636e\u78c1\u76d8"}};function oi(e){var a,t,l=e.lang,r=e.instanceID,c=e.index,o=e.open,i=e.onSuccess,s=e.onCancel,u=m.a.useState(""),d=Object(n.a)(u,2),f=d[0],p=d[1],E=ci[l],g=function(e){p(e)},b=function(e){p(""),i(e,r)};return a=f&&""!==f?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:f,color:"danger"})):m.a.createElement(Ae,{xs:12}),t=0===c?E.content1+E.systemDisk+E.content2:E.content1+E.dataDisk+c.toString()+E.content2,m.a.createElement(je.a,{open:o,"aria-labelledby":E.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,E.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},t),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){p(""),s()},color:"transparent",autoFocus:!0},E.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n){Da("/guests/"+e+"/disks/shrink/"+a.toString(),{immediate:!1},(function(){t(a,e)}),n)}(r,c,b,g)},color:"info"},E.confirm)))}var ii={en:{title:"Modify CPU Priority",label:"CPU Priority",cpuPriorityHigh:"High",cpuPriorityMedium:"Medium",cpuPriorityLow:"Low",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539CPU\u4f18\u5148\u7ea7",label:"CPU\u4f18\u5148\u7ea7",cpuPriorityHigh:"\u9ad8",cpuPriorityMedium:"\u4e2d",cpuPriorityLow:"\u4f4e",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function si(e){var a,t,l=e.lang,r=e.open,c=e.instanceID,o=e.current,i=e.onSuccess,s=e.onCancel,u=o&&o.qos?o.qos.cpu_priority:"medium",d=m.a.useState(""),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState({priority:u}),b=Object(n.a)(g,2),h=b[0],x=b[1],y=ii[l],k=function(e){E(e)},C=function(){E("")},S=function(e){C(),i(e,c)},w=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},y.label),m.a.createElement(Kl.a,{"aria-label":y.label,defaultValue:u,onChange:(a="priority",function(e){var t=e.target.value;x((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))}),row:!0},m.a.createElement(Jl.a,{value:"high",control:m.a.createElement(Zl.a,null),label:y.cpuPriorityHigh,key:"high"}),m.a.createElement(Jl.a,{value:"medium",control:m.a.createElement(Zl.a,null),label:y.cpuPriorityMedium,key:"medium"}),m.a.createElement(Jl.a,{value:"low",control:m.a.createElement(Zl.a,null),label:y.cpuPriorityLow,key:"low"})))))));return t=p&&""!==p?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:p,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":y.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,y.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},w),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){C(),s()},color:"transparent",autoFocus:!0},y.cancel),m.a.createElement(be,{onClick:function(){h.priority?function(e,a,t,n){Da("/guests/"+e+"/qos/cpu",{priority:a},(function(){t(a,e)}),n)}(c,h.priority,S,k):k("invalid priority value")},color:"info"},y.confirm)))}var mi={en:{title:"Modify Disk IOPS",label:"IOPS",noLimit:"No Limit",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u78c1\u76d8\u8bfb\u5199\u9650\u5236",label:"\u78c1\u76d8\u8bfb\u5199\u9650\u5236",noLimit:"\u65e0\u9650\u5236",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ui(e){var a,t,l={iops:0},r=e.lang,c=e.open,o=e.instanceID,i=e.current,s=e.onSuccess,u=e.onCancel,d=i&&i.qos&&i.qos.write_iops?i.qos.write_iops:0,f=m.a.useState(""),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState({iops:d}),h=Object(n.a)(b,2),x=h[0],y=h[1],k=mi[r],C=function(e){g(e)},S=function(){g(""),y(l)},w=function(e){S(),s(e,o)},O=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Yl.a,{component:"legend"},k.label),m.a.createElement(Ic.a,{color:"secondary",defaultValue:d,max:2e3,min:0,step:10,valueLabelDisplay:"auto",marks:[{value:0,label:k.noLimit},{value:2e3,label:2e3}],onChange:(a="iops",function(e,t){y((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))})})))));return t=E&&""!==E?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:E,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":k.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,k.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},O),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){S(),u()},color:"transparent",autoFocus:!0},k.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n){Da("/guests/"+e+"/qos/disk",{write_iops:a,read_iops:a},(function(){t(a,e)}),n)}(o,x.iops,w,C)},color:"info"},k.confirm)))}var di={en:{title:"Modify Network Bandwidth",outbound:"Outband Bandwidth",inbound:"Inbound Bandwidth",noLimit:"No Limit",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7f51\u7edc\u5e26\u5bbd\u9650\u5236",outbound:"\u4e0a\u884c\u5e26\u5bbd",inbound:"\u4e0b\u884c\u5e26\u5bbd",noLimit:"\u65e0\u9650\u5236",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function fi(e){var a,t={inbound:0,outbound:0},l=e.lang,r=e.open,c=e.instanceID,o=e.current,i=e.onSuccess,s=e.onCancel,u=o&&o.qos&&o.qos.receive_speed?o.qos.receive_speed/(1<<17):0,d=o&&o.qos&&o.qos.send_speed?o.qos.send_speed/(1<<17):0,f=m.a.useState(""),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState({inbound:u,outbound:d}),h=Object(n.a)(b,2),x=h[0],y=h[1],k=di[l],C=function(e){g(e)},S=function(){g(""),y(t)},w=function(e,a){S(),i(e,a,c)},O=function(e){return function(a,t){y((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},j=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Yl.a,{component:"legend"},k.inbound),m.a.createElement(Ic.a,{color:"secondary",defaultValue:u,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:k.noLimit},{value:20,label:"20 Mbit/s"}],onChange:O("inbound")})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Yl.a,{component:"legend"},k.outbound),m.a.createElement(Ic.a,{color:"secondary",defaultValue:d,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:k.noLimit},{value:20,label:"20 Mbit/s"}],onChange:O("outbound")})))));return a=E&&""!==E?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:E,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":k.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,k.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},j),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){S(),s()},color:"transparent",autoFocus:!0},k.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n,l){Da("/guests/"+e+"/qos/network",{receive_speed:a,send_speed:t},(function(){n(a,t,e)}),l)}(c,x.inbound*(1<<17),x.outbound*(1<<17),w,C)},color:"info"},k.confirm)))}var pi={en:{title:"Details of Instance ",back:"Back",name:"Name",id:"ID",cores:"Cores",memory:"Memory",adminPassword:"Admin Password",monitorAddress:"Monitor Address",monitorSecret:"Monitor Secret",systemDisk:"System Disk",dataDisk:"Data Disk",ethernetAddress:"Ethernet Address",internalAddress:"Internal Address",allocatedAddress:"Allocated Address",externalAddress:"External Address",operatingSystem:"Operating System",autoStartup:"Auto Startup",on:"On",off:"Off",pool:"Host Pool",cell:"Host Cell",owner:"Owner",group:"Group",cpuPriority:"CPU Priority",iops:"Disk IOPS",bandwidth:"Inbound/Outbound Bandwidth",noLimit:"No Limit",cpuPriorityHigh:"High",cpuPriorityMedium:"Medium",cpuPriorityLow:"Low",createdTime:"Created Time",disabledWhenRunning:"Disabled When Running",disabledWhenStopped:"Disabled When Stopped",status:"Status",running:"Running",stopped:"Stopped",display:"Display",hide:"Hide",modify:"Modify",extendDisk:"Extend Disk Size",shrinkDisk:"Shrink Disk Size"},cn:{title:"\u4e91\u4e3b\u673a\u8be6\u60c5 ",back:"\u8fd4\u56de",name:"\u4e3b\u673a\u540d",id:"ID",cores:"\u6838\u5fc3\u6570",memory:"\u5185\u5b58",adminPassword:"\u7ba1\u7406\u5458\u5bc6\u7801",monitorAddress:"\u76d1\u63a7\u5730\u5740",monitorSecret:"\u76d1\u63a7\u5bc6\u7801",systemDisk:"\u7cfb\u7edf\u78c1\u76d8",dataDisk:"\u6570\u636e\u78c1\u76d8",ethernetAddress:"MAC\u5730\u5740",internalAddress:"\u5185\u90e8\u5730\u5740",allocatedAddress:"\u5df2\u5206\u914d\u5730\u5740",externalAddress:"\u5916\u90e8\u5730\u5740",operatingSystem:"\u64cd\u4f5c\u7cfb\u7edf",autoStartup:"\u5f00\u673a\u542f\u52a8",on:"\u6253\u5f00",off:"\u5173\u95ed",pool:"\u6240\u5c5e\u8d44\u6e90\u6c60",cell:"\u627f\u8f7d\u8d44\u6e90\u8282\u70b9",owner:"\u6240\u5c5e\u7528\u6237",group:"\u6240\u5c5e\u7528\u6237\u7ec4",cpuPriority:"CPU\u4f18\u5148\u7ea7",iops:"\u78c1\u76d8 IOPS",bandwidth:"\u4e0b/\u4e0a\u884c\u5e26\u5bbd",noLimit:"\u65e0\u9650\u5236",cpuPriorityHigh:"\u9ad8",cpuPriorityMedium:"\u4e2d",cpuPriorityLow:"\u4f4e",createdTime:"\u521b\u5efa\u65f6\u95f4",disabledWhenRunning:"\u8fd0\u884c\u65f6\u7981\u7528",disabledWhenStopped:"\u505c\u673a\u65f6\u7981\u7528",status:"\u72b6\u6001",running:"\u8fd0\u884c\u4e2d",stopped:"\u5df2\u505c\u673a",display:"\u663e\u793a",hide:"\u9690\u85cf",modify:"\u4fee\u6539",extendDisk:"\u6269\u5c55\u78c1\u76d8\u5bb9\u91cf",shrinkDisk:"\u7f29\u51cf\u78c1\u76d8\u7a7a\u95f4"}},Ei=function(e){var a=e.tips,t=e.icon,n=e.onClick,l={color:"inherit",size:"small",children:m.a.createElement(t)};return n&&(l.onClick=n),m.a.createElement(ce.a,{title:a,placement:"top"},m.a.createElement(oe.a,l))};function gi(e){var a=e.match.params.id,t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(null),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(!1),b=Object(n.a)(g,2),h=b[0],v=b[1],x=m.a.useState(!1),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState(!1),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(!1),_=Object(n.a)(N,2),W=_[0],I=_[1],T=m.a.useState(!1),D=Object(n.a)(T,2),A=D[0],P=D[1],B=m.a.useState(!1),R=Object(n.a)(B,2),M=R[0],F=R[1],z=m.a.useState(!1),H=Object(n.a)(z,2),L=H[0],q=H[1],U=m.a.useState(!1),V=Object(n.a)(U,2),G=V[0],$=V[1],Z=m.a.useState(!1),K=Object(n.a)(Z,2),J=K[0],Q=K[1],Y=m.a.useState(0),X=Object(n.a)(Y,2),ee=X[0],ae=X[1],ne=m.a.useState("warning"),le=Object(n.a)(ne,2),re=le[0],ie=le[1],se=m.a.useState(""),me=Object(n.a)(se,2),ue=me[0],de=me[1],fe=function(){de("")},pe=m.a.useCallback((function(e){ie("warning"),de(e),setTimeout(fe,3e3)}),[ie,de]),Ee=function(e){ie("info"),de(e),Oa(e),setTimeout(fe,3e3)},ge=m.a.useCallback((function(e){pe(e)}),[pe]),he=m.a.useCallback((function(){ua(a,(function(e){c(e)}),ge)}),[a,ge]),ve=function(){v(!1)},xe=function(){C(!1)},ye=function(){j(!1)},ke=function(){I(!1)},Se=function(e){P(!0),ae(e)},we=function(){P(!1)},je=function(e){F(!0),ae(e)},Ne=function(){F(!1)},_e=function(){q(!1)},We=function(){$(!1)},Ie=function(){Q(!1)};if(m.a.useEffect((function(){he()}),[he]),null===Ve())return $e();var Te,De,Pe=e.lang,Be=pi[Pe],Re=[];if(null===r)Te=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),De="";else{var Me,Fe=m.a.createElement(ce.a,{title:Be.disabledWhenRunning,placement:"top",key:"disable"},m.a.createElement(oe.a,{color:"inherit",size:"small"},m.a.createElement(qo.a,null))),ze=m.a.createElement(ce.a,{title:Be.disabledWhenStopped,placement:"top",key:"disable"},m.a.createElement(oe.a,{color:"inherit",size:"small"},m.a.createElement(qo.a,null)));Me=r.display_protocol?r.display_protocol+"://"+r.internal.display_address:"vnc://"+r.internal.display_address;var He=[r.qos&&r.qos.send_speed&&0!==r.qos.send_speed?Ke(r.qos.send_speed):Be.noLimit,r.qos&&r.qos.receive_speed&&0!==r.qos.receive_speed?Ke(r.qos.receive_speed):Be.noLimit].join(" / "),Le=[];s?Le.push(m.a.createElement(Ei,{key:"adminPassword",tips:Be.hide,icon:Vo.a,onClick:function(){return u(null)}})):Le.push(m.a.createElement(Ei,{key:"adminPassword",tips:Be.display,icon:Ll.a,onClick:function(){!function(e,a,t){Na("/guests/"+e+"/auth",(function(t){var n=t.user,l=t.password;a(n,l,e)}),t)}(a,(function(e,a){u(a||'no password configured for user "'+e+'"')}),ge)}})),r.running?Le.push(m.a.createElement(Ei,{key:"modifyAdminPassword",tips:Be.modify,icon:Sl.a,onClick:function(){I(!0)}})):Le.push(ze);var qe,Ue=[{title:Be.name,value:r.name,operators:r.running?[Fe]:[m.a.createElement(Ei,{key:"name",tips:Be.modify,icon:Sl.a,onClick:function(){v(!0)}})]},{title:Be.id,value:a},{title:Be.cores,value:r.cores,operators:r.running?[Fe]:[m.a.createElement(Ei,{key:"cores",tips:Be.modify,icon:Sl.a,onClick:function(){C(!0)}})]},{title:Be.memory,value:Ze(r.memory),operators:r.running?[Fe]:[m.a.createElement(Ei,{key:"memory",tips:Be.modify,icon:Sl.a,onClick:function(){j(!0)}})]},{title:Be.status,value:r.running?Be.running:Be.stopped},{title:Be.ethernetAddress,value:r.ethernet_address},{title:Be.createdTime,value:r.create_time},{title:Be.adminPassword,value:s||"****************",operators:Le},{title:Be.monitorAddress,value:r.internal?Me:""},{title:Be.monitorSecret,value:p?r.monitor_secret:new Array(r.monitor_secret.length).fill("*"),operators:p?[m.a.createElement(Ei,{key:"secret",tips:Be.hide,icon:Vo.a,onClick:function(){return E(!1)}})]:[m.a.createElement(Ei,{key:"secret",tips:Be.display,icon:Ll.a,onClick:function(){return E(!0)}})]},{title:Be.systemDisk,value:Ze(r.disks[0]),operators:r.running?[Fe]:[m.a.createElement(Ei,{key:"extendSystemDisk",tips:Be.extendDisk,icon:$o.a,onClick:function(){return Se(0)}}),m.a.createElement(Ei,{key:"shrinkSystemDisk",tips:Be.shrinkDisk,icon:Ko.a,onClick:function(){return je(0)}})]}];if(r.disks.length>1)for(var Ge=function(){var e=Je;Ue.push({title:Be.dataDisk+Je.toString(),value:Ze(r.disks[Je]),operators:r.running?[Fe]:[m.a.createElement(Ei,{key:"extendDataDisk"+Je.toString(),tips:Be.extendDisk,icon:$o.a,onClick:function(){return Se(e)}}),m.a.createElement(Ei,{key:"shrinkDataDisk"+Je.toString(),tips:Be.shrinkDisk,icon:Ko.a,onClick:function(){return je(e)}})]})},Je=1;Je<r.disks.length;Je++)Ge();if(r.qos&&r.qos.cpu_priority)switch(r.qos.cpu_priority){case"high":qe=Be.cpuPriorityHigh;break;case"medium":qe=Be.cpuPriorityMedium;break;case"low":qe=Be.cpuPriorityLow;break;default:qe="invalid priority "+r.qos.cpu_priority}else qe=Be.noLimit;Ue=Ue.concat([{title:Be.internalAddress,value:r.internal&&r.internal.network_address?r.internal.network_address:""},{title:Be.allocatedAddress,value:r.internal&&r.internal.allocated_address?r.internal.allocated_address:""},{title:Be.externalAddress,value:r.external&&r.external.network_address?r.external.network_address:""},{title:Be.operatingSystem,value:r.system},{title:Be.autoStartup,value:r.auto_start?Be.on:Be.off},{title:Be.pool,value:r.pool},{title:Be.cell,value:r.cell},{title:Be.cpuPriority,value:qe,operators:[m.a.createElement(Ei,{key:"priority",tips:Be.modify,icon:Sl.a,onClick:function(){q(!0)}})]},{title:Be.iops,value:r.qos&&r.qos.write_iops?r.qos.write_iops:Be.noLimit,operators:r.running?[Fe]:[m.a.createElement(Ei,{key:"iops",tips:Be.modify,icon:Sl.a,onClick:function(){$(!0)}})]},{title:Be.bandwidth,value:He,operators:[m.a.createElement(Ei,{key:"bandwidth",tips:Be.modify,icon:Sl.a,onClick:function(){Q(!0)}})]}]),Te=m.a.createElement(Ho.a,{maxWidth:"md"},m.a.createElement(Kc.a,{component:Ce.a},m.a.createElement(Nt.a,null,m.a.createElement(It.a,null,Ue.map((function(e,a){return m.a.createElement(Wt.a,{key:a},m.a.createElement(Tt.a,{component:"th",scope:"row"},e.title),m.a.createElement(Tt.a,null,e.value),m.a.createElement(Tt.a,null,e.operators?e.operators:""))})))))),De=Be.title+r.name,Re=[m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){e.history.goBack()}},m.a.createElement(zl.a,null),Be.back)]}return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},Re.map((function(e,a){return m.a.createElement(te.a,{key:a,pl:2,pr:2},e)})))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},De),m.a.createElement(kt,null,Te))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:re,message:ue,open:""!==ue,closeNotification:fe,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Qo,{lang:Pe,open:h,instanceID:a,current:r,onSuccess:function(e){ve(),Ee("name of "+a+" changed to "+e),he()},onCancel:ve})),m.a.createElement(Ae,null,m.a.createElement(Xo,{lang:Pe,open:k,instanceID:a,current:r,onSuccess:function(e){xe(),Ee("cores of "+a+" changed to "+e),he()},onCancel:xe})),m.a.createElement(Ae,null,m.a.createElement(ai,{lang:Pe,open:O,instanceID:a,current:r,onSuccess:function(e){ye(),Ee("memory of "+a+" changed to "+Ze(e)),he()},onCancel:ye})),m.a.createElement(Ae,null,m.a.createElement(ni,{lang:Pe,open:W,instanceID:a,current:r,onSuccess:function(e){ke(),Ee("password of "+e+" modified"),he()},onCancel:ke})),m.a.createElement(Ae,null,m.a.createElement(ri,{lang:Pe,open:A,instanceID:a,current:r,index:ee,onSuccess:function(e,a){we(),Ee("size of disk "+e+" changed to "+Ze(a)),he()},onCancel:we})),m.a.createElement(Ae,null,m.a.createElement(oi,{lang:Pe,open:M,instanceID:a,current:r,index:ee,onSuccess:function(e){Ne(),Ee("size of disk "+e+" shrunk"),he()},onCancel:Ne})),m.a.createElement(Ae,null,m.a.createElement(si,{lang:Pe,open:L,instanceID:a,current:r,onSuccess:function(e){_e(),Ee("CPU priority changed to "+e),he()},onCancel:_e})),m.a.createElement(Ae,null,m.a.createElement(ui,{lang:Pe,open:G,instanceID:a,current:r,onSuccess:function(e){We(),Ee("Disk IOPS changed to "+e),he()},onCancel:We})),m.a.createElement(Ae,null,m.a.createElement(fi,{lang:Pe,open:J,instanceID:a,current:r,onSuccess:function(e,a){Ie();var t=[Ke(e),Ke(a)].join("/");Ee("network bandwidth changed to "+t),he()},onCancel:Ie})))}var bi=Object(v.a)({},Cn,{cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),hi=Object(h.a)(bi),vi={en:{createButton:"Create New Instance",batchCreate:"Batch Create",batchDelete:"Batch Delete",batchStop:"Batch Stop",enterBatch:"Enter Batch Mode",exitBatch:"Exit Batch Mode",tableTitle:"Cloud Instances",name:"Name",cell:"Host Cell",address:"Address",core:"Core",memory:"Memory",disk:"Disk",status:"Status",operates:"Operates",noResource:"No instances available",pool:"Compute Pool",disabled:"Disabled",offline:"Offline",allCells:"All Cells"},cn:{createButton:"\u521b\u5efa\u4e91\u4e3b\u673a",batchCreate:"\u6279\u91cf\u521b\u5efa",batchDelete:"\u6279\u91cf\u5220\u9664",batchStop:"\u6279\u91cf\u505c\u6b62",enterBatch:"\u8fdb\u5165\u6279\u91cf\u6a21\u5f0f",exitBatch:"\u9000\u51fa\u6279\u91cf\u6a21\u5f0f",tableTitle:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",name:"\u540d\u79f0",cell:"\u627f\u8f7d\u8282\u70b9",address:"\u5730\u5740",core:"\u6838\u5fc3",memory:"\u5185\u5b58",disk:"\u78c1\u76d8",status:"\u72b6\u6001",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u4e91\u4e3b\u673a\u5b9e\u4f8b",pool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",disabled:"\u5df2\u7981\u7528",offline:"\u79bb\u7ebf",allCells:"\u6240\u6709\u8282\u70b9"}};function xi(e){var a=hi(),t=m.a.useState(!1),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(null),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState(new Map),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(!1),b=Object(n.a)(g,2),h=b[0],x=b[1],y=m.a.useState({pool:"",cell:""}),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState([]),O=Object(n.a)(w,2),j=O[0],N=O[1],_=m.a.useState([]),W=Object(n.a)(_,2),I=W[0],T=W[1],D=m.a.useState(!1),A=Object(n.a)(D,2),P=A[0],B=A[1],R=m.a.useState(!1),M=Object(n.a)(R,2),F=M[0],z=M[1],H=m.a.useState(!1),L=Object(n.a)(H,2),q=L[0],U=L[1],V=m.a.useState(!1),G=Object(n.a)(V,2),$=G[0],Z=G[1],K=m.a.useState(!1),J=Object(n.a)(K,2),Q=J[0],Y=J[1],X=m.a.useState(!1),ee=Object(n.a)(X,2),ae=ee[0],ne=ee[1],le=m.a.useState(!1),re=Object(n.a)(le,2),ce=re[0],oe=re[1],ie=m.a.useState(!1),se=Object(n.a)(ie,2),me=se[0],ue=se[1],de=m.a.useState(!1),fe=Object(n.a)(de,2),pe=fe[0],Ee=fe[1],ge=m.a.useState(!1),he=Object(n.a)(ge,2),ve=he[0],ye=he[1],ke=m.a.useState(""),Ce=Object(n.a)(ke,2),Se=Ce[0],we=Ce[1],je=m.a.useState(""),Ne=Object(n.a)(je,2),_e=Ne[0],We=Ne[1],Ie=m.a.useState(""),Te=Object(n.a)(Ie,2),De=Te[0],Pe=Te[1],Be=m.a.useState("warning"),Re=Object(n.a)(Be,2),Me=Re[0],Fe=Re[1],ze=m.a.useState(""),He=Object(n.a)(ze,2),Le=He[0],qe=He[1],Ue=function(){qe("")},Ze=m.a.useCallback((function(e){Fe("warning"),qe(e),setTimeout(Ue,3e3)}),[Fe,qe]),Ke=function(e){Fe("info"),qe(e),Oa(e),setTimeout(Ue,3e3)},Je=m.a.useCallback((function(){ma(C.pool,C.cell,(function(e){var a=p,t=!1;if(e){u(e);var n=[];a.forEach((function(a,t){e.some((function(e){return e.id===t}))||n.push(t)})),e.forEach((function(e){var n=e.id;a.has(n)||(a.set(n,!1),t||(t=!0))})),0!==n.length&&n.forEach((function(e){a.delete(e),t||(t=!0)}))}else u([]),0!==a.size&&(a.clear(),t=!0);t&&E(new Map(a))}),(function(e){Ze(e),Ge()}))}),[C,p,Ze]),Qe=function(e){z(!0),we(e)},Ye=function(){z(!1)},Xe=function(e){U(!0),we(e)},ea=function(){U(!1)},aa=function(e){Z(!0),we(e)},ta=function(){Z(!1)},na=function(e){Y(!0),we(e)},ca=function(){Y(!1)},oa=function(e){ne(!0),we(e)},ia=function(){ne(!1)},sa=function(e,a,t){oe(!0),we(e),We(a),Pe(t)},ua=function(){oe(!1)},da=function(){B(!1)},fa=function(){ue(!1)},pa=function(){Ee(!1)},Ea=function(){ye(!1)},ga=function(){Je()},ba=function(e,a){var t=new Map(p);t.set(a,e),E(t)};if(m.a.useEffect((function(){if(r){var e=!0;Je();var a=setInterval((function(){e&&Je()}),5e3);return function(){e=!1,clearInterval(a)}}var t,n=[],l=[],o=function(e){e.forEach((function(e){l.push(e)})),N(n),T(l),S({pool:t,cell:""}),c(!0)};la((function(e){e.forEach((function(e){n.push(e.name)})),0!==n.length?ra(t=n[0],o,Ze):Ze("no compute pools available")}),Ze)}),[Je,r,Ze]),null===Ve())return $e();var ha,va=e.lang,xa=vi[va];if(r&&s)if(0===s.length)ha=m.a.createElement(St,null,xa.noResource);else{var ya;ya=h?m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,null,m.a.createElement(Or.a,{onChange:function(e){var a=e.target.checked,t=new Map,n=!0,l=!1,r=void 0;try{for(var c,o=p.keys()[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t.set(i,a)}}catch(s){l=!0,r=s}finally{try{n||null==o.return||o.return()}finally{if(l)throw r}}E(t)}})),m.a.createElement(te.a,null,xa.name)):xa.name,ha=m.a.createElement(Pt,{color:"primary",headers:[ya,xa.cell,xa.address,xa.core,xa.memory,xa.disk,xa.status,xa.operates],rows:s.map((function(e){var a=e.id;return m.a.createElement(Nc,{key:e.id,instance:e,lang:va,checked:!(!p||!p.has(a))&&p.get(a),checkable:h,onCheckStatusChanged:ba,onNotify:Ke,onError:Ze,onDelete:Qe,onMediaStart:Xe,onInsertMedia:aa,onResetSystem:na,onBuildImage:oa,onStatusChange:ga,onMigrateInstance:sa})}))})}else ha=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});var ka=[m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){B(!0)}},m.a.createElement(mt.a,null),xa.createButton),m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){ye(!0)}},m.a.createElement(Jr.a,null),xa.batchCreate)];h?ka.push(m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){Ee(!0)}},m.a.createElement(qt.a,null),xa.batchDelete),m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){ue(!0)}},m.a.createElement(Zr.a,null),xa.batchStop),m.a.createElement(be,{size:"sm",color:"rose",round:!0,onClick:function(){x(!1)}},m.a.createElement(Yr.a,null),xa.exitBatch)):ka.push(m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){var e=new Map,a=!0,t=!1,n=void 0;try{for(var l,r=p.keys()[Symbol.iterator]();!(a=(l=r.next()).done);a=!0){var c=l.value;e.set(c,!1)}}catch(o){t=!0,n=o}finally{try{a||null==r.return||r.return()}finally{if(t)throw n}}E(e),x(!0)}},m.a.createElement(Ol.a,null),xa.enterBatch));var Ca=m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(nn.a,{htmlFor:"pool",className:a.cardCategory},xa.pool),m.a.createElement(tn.a,{value:C.pool,onChange:function(e){var a=e.target.value,t=[];ra(a,(function(e){e.forEach((function(e){t.push(e)})),S({pool:a,cell:""}),T(t)}),Ze)},inputProps:{name:"pool",id:"pool"},fullWidth:!0},j.map((function(e){return m.a.createElement(xe.a,{value:e,key:e},e)})))),Sa=m.a.createElement(te.a,{m:0,pb:2},m.a.createElement(nn.a,{htmlFor:"cell",className:a.cardCategory},xa.cell),m.a.createElement(tn.a,{value:C.cell,onChange:function(e){var a=e.target.value;S((function(e){return Object(v.a)({},e,{cell:a})}))},inputProps:{name:"cell",id:"cell"},fullWidth:!0},m.a.createElement(xe.a,{value:"",selected:!0},xa.allCells),I.map((function(e){var a=e.name;return e.address&&(a+="("+e.address+")"),e.alive||(a+="-"+xa.offline),e.enabled||(a+="-"+xa.disabled),m.a.createElement(xe.a,{value:e.name,key:e.name},a)})))),wa=[];return p&&(p.forEach((function(e,a){e&&wa.push(a)})),wa.sort()),m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:6,sm:4,md:2},Ca),m.a.createElement(Ae,{xs:6,sm:4,md:2},Sa))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},ka.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:a.cardTitleWhite},xa.tableTitle)),m.a.createElement(kt,null,ha))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:Me,message:Le,open:""!==Le,closeNotification:Ue,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Mc,{lang:va,open:P,onSuccess:function(e){da(),Ke("new instance "+e+" created"),Je()},onCancel:da})),m.a.createElement(Ae,null,m.a.createElement(Wc,{lang:va,instanceID:Se,open:F,onSuccess:function(e){Ye(),Ke("instance "+e+" deleted"),Je()},onCancel:Ye})),m.a.createElement(Ae,null,m.a.createElement(zc,{lang:va,instanceID:Se,open:q,onSuccess:function(e){ea(),Ke("instance "+e+" started with media"),Je()},onCancel:ea})),m.a.createElement(Ae,null,m.a.createElement(Lc,{lang:va,instanceID:Se,open:$,onSuccess:function(e){ta(),Ke("instance "+e+" started with media"),Je()},onCancel:ta})),m.a.createElement(Ae,null,m.a.createElement(Gc,{lang:va,instanceID:Se,open:Q,onSuccess:function(e){ca(),Ke("guest system of "+e+" reset")},onCancel:ca})),m.a.createElement(Ae,null,m.a.createElement(Uc,{lang:va,instanceID:Se,open:ae,onSuccess:function(e){ia(),Ke("new image "+e+" created from "+Se)},onCancel:ia})),m.a.createElement(Ae,null,m.a.createElement(Zc,{lang:va,instanceID:Se,sourcePool:_e,sourceCell:De,open:ce,onSuccess:function(e){ua(),Ke("instance "+e+" migrated"),Je()},onCancel:ua})),m.a.createElement(Ae,null,m.a.createElement(Qc,{lang:va,open:me,targets:me?wa:[],onSuccess:function(){fa(),Je()},onCancel:fa})),m.a.createElement(Ae,null,m.a.createElement(Xc,{lang:va,open:pe,targets:pe?wa:[],onSuccess:function(){pa(),Je()},onCancel:pa})),m.a.createElement(Ae,null,m.a.createElement(ao,{lang:va,open:ve,onSuccess:function(){Ea(),Je()},onCancel:Ea})))}var yi=t(169),ki=t.n(yi),Ci=t(267),Si=t.n(Ci),wi=t(549),Oi=t(546),ji={cardTitle:{float:"left",padding:"10px 10px 10px 0px",lineHeight:"24px"},cardTitleRTL:{float:"right",padding:"10px 0px 10px 10px !important"},displayNone:{display:"none !important"},tabsRoot:{minHeight:"unset !important",overflowX:"visible","& $tabRootButton":{fontSize:"0.875rem"}},tabRootButton:{minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important",padding:"10px 15px",borderRadius:"3px",lineHeight:"24px",border:"0 !important",color:T+" !important",marginLeft:"4px","&:last-child":{marginLeft:"0px"}},tabSelected:{backgroundColor:"rgba("+x(T)+", 0.2)",transition:"0.2s background-color 0.1s"},tabWrapper:{display:"inline-block",minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important",fontWeight:"500",fontSize:"12px",marginTop:"1px","& > svg,& > .material-icons":{verticalAlign:"middle",margin:"-1px 5px 0 0 !important"}}},Ni=Object(h.a)(ji);function _i(e){var a,t=m.a.useState(0),l=Object(n.a)(t,2),r=l[0],c=l[1],o=Ni(),i=e.headerColor,s=e.plainTabs,u=e.tabs,d=e.title,f=e.rtlActive,p=ae()((a={},Object(X.a)(a,o.cardTitle,!0),Object(X.a)(a,o.cardTitleRTL,f),a));return m.a.createElement(gt,{plain:s},m.a.createElement(vt,{color:i,plain:s},void 0!==d?m.a.createElement("div",{className:p},d):null,m.a.createElement(wi.a,{value:r,onChange:function(e,a){c(a)},classes:{root:o.tabsRoot,indicator:o.displayNone,scrollButtons:o.displayNone},variant:"scrollable",scrollButtons:"auto"},u.map((function(e,a){var t={};return e.tabIcon&&(t={icon:m.a.createElement(e.tabIcon,null)}),m.a.createElement(Oi.a,Object.assign({classes:{root:o.tabRootButton,selected:o.tabSelected,wrapper:o.tabWrapper},key:a,label:e.tabName},t))})))),m.a.createElement(kt,null,u.map((function(e,a){return a===r?m.a.createElement("div",{key:a},e.tabContent):null}))))}var Wi=t(266),Ii=t.n(Wi),Ti=t(112),Di=t.n(Ti);function Ai(e){var a,t,n=e.title,l=e.icon,r=e.placement,c=e.color,o=e.onClick;return a=r||"top",t=c||"inherit",m.a.createElement(ce.a,{title:n,placement:a},m.a.createElement(oe.a,{color:t,onClick:o},m.a.createElement(l)))}var Pi={en:{title:"Create User",user:"Username",password:"Password",password2:"Confirm Password",nick:"Nickname",mail:"Mail",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u7528\u6237",user:"\u7528\u6237\u540d",password:"\u5bc6\u7801",password2:"\u786e\u8ba4\u5bc6\u7801",nick:"\u6635\u79f0",mail:"\u90ae\u7bb1",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Bi(e){var a,t={user:"",password:"",password2:"",nick:"",mail:""},l=e.lang,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=m.a.useState(t),p=Object(n.a)(f,2),E=p[0],g=p[1],b=Pi[l],h=function(e){d(e)},x=function(){d(""),g(t)},y=function(e){x(),c(e)},k=function(e){return function(a){var t=a.target.value;g((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},C=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.user,onChange:k("user"),value:E.user,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.password,onChange:k("password"),value:E.password,margin:"normal",type:"password",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.password2,onChange:k("password2"),value:E.password2,margin:"normal",type:"password",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.nick,onChange:k("nick"),value:E.nick,margin:"normal",fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:b.mail,onChange:k("mail"),value:E.mail,margin:"normal",fullWidth:!0})))));return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":b.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,b.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},C),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){x(),o()},color:"transparent",autoFocus:!0},b.cancel),m.a.createElement(be,{onClick:function(){var e=new RegExp("[^\\w-.]");E.user?e.test(E.user)?h("only letter/digit/'-'/'_'/'.' allowed in username"):E.password?E.password2===E.password?function(e,a,t,n,l,r){var c="/users/"+e,o={password:a};t&&(o.nick=t),n&&(o.mail=n),Wa(c,o,(function(){l(e)}),r)}(E.user,E.password,E.nick,E.mail,y,h):h("password mismatch"):h("please input password"):h("must specify user name")},color:"info"},b.confirm)))}var Ri={en:{title:"Modify User",user:"Username",nick:"Nickname",mail:"Mail",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7528\u6237",user:"\u7528\u6237\u540d",nick:"\u6635\u79f0",mail:"\u90ae\u7bb1",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Mi(e){var a={user:"",nick:"",mail:""},t=e.lang,l=e.name,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(!1),s=Object(n.a)(i,2),u=s[0],d=s[1],f=m.a.useState(""),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState(a),h=Object(n.a)(b,2),x=h[0],y=h[1],k=Ri[t],C=function(e){g(e)},S=function(){g(""),y(a),d(!1)},w=function(e){S(),c(e)};m.a.useEffect((function(){if(l&&r&&!u){!function(e,a,t){Na("/users/"+e,a,t)}(l,(function(e){y({user:l,nick:e.nick?e.nick:"",mail:e.mail?e.mail:""}),d(!0)}),C)}}),[u,r,l]);var O,j,N=function(e){return function(a){var t=a.target.value;y((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return O=u?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.user,value:x.user,margin:"normal",disabled:!0,required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.nick,onChange:N("nick"),value:x.nick,margin:"normal",fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:k.mail,onChange:N("mail"),value:x.mail,margin:"normal",fullWidth:!0}))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),j=E&&""!==E?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:E,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":k.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,k.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},O),j)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){S(),o()},color:"transparent",autoFocus:!0},k.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n,l){var r="/users/"+e,c={};a&&(c.nick=a),t&&(c.mail=t),Da(r,c,(function(){n(e)}),l)}(x.user,x.nick,x.mail,w,C)},color:"info"},k.confirm)))}var Fi={en:{title:"Delete User",content:"Are you sure to delete user ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u7528\u6237",content:"\u662f\u5426\u5220\u9664\u7528\u6237 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function zi(e){var a,t=e.lang,l=e.name,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=Fi[t],p=function(e){d(e)},E=function(e){d(""),c(e)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t){Aa("/users/"+e,(function(){a(e)}),t)}(l,E,p)},color:"info"},f.confirm)))}var Hi=Object(v.a)({},Dt),Li=Object(h.a)(Hi),qi={en:{createButton:"Create New User",name:"User Name",modify:"Modify",delete:"Delete",operates:"Operates",noResource:"No User Available"},cn:{createButton:"\u521b\u5efa\u65b0\u7528\u6237",name:"\u7528\u6237\u540d",modify:"\u4fee\u6539",delete:"\u5220\u9664",operates:"\u64cd\u4f5c",noResource:"\u5c1a\u672a\u521b\u5efa\u7528\u6237"}};function Ui(e){var a=Li(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(!1),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(!1),b=Object(n.a)(g,2),h=b[0],v=b[1],x=m.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState("warning"),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(""),_=Object(n.a)(N,2),W=_[0],I=_[1],T=function(){I("")},D=m.a.useCallback((function(e){j("warning"),I(e),setTimeout(T,3e3)}),[j,I]),A=m.a.useCallback((function(){Na("/users/",c,(function(e){D(e),Ge()}))}),[D]),P=function(e){j("info"),I(e),Oa(e),setTimeout(T,3e3)},B=function(){v(!1)},R=function(){E(!1)},M=function(){u(!1)};m.a.useEffect((function(){A()}),[A]);var F=Ve();if(null===F)return $e();var z,H=e.lang,L=qi[H];z=null===r?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===r.length?m.a.createElement(St,null,L.noResource):m.a.createElement(Pt,{color:"primary",headers:[L.name,L.operates],rows:r.map((function(e,t){var n=e,l=[m.a.createElement(Ai,{key:"modify",title:L.modify,icon:Di.a,onClick:function(){return function(e){v(!0),C(e)}(n)}})];return n!==F.user&&l.push(m.a.createElement(Ai,{key:"delete",title:L.delete,icon:qt.a,onClick:function(){return function(e){E(!0),C(e)}(n)}})),m.a.createElement(Wt.a,{className:a.tableBodyRow,key:t},m.a.createElement(Tt.a,{className:a.tableCell},e),m.a.createElement(Tt.a,{className:a.tableCell},l))}))});var q=[m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){u(!0)}},m.a.createElement(Ii.a,null),L.createButton)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},q.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(Ho.a,{maxWidth:"sm"},z)),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:O,message:W,open:""!==W,closeNotification:T,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Bi,{lang:H,open:s,onSuccess:function(e){M(),P("user "+e+" created"),A()},onCancel:M})),m.a.createElement(Ae,null,m.a.createElement(Mi,{lang:H,name:k,open:h,onSuccess:function(e){B(),P("user "+e+" modified"),A()},onCancel:B})),m.a.createElement(Ae,null,m.a.createElement(zi,{lang:H,name:k,open:p,onSuccess:function(e){R(),P("user "+e+" deleted"),A()},onCancel:R})))}var Vi={en:{title:"Add Group",name:"Group Name",display:"Display Name",role:"Roles",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6dfb\u52a0\u7528\u6237\u7ec4",name:"\u7ec4\u540d\u79f0",display:"\u663e\u793a\u540d\u79f0",role:"\u89d2\u8272\u6e05\u5355",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Gi(e){var a={name:"",display:"",checked:new Set},t=e.lang,l=e.open,r=e.onSuccess,c=e.onCancel,o=Vi[t],i=m.a.useState([]),s=Object(n.a)(i,2),u=s[0],d=s[1],f=m.a.useState(!1),p=Object(n.a)(f,2),E=p[0],g=p[1],b=m.a.useState(""),h=Object(n.a)(b,2),x=h[0],y=h[1],k=m.a.useState(a),C=Object(n.a)(k,2),S=C[0],w=C[1],O=function(e){y(e)},j=function(){y(""),w(a),g(!1)},N=function(e){j(),r(e)};m.a.useEffect((function(){if(l&&!E){wa((function(e){d(e),g(!0)}),O)}}),[E,l]);var _,W,I=function(e){return function(a){var t=a.target.value;w((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},T=function(e){var a=e.target.value,t=e.target.checked,n=Object(v.a)({},S);t?n.checked.add(a):n.checked.delete(a),w(n)};return _=E?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:o.name,onChange:I("name"),value:S.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:o.display,onChange:I("display"),value:S.display,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},o.role),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},u.map((function(e,a){var t;return t=!!S.checked.has(e),m.a.createElement(Ae,{xs:6,sm:3,key:a},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:t,onChange:T,value:e}),label:e}))}))))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),W=x&&""!==x?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:x,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:l,"aria-labelledby":o.title,maxWidth:"md",fullWidth:!0},m.a.createElement(We.a,null,o.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},_),W)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){j(),c()},color:"transparent",autoFocus:!0},o.cancel),m.a.createElement(be,{onClick:function(){if(S.name)if(S.display)if(S.checked&&0!==S.checked.size){var e=[];u.forEach((function(a){S.checked.has(a)&&e.push(a)})),function(e,a,t,n,l){var r="/user_groups/"+e,c={display:a};t&&(c.role=t),Wa(r,c,(function(){n(e)}),l)}(S.name,S.display,e,N,O)}else O("Select at least one role");else O("Display name required");else O("Group name required")},color:"info"},o.confirm)))}var $i={en:{title:"Modify Group",name:"Group Name",display:"Display Name",role:"Roles",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7528\u6237\u7ec4",name:"\u7ec4\u540d\u79f0",display:"\u663e\u793a\u540d\u79f0",role:"\u89d2\u8272\u6e05\u5355",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Zi(e){var a={display:"",checked:new Set},t=e.lang,l=e.name,r=e.open,c=e.onSuccess,o=e.onCancel,i=$i[t],s=m.a.useState([]),u=Object(n.a)(s,2),d=u[0],f=u[1],p=m.a.useState(!1),E=Object(n.a)(p,2),g=E[0],b=E[1],h=m.a.useState(""),x=Object(n.a)(h,2),y=x[0],k=x[1],C=m.a.useState(a),S=Object(n.a)(C,2),w=S[0],O=S[1],j=function(e){k(e)},N=function(){k(""),O(a),b(!1)},_=function(){N(),c(l)};m.a.useEffect((function(){if(l&&r&&!g){var e=[],a=function(a){var t=a.display,n=a.role,l=new Set;n.forEach((function(e){l.add(e)})),O({display:t,checked:l}),f(e),b(!0)};wa((function(t){e=t,function(e,a,t){Na("/user_groups/"+e,a,t)}(l,a,j)}),j)}}),[g,r,l]);var W,I,T=function(e){var a=e.target.value,t=e.target.checked,n=Object(v.a)({},w);t?n.checked.add(a):n.checked.delete(a),O(n)};return W=g?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:i.name,value:l,margin:"normal",disabled:!0,required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:10,md:8},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:i.display,onChange:function(e){return function(a){var t=a.target.value;O((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}("display"),value:w.display,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},i.role),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},d.map((function(e,a){var t;return t=!!w.checked.has(e),m.a.createElement(Ae,{xs:6,sm:3,key:a},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:t,onChange:T,value:e}),label:e}))}))))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),I=y&&""!==y?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:y,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":i.title,maxWidth:"md",fullWidth:!0},m.a.createElement(We.a,null,i.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},W),I)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){N(),o()},color:"transparent",autoFocus:!0},i.cancel),m.a.createElement(be,{onClick:function(){if(w.checked&&0!==w.checked.size)if(w.display){var e=[];d.forEach((function(a){w.checked.has(a)&&e.push(a)})),function(e,a,t,n,l){var r="/user_groups/"+e,c={};a&&(c.display=a),t&&(c.role=t),Da(r,c,(function(){n(e)}),l)}(l,w.display,e,_,j)}else j("Display name required");else j("Select at least one role")},color:"info"},i.confirm)))}var Ki={en:{title:"Remove Group",content:"Are you sure to remove group ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u7528\u6237\u7ec4",content:"\u662f\u5426\u5220\u9664\u7528\u6237\u7ec4 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ji(e){var a,t=e.lang,l=e.name,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=Ki[t],p=function(e){d(e)},E=function(e){d(""),c(e)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t){Aa("/user_groups/"+e,(function(){a(e)}),t)}(l,E,p)},color:"info"},f.confirm)))}var Qi=Object(v.a)({},Dt),Yi=Object(h.a)(Qi),Xi={en:{createButton:"Add New Group",name:"Group Name",display:"Display Name",modify:"Modify",remove:"Remove",member:"Members",operates:"Operates",noResource:"No Group Available"},cn:{createButton:"\u521b\u5efa\u65b0\u7528\u6237\u7ec4",name:"\u7528\u6237\u7ec4\u540d",display:"\u663e\u793a\u540d\u79f0",modify:"\u4fee\u6539",remove:"\u5220\u9664",member:"\u6210\u5458",operates:"\u64cd\u4f5c",noResource:"\u5c1a\u672a\u521b\u5efa\u7528\u6237\u7ec4"}};function es(e){var a=e.lang,t=e.setGroup,l=Yi(),r=m.a.useState(null),c=Object(n.a)(r,2),o=c[0],i=c[1],s=m.a.useState(!1),u=Object(n.a)(s,2),d=u[0],f=u[1],p=m.a.useState(!1),E=Object(n.a)(p,2),g=E[0],b=E[1],h=m.a.useState(!1),v=Object(n.a)(h,2),x=v[0],y=v[1],k=m.a.useState(""),C=Object(n.a)(k,2),S=C[0],w=C[1],O=m.a.useState("warning"),j=Object(n.a)(O,2),N=j[0],_=j[1],W=m.a.useState(""),I=Object(n.a)(W,2),T=I[0],D=I[1],A=function(){D("")},P=m.a.useCallback((function(e){_("warning"),D(e),setTimeout(A,3e3)}),[_,D]),B=m.a.useCallback((function(){Na("/user_groups/",i,(function(e){P(e),Ge()}))}),[P]),R=function(e){_("info"),D(e),Oa(e),setTimeout(A,3e3)},M=function(){y(!1)},F=function(){b(!1)},z=function(){f(!1)};m.a.useEffect((function(){B()}),[B]);var H=Ve();if(null===H)return $e();var L,q=Xi[a];L=null===o?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===o.length?m.a.createElement(St,null,q.noResource):m.a.createElement(Pt,{color:"primary",headers:[q.name,q.display,q.member,q.operates],rows:o.map((function(e,a){var n=e.name,r=[m.a.createElement(Ai,{key:"modify",title:q.modify,icon:Di.a,onClick:function(){return e=n,y(!0),void w(e);var e}}),m.a.createElement(Ai,{key:"member",title:q.member,icon:ki.a,onClick:function(){return t(n)}})];return n!==H.group&&r.push(m.a.createElement(Ai,{key:"remove",title:q.remove,icon:qt.a,onClick:function(){return e=n,b(!0),void w(e);var e}})),m.a.createElement(Wt.a,{className:l.tableBodyRow,key:a},m.a.createElement(Tt.a,{className:l.tableCell},n),m.a.createElement(Tt.a,{className:l.tableCell},e.display),m.a.createElement(Tt.a,{className:l.tableCell},e.member.toString()),m.a.createElement(Tt.a,{className:l.tableCell},r))}))});var U=[m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){f(!0)}},m.a.createElement(mt.a,null),q.createButton)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},U.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(Ho.a,{maxWidth:"sm"},L)),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:N,message:T,open:""!==T,closeNotification:A,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Gi,{lang:a,open:d,onSuccess:function(e){z(),R("new group "+e+" added"),B()},onCancel:z})),m.a.createElement(Ae,null,m.a.createElement(Zi,{lang:a,name:S,open:x,onSuccess:function(e){M(),R("group "+e+" modified"),B()},onCancel:M})),m.a.createElement(Ae,null,m.a.createElement(Ji,{lang:a,name:S,open:g,onSuccess:function(e){F(),R("group "+e+" removed"),B()},onCancel:F})))}var as={en:{title:"Add Group Member ",name:"User",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6dfb\u52a0\u65b0\u6210\u5458 ",name:"\u7528\u6237\u540d",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ts(e){var a,t,l,r={member:""},c=e.lang,o=e.group,i=e.open,s=e.onSuccess,u=e.onCancel,d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(""),b=Object(n.a)(g,2),h=b[0],x=b[1],y=m.a.useState(r),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState([]),O=Object(n.a)(w,2),j=O[0],N=O[1],_=as[c],W=function(e){x(e)},I=function(){x(""),S(r),E(!1)},T=function(e){I(),s(e,o)};return m.a.useEffect((function(){if(i&&!p){!function(e,a,t){var n="/user_search/";e&&(n+="?group="+e),Na(n,a,t)}(null,(function(e){0!==e.length?(N(e),E(!0)):W("no unallocated users available")}),W)}}),[p,i]),a=p?m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:8},m.a.createElement(te.a,{m:1,p:2},m.a.createElement(nn.a,{htmlFor:"member"},_.name),m.a.createElement(tn.a,{value:C.member,onChange:(t="member",function(e){var a=e.target.value;S((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),inputProps:{name:"member",id:"member"},fullWidth:!0},j.map((function(e){return m.a.createElement(xe.a,{value:e,key:e},e)})))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),l=h&&""!==h?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:h,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:i,"aria-labelledby":_.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,_.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},a),l)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){I(),u()},color:"transparent",autoFocus:!0},_.cancel),m.a.createElement(be,{onClick:function(){C.member&&""!==C.member||W("must select an user"),function(e,a,t,n){Wa("/user_groups/"+e+"/members/"+a,{},(function(){t(a,e)}),n)}(o,C.member,T,W)},color:"info"},_.confirm)))}var ns={en:{title:"Remove Group Member",content:"Are you sure to remove member ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u6210\u5458",content:"\u662f\u5426\u5220\u9664\u7528\u6237\u7ec4\u6210\u5458 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ls(e){var a,t=e.lang,l=e.group,r=e.member,c=e.open,o=e.onSuccess,i=e.onCancel,s=m.a.useState(""),u=Object(n.a)(s,2),d=u[0],f=u[1],p=ns[t],E=function(e){f(e)},g=function(){f(""),o(r,l)};return a=d&&""!==d?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:d,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":p.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,p.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},p.content+r),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){f(""),i()},color:"transparent",autoFocus:!0},p.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t,n){Aa("/user_groups/"+e+"/members/"+a,(function(){t(a,e)}),n)}(l,r,g,E)},color:"info"},p.confirm)))}var rs=Object(v.a)({},Dt),cs=Object(h.a)(rs),os={en:{addButton:"Add Group Member",backButton:"Back",remove:"Remove",member:"Member",operates:"Operates",noResource:"No Member Available"},cn:{addButton:"\u589e\u52a0\u65b0\u6210\u5458",backButton:"\u8fd4\u56de",remove:"\u5220\u9664",member:"\u6210\u5458",operates:"\u64cd\u4f5c",noResource:"\u5c1a\u672a\u6dfb\u52a0\u6210\u5458"}};function is(e){var a=e.lang,t=e.group,l=e.onBack,r=cs(),c=m.a.useState(null),o=Object(n.a)(c,2),i=o[0],s=o[1],u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(!1),g=Object(n.a)(E,2),b=g[0],h=g[1],v=m.a.useState(""),x=Object(n.a)(v,2),y=x[0],k=x[1],C=m.a.useState("warning"),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState(""),N=Object(n.a)(j,2),_=N[0],W=N[1],I=function(){W("")},T=m.a.useCallback((function(e){O("warning"),W(e),setTimeout(I,3e3)}),[O,W]),D=m.a.useCallback((function(){!function(e,a,t){Na("/user_groups/"+e+"/members/",a,t)}(t,s,(function(e){T(e),Ge()}))}),[T,t]),A=function(e){O("info"),W(e),Oa(e),setTimeout(I,3e3)},P=function(){h(!1)},B=function(){p(!1)};if(m.a.useEffect((function(){D()}),[D]),null===Ve())return $e();var R,M=os[a];R=null===i?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===i.length?m.a.createElement(St,null,M.noResource):m.a.createElement(Pt,{color:"primary",headers:[M.member,M.operates],rows:i.map((function(e,a){var t=[m.a.createElement(Ai,{key:"remove",title:M.remove,icon:qt.a,onClick:function(){return a=e,h(!0),void k(a);var a}})];return m.a.createElement(Wt.a,{className:r.tableBodyRow,key:a},m.a.createElement(Tt.a,{className:r.tableCell},e),m.a.createElement(Tt.a,{className:r.tableCell},t))}))});var F=[m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:l},m.a.createElement(zl.a,null),M.backButton),m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){p(!0)}},m.a.createElement(mt.a,null),M.addButton)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},F.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(Ho.a,{maxWidth:"sm"},R)),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:w,message:_,open:""!==_,closeNotification:I,close:!0})),m.a.createElement(Ae,null,m.a.createElement(ts,{lang:a,group:t,open:f,onSuccess:function(e){B(),A("member "+e+" added"),D()},onCancel:B})),m.a.createElement(Ae,null,m.a.createElement(ls,{lang:a,group:t,member:y,open:b,onSuccess:function(e){P(),A("member "+e+" removed"),D()},onCancel:P})))}var ss={en:{title:"Add Role",name:"Name",menu:"Menus",dashboard:"Dashboard",computePool:"Compute Pools",addressPool:"Address Pools",storagePool:"Storage Pools",instance:"Instances",diskImage:"Disk Image",mediaImage:"Media Image",user:"Users",log:"Logs",visibility:"Resource Visibility",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u65b0\u589e\u89d2\u8272",name:"\u540d\u79f0",menu:"\u53ef\u7528\u83dc\u5355",dashboard:"\u4eea\u8868\u76d8",computePool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",addressPool:"\u5730\u5740\u8d44\u6e90\u6c60",storagePool:"\u5b58\u50a8\u8d44\u6e90\u6c60",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",diskImage:"\u78c1\u76d8\u955c\u50cf",mediaImage:"\u5149\u76d8\u955c\u50cf",user:"\u7528\u6237",log:"\u65e5\u5fd7",visibility:"\u8d44\u6e90\u53ef\u89c1\u6027",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ms(e){var a,t,l={name:"",checked:new Set},r=e.lang,c=e.open,o=e.onSuccess,i=e.onCancel,s=ss[r],u=ta(r),d=m.a.useState(""),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(l),b=Object(n.a)(g,2),h=b[0],x=b[1],y=function(e){E(e)},k=function(){E(""),x(l)},C=function(e){k(),o(e)},S=function(e){var a=e.target.value,t=e.target.checked,n=Object(v.a)({},h);t?n.checked.add(a):n.checked.delete(a),x(n)},w=m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:s.name,onChange:(a="name",function(e){var t=e.target.value;x((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))}),value:h.name,margin:"normal",required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},s.menu),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},u.map((function(e,a){var t,n=e.value,l=e.label;return t=!!h.checked.has(n),m.a.createElement(Ae,{xs:6,sm:3,key:a},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:t,onChange:S,value:n}),label:l}))})))))))));return t=p&&""!==p?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:p,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:c,"aria-labelledby":s.title,maxWidth:"md",fullWidth:!0},m.a.createElement(We.a,null,s.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},w),t)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){k(),i()},color:"transparent",autoFocus:!0},s.cancel),m.a.createElement(be,{onClick:function(){if(h.name)if(h.checked&&0!==h.checked.size){var e=[];u.forEach((function(a){h.checked.has(a.value)&&e.push(a.value)})),function(e,a,t,n){Wa("/roles/"+e,{menu:a},(function(){t(e)}),n)}(h.name,e,C,y)}else y("Select at least one menu item");else y("must specify role name")},color:"info"},s.confirm)))}var us={en:{title:"Modify Role",name:"Name",menu:"Menus",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u89d2\u8272\u6743\u9650",name:"\u540d\u79f0",menu:"\u53ef\u7528\u83dc\u5355",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ds(e){var a={checked:new Set},t=e.lang,l=e.name,r=e.open,c=e.onSuccess,o=e.onCancel,i=us[t],s=ta(t),u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(""),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(a),y=Object(n.a)(x,2),k=y[0],C=y[1],S=function(e){h(e)},w=function(){h(""),C(a),p(!1)},O=function(){w(),c(l)};m.a.useEffect((function(){if(l&&r&&!f){!function(e,a,t){Na("/roles/"+e,a,t)}(l,(function(e){var a=e.menu,t=new Set;a.forEach((function(e){t.add(e)})),C({checked:t}),p(!0)}),S)}}),[f,r,l]);var j,N,_=function(e){var a=e.target.value,t=e.target.checked,n=Object(v.a)({},k);t?n.checked.add(a):n.checked.delete(a),C(n)};return j=f?m.a.createElement(Ie.a,{container:!0},m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:i.name,value:l,margin:"normal",disabled:!0,required:!0,fullWidth:!0})))),m.a.createElement(fn,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},i.menu),m.a.createElement(wr.a,null,m.a.createElement(Ie.a,{container:!0},s.map((function(e,a){var t,n=e.value,l=e.label;return t=!!k.checked.has(n),m.a.createElement(Ae,{xs:6,sm:3,key:a},m.a.createElement(Jl.a,{control:m.a.createElement(Or.a,{checked:t,onChange:_,value:n}),label:l}))}))))))))):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),N=b&&""!==b?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:b,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":i.title,maxWidth:"md",fullWidth:!0},m.a.createElement(We.a,null,i.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},j),N)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){w(),o()},color:"transparent",autoFocus:!0},i.cancel),m.a.createElement(be,{onClick:function(){if(k.checked&&0!==k.checked.size){var e=[];s.forEach((function(a){k.checked.has(a.value)&&e.push(a.value)})),function(e,a,t,n){Da("/roles/"+e,{menu:a},(function(){t(e)}),n)}(l,e,O,S)}else S("Select at least one menu item")},color:"info"},i.confirm)))}var fs={en:{title:"Remove Role",content:"Are you sure to remove role ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u89d2\u8272",content:"\u662f\u5426\u5220\u9664\u89d2\u8272 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ps(e){var a,t=e.lang,l=e.name,r=e.open,c=e.onSuccess,o=e.onCancel,i=m.a.useState(""),s=Object(n.a)(i,2),u=s[0],d=s[1],f=fs[t],p=function(e){d(e)},E=function(e){d(""),c(e)};return a=u&&""!==u?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:u,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":f.title,maxWidth:"xs",fullWidth:!0},m.a.createElement(We.a,null,f.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},f.content+l),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){d(""),o()},color:"transparent",autoFocus:!0},f.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t){Aa("/roles/"+e,(function(){a(e)}),t)}(l,E,p)},color:"info"},f.confirm)))}var Es=Object(v.a)({},Dt),gs=Object(h.a)(Es),bs={en:{createButton:"Add New Role",name:"Role Name",modify:"Modify",delete:"Remove",operates:"Operates",noResource:"No Role Available"},cn:{createButton:"\u589e\u52a0\u65b0\u89d2\u8272",name:"\u89d2\u8272\u540d",modify:"\u4fee\u6539",delete:"\u5220\u9664",operates:"\u64cd\u4f5c",noResource:"\u5c1a\u672a\u521b\u5efa\u89d2\u8272"}};function hs(e){var a=gs(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(!1),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(!1),b=Object(n.a)(g,2),h=b[0],v=b[1],x=m.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState("warning"),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(""),_=Object(n.a)(N,2),W=_[0],I=_[1],T=function(){I("")},D=m.a.useCallback((function(e){j("warning"),I(e),setTimeout(T,3e3)}),[j,I]),A=m.a.useCallback((function(){wa(c,(function(e){D(e),Ge()}))}),[D]),P=function(e){j("info"),I(e),Oa(e),setTimeout(T,3e3)},B=function(){v(!1)},R=function(){E(!1)},M=function(){u(!1)};if(m.a.useEffect((function(){A()}),[A]),null===Ve())return $e();var F,z=e.lang,H=bs[z];F=null===r?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===r.length?m.a.createElement(St,null,H.noResource):m.a.createElement(Pt,{color:"primary",headers:[H.name,H.operates],rows:r.map((function(e,t){var n=e,l=[m.a.createElement(Ai,{key:"modify",title:H.modify,icon:Di.a,onClick:function(){return function(e){v(!0),C(e)}(n)}}),m.a.createElement(Ai,{key:"remove",title:H.delete,icon:qt.a,onClick:function(){return function(e){E(!0),C(e)}(n)}})];return m.a.createElement(Wt.a,{className:a.tableBodyRow,key:t},m.a.createElement(Tt.a,{className:a.tableCell},e),m.a.createElement(Tt.a,{className:a.tableCell},l))}))});var L=[m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){u(!0)}},m.a.createElement(mt.a,null),H.createButton)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},L.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(Ho.a,{maxWidth:"sm"},F)),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:O,message:W,open:""!==W,closeNotification:T,close:!0})),m.a.createElement(Ae,null,m.a.createElement(ms,{lang:z,open:s,onSuccess:function(e){M(),P("role "+e+" added"),A()},onCancel:M})),m.a.createElement(Ae,null,m.a.createElement(ds,{lang:z,name:k,open:h,onSuccess:function(e){B(),P("role "+e+" modified"),A()},onCancel:B})),m.a.createElement(Ae,null,m.a.createElement(ps,{lang:z,name:k,open:p,onSuccess:function(e){R(),P("role "+e+" removed"),A()},onCancel:R})))}var vs={en:{title:"Permissions",user:"Users",group:"User Groups",role:"Roles"},cn:{title:"\u6743\u9650\u7ba1\u7406",user:"\u7528\u6237",group:"\u7528\u6237\u7ec4",role:"\u89d2\u8272"}},xs=function(e){var a=e.lang,t=m.a.useState(""),l=Object(n.a)(t,2),r=l[0],c=l[1];return r?m.a.createElement(is,{lang:a,group:r,onBack:function(){return c("")}}):m.a.createElement(es,{lang:a,setGroup:c})};var ys=Object(v.a)({},Dt),ks=Object(h.a)(ys),Cs={en:{modify:"Modify",visibility:"Group Resource Visibility",description:"Description",instance:"Instances Visible",instanceDescription:"User can browse instances created by other users in the same group when enabled. Otherwise, an instance is only visible to its creator by default.",disk:"Disk Images Visible",diskDescription:"User can browse disk images created by other users in the same group when enabled. Otherwise, an image is only visible to its creator by default.",media:"Media Images Visible",mediaDescription:"User can browse media images created by other users in the same group when enabled. Otherwise, an image is only visible to its creator by default."},cn:{modify:"\u4fee\u6539",visibility:"\u7ec4\u8d44\u6e90\u53ef\u89c1\u6027",description:"\u63cf\u8ff0",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b\u7ec4\u5185\u53ef\u89c1",instanceDescription:"\u52fe\u9009\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u540c\u4e00\u7ec4\u5185\u5176\u4ed6\u7528\u6237\u521b\u5efa\u7684\u4e91\u4e3b\u673a\u5b9e\u4f8b(\u9ed8\u8ba4\u4ec5\u5bf9\u521b\u5efa\u8005\u53ef\u89c1)",disk:"\u78c1\u76d8\u955c\u50cf\u7ec4\u5185\u53ef\u89c1",diskDescription:"\u52fe\u9009\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u540c\u4e00\u7ec4\u5185\u5176\u4ed6\u7528\u6237\u521b\u5efa\u7684\u78c1\u76d8\u955c\u50cf(\u9ed8\u8ba4\u4ec5\u5bf9\u521b\u5efa\u8005\u53ef\u89c1)",media:"\u5149\u76d8\u955c\u50cf\u7ec4\u5185\u53ef\u89c1",mediaDescription:"\u52fe\u9009\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u540c\u4e00\u7ec4\u5185\u5176\u4ed6\u7528\u6237\u521b\u5efa\u7684\u5149\u76d8\u955c\u50cf(\u9ed8\u8ba4\u4ec5\u5bf9\u521b\u5efa\u8005\u53ef\u89c1)"}},Ss=function(e){var a=e.checked,t=e.onChange,n=e.label,l=e.description,r=e.classes;return m.a.createElement(Wt.a,{className:r.tableBodyRow},m.a.createElement(Tt.a,{className:r.tableCell},m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,null,m.a.createElement(Or.a,{checked:a,onChange:t})),m.a.createElement(te.a,null,n))),m.a.createElement(Tt.a,{className:r.tableCell},l))};var ws={en:{title:"Batch Deleting Log",content1:"Are you sure to delete ",content2:" log(s)",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6279\u91cf\u5220\u9664\u65e5\u5fd7",content1:"\u662f\u5426\u5220\u9664 ",content2:" \u6761\u65e5\u5fd7",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Os(e){var a,t=e.lang,l=e.targets,r=e.open,c=e.onSuccess,o=e.onCancel,i=l.length,s=m.a.useState(""),u=Object(n.a)(s,2),d=u[0],f=u[1],p=ws[t],E=function(e){f(e)},g=function(){f(""),c(i)};return a=d&&""!==d?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:d,color:"danger"})):m.a.createElement(Ae,{xs:12}),m.a.createElement(je.a,{open:r,"aria-labelledby":p.title,maxWidth:"sm",fullWidth:!0},m.a.createElement(We.a,null,p.title),m.a.createElement(_e.a,null,m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},p.content1+i.toString()+p.content2),a)),m.a.createElement(Ne.a,null,m.a.createElement(be,{onClick:function(){f(""),o()},color:"transparent",autoFocus:!0},p.cancel),m.a.createElement(be,{onClick:function(){!function(e,a,t){Pa("/logs/",{entries:e},a,t)}(l,g,E)},color:"info"},p.confirm)))}var js=Object(v.a)({},Cn,{cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),Ns=Object(h.a)(js),_s={en:{batchDelete:"Batch Delete",enterBatch:"Enter Batch Mode",exitBatch:"Exit Batch Mode",tableTitle:"Operate Logs",duration:"Log Duration",time:"Timestamp",content:"Content",noResource:"No log available",day:"The Last Day",month:"The Last Month",year:"The Last Year"},cn:{batchDelete:"\u6279\u91cf\u5220\u9664",enterBatch:"\u8fdb\u5165\u6279\u91cf\u6a21\u5f0f",exitBatch:"\u9000\u51fa\u6279\u91cf\u6a21\u5f0f",tableTitle:"\u64cd\u4f5c\u65e5\u5fd7",duration:"\u65e5\u5fd7\u8303\u56f4",time:"\u65e5\u5fd7\u65f6\u95f4",content:"\u5185\u5bb9",noResource:"\u6ca1\u6709\u65e5\u5fd7\u4fe1\u606f",day:"\u6700\u8fd1\u4e00\u5929",month:"\u6700\u8fd1\u4e00\u4e2a\u6708",year:"\u6700\u8fd1\u4e00\u5e74"}},Ws=function(e){var a,t=e.log,n=e.checked,l=e.checkable,r=e.onCheckStatusChanged;return a=l?m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,null,m.a.createElement(Or.a,{checked:n,onChange:function(e){var a=e.target.checked;r(a,t.id)},value:t.id})),m.a.createElement(te.a,null,t.time)):t.time,m.a.createElement(Wt.a,null,m.a.createElement(Tt.a,null,a),m.a.createElement(Tt.a,null,t.content))};var Is,Ts=t(268),Ds=t.n(Ts),As=t(269),Ps=t.n(As),Bs=t(270),Rs=t.n(Bs),Ms=t(271),Fs=t.n(Ms),zs=t(272),Hs=t.n(zs),Ls=t(273),qs=t.n(Ls),Us=t(274),Vs=t.n(Us),Gs=t(275),$s=t.n(Gs),Zs=[{path:"/dashboard",name:"dashboard",display:{cn:"\u7cfb\u7edf\u4eea\u8868\u76d8",en:"Dashboard"},icon:Ds.a,component:function(e){return m.a.createElement("div",null,m.a.createElement(b.b,{path:"/admin/dashboard",exact:!0,render:function(a){return m.a.createElement(Rn,Object(v.a)({},a,{},e))}}),m.a.createElement(b.b,{path:"/admin/dashboard/pools/",exact:!0,render:function(a){return m.a.createElement(Kn,Object(v.a)({},a,{},e))}}),m.a.createElement(b.b,{path:"/admin/dashboard/pools/:pool",exact:!0,render:function(a){return m.a.createElement(sl,Object(v.a)({},a,{},e))}}))},layout:"/admin"},{path:"/compute_pools",name:"compute_pool",display:{cn:"\u8ba1\u7b97\u8d44\u6e90\u6c60",en:"Compute Pools"},icon:Ps.a,component:function(e){var a=yl(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState({create:!1,modify:!1,delete:!1,current:""}),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState("warning"),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(""),b=Object(n.a)(g,2),h=b[0],x=b[1],y=function(){x("")},k=m.a.useCallback((function(e){E("warning"),x(e),setTimeout(y,3e3)}),[E,x]),C=m.a.useCallback((function(){la(c,(function(e){k(e),Ge()}))}),[k]),S=function(e){E("info"),x(e),Oa(e),setTimeout(y,3e3)},w=function(e){u((function(a){return Object(v.a)({},a,{modify:!0,current:e})}))},O=function(){u((function(e){return Object(v.a)({},e,{modify:!1})}))},j=function(e){u((function(a){return Object(v.a)({},a,{delete:!0,current:e})}))},N=function(){u((function(e){return Object(v.a)({},e,{delete:!1})}))},_=function(){u((function(e){return Object(v.a)({},e,{create:!1})}))};if(m.a.useEffect((function(){C()}),[C]),null===Ve())return $e();var W,I=e.lang,T=kl[I];return W=null===r?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===r.length?m.a.createElement(St,null,T.noPools):m.a.createElement(Pt,{color:"primary",headers:[T.name,T.cells,T.network,T.storage,T.failover,T.status,T.operates],rows:r.map((function(e){return m.a.createElement(fl,{key:e.name,pool:e,lang:I,onModify:w,onDelete:j})}))}),m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ut.a,{separator:"\u203a","aria-label":"breadcrumb"},m.a.createElement(ie.a,{color:"textPrimary"},T.computePools))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:3,sm:3,md:3},m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){u((function(e){return Object(v.a)({},e,{create:!0})}))}},m.a.createElement(mt.a,null),T.createButton)))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:a.cardTitleWhite},T.tableTitle)),m.a.createElement(kt,null,W))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:p,message:h,open:""!==h,closeNotification:y,close:!0})),m.a.createElement(Ae,null,m.a.createElement(hl,{lang:I,open:s.create,onSuccess:function(e){_(),S("pool "+e+" created"),C()},onCancel:_})),m.a.createElement(Ae,null,m.a.createElement(xl,{lang:I,open:s.modify,pool:s.current,onSuccess:function(e){O(),S("pool "+e+" modified"),C()},onCancel:O})),m.a.createElement(Ae,null,m.a.createElement(El,{lang:I,open:s.delete,pool:s.current,onSuccess:function(e){N(),S("pool "+e+" deleted"),C()},onCancel:N})))},layout:"/admin"},{path:"/address_pools",name:"address_pool",display:{cn:"\u5730\u5740\u6c60",en:"Address Pools"},icon:Rs.a,component:function(e){return m.a.createElement("div",null,m.a.createElement(b.b,{path:"/admin/address_pools",exact:!0,render:function(){return m.a.createElement(Ml,e)}}),m.a.createElement(b.b,{path:"/admin/address_pools/:pool",exact:!0,render:function(a){return m.a.createElement(nr,Object(v.a)({},e,{},a))}}),m.a.createElement(b.b,{path:"/admin/address_pools/:pool/:type/ranges/:start",render:function(a){return m.a.createElement(cr,Object(v.a)({},e,{},a))}}))},layout:"/admin"},{path:"/storage_pools",name:"storage_pool",display:{cn:"\u5b58\u50a8\u6c60",en:"Storage Pools"},icon:Fs.a,component:function(e){var a=gr(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(!1),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState(!1),b=Object(n.a)(g,2),h=b[0],v=b[1],x=m.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState("warning"),w=Object(n.a)(S,2),O=w[0],j=w[1],N=m.a.useState(""),_=Object(n.a)(N,2),W=_[0],I=_[1],T=function(){I("")},D=m.a.useCallback((function(e){j("warning"),I(e),setTimeout(T,3e3)}),[j,I]),A=m.a.useCallback((function(){oa(c,(function(e){D(e),Ge()}))}),[D]),P=function(e){j("info"),I(e),Oa(e),setTimeout(T,3e3)},B=function(e){E(!0),C(e)},R=function(){E(!1)},M=function(e){v(!0),C(e)},F=function(){v(!1)},z=function(){u(!1)};if(m.a.useEffect((function(){A()}),[A]),null===Ve())return $e();var H,L=e.lang,q=br[L];return H=null===r?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===r.length?m.a.createElement(St,null,q.noResource):m.a.createElement(Pt,{color:"primary",headers:[q.name,q.type,q.host,q.target,q.operates],rows:r.map((function(e){return m.a.createElement(sr,{key:e.name,pool:e,lang:L,onModify:B,onDelete:M})}))}),m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:3,sm:3,md:3},m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){u(!0)}},m.a.createElement(mt.a,null),q.createButton)))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:a.cardTitleWhite},q.tableTitle)),m.a.createElement(kt,null,H))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:O,message:W,open:""!==W,closeNotification:T,close:!0})),m.a.createElement(Ae,null,m.a.createElement(fr,{lang:L,open:s,onSuccess:function(e){z(),P("pool "+e+" created"),A()},onCancel:z})),m.a.createElement(Ae,null,m.a.createElement(Er,{lang:L,open:p,pool:k,onSuccess:function(e){R(),P("pool "+e+" modified"),A()},onCancel:R})),m.a.createElement(Ae,null,m.a.createElement(ur,{lang:L,open:h,pool:k,onSuccess:function(e){F(),P("pool "+e+" deleted"),A()},onCancel:F})))},layout:"/admin"},{path:"/instances",name:"instance",display:{cn:"\u4e91\u4e3b\u673a",en:"Instances"},icon:Hs.a,component:function(e){return m.a.createElement("div",null,m.a.createElement(b.b,{path:"/admin/instances",exact:!0,render:function(){return m.a.createElement(xi,e)}}),m.a.createElement(b.b,{path:"/admin/instances/range/",render:function(){return m.a.createElement(lo,e)}}),m.a.createElement(b.b,{path:"/admin/instances/control/:id",render:function(a){return m.a.createElement(uo,Object(v.a)({},a,{},e))}}),m.a.createElement(b.b,{path:"/admin/instances/status/:id",render:function(a){return m.a.createElement(ho,Object(v.a)({},a,{},e))}}),m.a.createElement(b.b,{path:"/admin/instances/snapshots/:id",render:function(a){return m.a.createElement(zo,Object(v.a)({},a,{},e))}}),m.a.createElement(b.b,{path:"/admin/instances/details/:id",render:function(a){return m.a.createElement(gi,Object(v.a)({},a,{},e))}}))},layout:"/admin"},{path:"/disk_images",name:"image",display:{cn:"\u78c1\u76d8\u955c\u50cf",en:"Disk Images"},icon:qs.a,component:function(e){var a=m.a.useState(null),t=Object(n.a)(a,2),l=t[0],r=t[1],c=m.a.useState(!1),o=Object(n.a)(c,2),i=o[0],s=o[1],u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(!1),g=Object(n.a)(E,2),b=g[0],h=g[1],v=m.a.useState(!1),x=Object(n.a)(v,2),y=x[0],k=x[1],C=m.a.useState(""),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState("warning"),N=Object(n.a)(j,2),_=N[0],W=N[1],I=m.a.useState(""),T=Object(n.a)(I,2),D=T[0],A=T[1],P=function(){A("")},B=m.a.useCallback((function(e){W("warning"),A(e),setTimeout(P,3e3)}),[W,A]),R=function(e){W("info"),A(e),Oa(e),setTimeout(P,3e3)},M=m.a.useCallback((function(){ha((function(e){r(e||[])}),(function(e){B(e),Ge()}))}),[B]),F=function(e){h(!0),O(e)},z=function(){h(!1)},H=function(e){k(!0),O(e)},L=function(){k(!1)},q=function(){s(!1)},U=function(){p(!1)};if(m.a.useEffect((function(){var e=!0;M();var a=setInterval((function(){e&&M()}),5e3);return function(){e=!1,clearInterval(a)}}),[M]),null===Ve())return $e();var V,G=e.lang,$=Gr[G];return V=null===l?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===l.length?m.a.createElement(St,null,$.noResource):m.a.createElement(ft,null,l.map((function(e){return m.a.createElement(Ae,{xs:12,sm:6,md:4,key:e.id},m.a.createElement(Br,{image:e,lang:G,onModify:F,onDelete:H}))}))),m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12,sm:6,md:4},m.a.createElement(te.a,{display:"flex"},m.a.createElement(te.a,{p:1},m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){s(!0)}},m.a.createElement(vr.a,null),$.uploadButton)),m.a.createElement(te.a,{p:1},m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){p(!0)}},m.a.createElement(Sl.a,null),$.buildButton)))))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12,sm:12,md:12},V),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:_,message:D,open:""!==D,closeNotification:P,close:!0})),m.a.createElement(Ae,null,m.a.createElement(zr,{lang:G,open:i,onSuccess:function(e){q(),R("new image "+e+" uploaded"),M()},onCancel:q})),m.a.createElement(Ae,null,m.a.createElement(Vr,{lang:G,open:f,onSuccess:function(e){U(),R("new image "+e+" built"),M()},onCancel:U})),m.a.createElement(Ae,null,m.a.createElement(qr,{lang:G,imageID:w,open:b,onSuccess:function(e){z(),R("image "+e+" modified"),M()},onCancel:z})),m.a.createElement(Ae,null,m.a.createElement(Mr,{lang:G,imageID:w,open:y,onSuccess:function(e){L(),R("image "+e+" deleted"),M()},onCancel:L})))},layout:"/admin"},{path:"/media_images",name:"media",display:{cn:"\u5149\u76d8\u955c\u50cf",en:"Media Images"},icon:Oc.a,component:function(e){var a=m.a.useState(null),t=Object(n.a)(a,2),l=t[0],r=t[1],c=m.a.useState(!1),o=Object(n.a)(c,2),i=o[0],s=o[1],u=m.a.useState(!1),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState(!1),g=Object(n.a)(E,2),b=g[0],h=g[1],v=m.a.useState(""),x=Object(n.a)(v,2),y=x[0],k=x[1],C=m.a.useState("warning"),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState(""),N=Object(n.a)(j,2),_=N[0],W=N[1],I=function(){W("")},T=m.a.useCallback((function(e){O("warning"),W(e),setTimeout(I,3e3)}),[O,W]),D=function(e){O("info"),W(e),Oa(e),setTimeout(I,3e3)},A=m.a.useCallback((function(){ga((function(e){r(e||[])}),(function(e){T(e),Ge()}))}),[T]),P=function(e){p(!0),k(e)},B=function(){p(!1)},R=function(e){h(!0),k(e)},M=function(){h(!1)},F=function(){s(!1)};if(m.a.useEffect((function(){var e=!0;A();var a=setInterval((function(){e&&A()}),5e3);return function(){e=!1,clearInterval(a)}}),[A]),null===Ve())return $e();var z,H=e.lang,L=Ar[H];return z=null===l?m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}):0===l.length?m.a.createElement(St,null,L.noResource):m.a.createElement(ft,null,l.map((function(e){return m.a.createElement(Ae,{xs:12,sm:6,md:4,key:e.id},m.a.createElement(kr,{image:e,lang:H,onModify:P,onDelete:R}))}))),m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:3,sm:3,md:3},m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){s(!0)}},m.a.createElement(vr.a,null),L.uploadButton)))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12,sm:12,md:12},z),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:w,message:_,open:""!==_,closeNotification:I,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Wr,{lang:H,open:i,onSuccess:function(e){F(),D("new image "+e+" uploaded"),A()},onCancel:F})),m.a.createElement(Ae,null,m.a.createElement(Dr,{lang:H,imageID:y,open:f,onSuccess:function(e){B(),D("image "+e+" modified"),A()},onCancel:B})),m.a.createElement(Ae,null,m.a.createElement(Sr,{lang:H,imageID:y,open:b,onSuccess:function(e){M(),D("image "+e+" deleted"),A()},onCancel:M})))},layout:"/admin"},{path:"/users",name:"user",display:{cn:"\u7528\u6237\u7ba1\u7406",en:"User Management"},icon:Vs.a,component:function(e){var a=e.lang,t=vs[a];return m.a.createElement(_i,{title:t.title,headerColor:"primary",tabs:[{tabName:t.user,tabIcon:ve.a,tabContent:m.a.createElement(Ui,{lang:a})},{tabName:t.group,tabIcon:ki.a,tabContent:m.a.createElement(xs,{lang:a})},{tabName:t.role,tabIcon:Si.a,tabContent:m.a.createElement(hs,{lang:a})}]})},layout:"/admin"},{path:"/logs",name:"log",display:{cn:"\u64cd\u4f5c\u65e5\u5fd7",en:"Operate Logs"},icon:$s.a,component:function(e){var a=Ns(),t=m.a.useState(null),l=Object(n.a)(t,2),r=l[0],c=l[1],o=m.a.useState(new Map),i=Object(n.a)(o,2),s=i[0],u=i[1],d=m.a.useState(!1),f=Object(n.a)(d,2),p=f[0],E=f[1],g=m.a.useState({offset:0,duration:"last-day"}),b=Object(n.a)(g,2),h=b[0],x=b[1],y=m.a.useState({current:0,total:0}),k=Object(n.a)(y,2),C=k[0],S=k[1],w=m.a.useState(!1),O=Object(n.a)(w,2),j=O[0],N=O[1],_=m.a.useState("warning"),W=Object(n.a)(_,2),I=W[0],T=W[1],D=m.a.useState(""),A=Object(n.a)(D,2),P=A[0],B=A[1],R=function(){B("")},M=m.a.useCallback((function(e){T("warning"),B(e),setTimeout(R,3e3)}),[T,B]),F=function(e){var a=function(e){return e<10?"0"+e.toString():e.toString()};return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())+" "+a(e.getHours())+":"+a(e.getMinutes())+":"+a(e.getSeconds())},z=m.a.useCallback((function(){var e=new Date,a=new Date(e);switch(h.duration){case"last-day":a.setDate(e.getDate()-1);break;case"last-month":a.setMonth(e.getMonth()-1);break;case"last-year":a.setFullYear(e.getFullYear()-1);break;default:return void M("invalid duration: "+h.duration)}!function(e,a,t,n,l,r){var c="/logs/?limit="+e;a&&(c+="&start="+a),t&&(c+="&after="+t),n&&(c+="&before="+n),Na(c,(function(e){var t=0;a&&(t=a),l(Object(v.a)({},e,{offset:t}))}),r)}(10,h.offset,F(a),F(e),(function(e){var a,t,n=e.logs,l=e.total,r=e.offset,o=new Map(s),i=!1;if(n){c(n);var m=[];o.forEach((function(e,a){n.some((function(e){return e.id===a}))||m.push(a)})),n.forEach((function(e){var a=e.id;o.has(a)||(o.set(a,!1),i||(i=!0))})),0!==m.length&&m.forEach((function(e){o.delete(e),i||(i=!0)}))}else c([]),0!==o.size&&(o.clear(),i=!0);(i&&u(new Map(o)),0!==l)&&(a=r<10?0:Math.floor(r/10),t=0===l%10?l/10:Math.ceil(l/10),S({current:a,total:t}))}),(function(e){M(e)}))}),[h,s,M]),H=function(){N(!1)},L=function(e,a){var t=new Map(s);t.set(a,e),u(t)};if(m.a.useEffect((function(){z()}),[z]),null===Ve())return $e();var q,U=e.lang,V=_s[U];if(r)if(0===r.length)q=m.a.createElement(St,null,V.noResource);else{var G;G=p?m.a.createElement(te.a,{display:"flex",alignItems:"center"},m.a.createElement(te.a,null,m.a.createElement(Or.a,{onChange:function(e){var a=e.target.checked,t=new Map,n=!0,l=!1,r=void 0;try{for(var c,o=s.keys()[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){var i=c.value;t.set(i,a)}}catch(m){l=!0,r=m}finally{try{n||null==o.return||o.return()}finally{if(l)throw r}}u(t)}})),m.a.createElement(te.a,null,V.time)):V.time,q=m.a.createElement(Pt,{color:"primary",headers:[G,V.content],rows:r.map((function(e){var a=e.id;return m.a.createElement(Ws,{key:a,log:e,checked:!(!s||!s.has(a))&&s.get(a),checkable:p,onCheckStatusChanged:L})}))})}else q=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});var $=[];p?$.push(m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){N(!0)}},m.a.createElement(qt.a,null),V.batchDelete),m.a.createElement(be,{size:"sm",color:"rose",round:!0,onClick:function(){E(!1)}},m.a.createElement(Yr.a,null),V.exitBatch)):$.push(m.a.createElement(be,{size:"sm",color:"info",round:!0,onClick:function(){var e=new Map,a=!0,t=!1,n=void 0;try{for(var l,r=s.keys()[Symbol.iterator]();!(a=(l=r.next()).done);a=!0){var c=l.value;e.set(c,!1)}}catch(o){t=!0,n=o}finally{try{a||null==r.return||r.return()}finally{if(t)throw n}}u(e),E(!0)}},m.a.createElement(Ol.a,null),V.enterBatch));var Z,K=[{label:V.day,value:"last-day"},{label:V.month,value:"last-month"},{label:V.year,value:"last-year"}],J=m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Ql.a,{component:"fieldset",fullWidth:!0},m.a.createElement(Yl.a,{component:"legend"},V.duration),m.a.createElement(Kl.a,{name:"duration",value:h.duration,onChange:function(e){var a=e.target.value;x({offset:0,duration:a}),z()},row:!0},m.a.createElement(te.a,{display:"flex",alignItems:"center"},K.map((function(e,a){return m.a.createElement(te.a,{key:a},m.a.createElement(Jl.a,{value:e.value,control:m.a.createElement(Zl.a,null),label:e.label}))})))))),Q=[];if(s&&(s.forEach((function(e,a){e&&Q.push(a)})),Q.sort()),C.total>1){for(var Y=[],X=function(){var e=ee;ee===C.current?Y.push(m.a.createElement(ie.a,null,e+1)):Y.push(m.a.createElement(re.a,{href:"#",underline:"none",onClick:function(){return function(e){var a=10*e;x((function(e){return Object(v.a)({},e,{offset:a})}))}(e)}},e+1))},ee=0;ee<C.total;ee++)X();Z=m.a.createElement(te.a,{display:"flex",alignItems:"center",justifyContent:"center"},Y.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1,p:0},e)})))}else Z=m.a.createElement("div",null);return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},J))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{mt:3,mb:3},m.a.createElement(Oe.a,null))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},$.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,{xs:12,sm:12,md:12},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:a.cardTitleWhite},V.tableTitle)),m.a.createElement(kt,null,q,Z))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:I,message:P,open:""!==P,closeNotification:R,close:!0})),m.a.createElement(Ae,null,m.a.createElement(Os,{lang:U,open:j,targets:j?Q:[],onSuccess:function(e){var a;H(),a=e.toString()+" log(s) deleted",T("info"),B(a),setTimeout(R,3e3),Oa(e.toString()+" log(s) deleted"),z()},onCancel:H})))},layout:"/admin"},{path:"/visibilities",name:"visibility",display:{cn:"\u8d44\u6e90\u53ef\u89c1\u6027",en:"Resource Visibilities"},icon:Ll.a,component:function(e){var a,t=e.lang,l=Cs[t],r=ks(),c=m.a.useState(!1),o=Object(n.a)(c,2),i=o[0],s=o[1],u=m.a.useState({instanceVisible:!1,diskImageVisible:!1,mediaImageVisible:!1}),d=Object(n.a)(u,2),f=d[0],p=d[1],E=m.a.useState("warning"),g=Object(n.a)(E,2),b=g[0],h=g[1],x=m.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=function(){C("")},w=m.a.useCallback((function(e){h("warning"),C(e),setTimeout(S,3e3)}),[h,C]),O=m.a.useCallback((function(){Na("/resource_visibilities/",(function(e){var a={};e.instance_visible&&(a.instanceVisible=!0),e.disk_image_visible&&(a.diskImageVisible=!0),e.media_image_visible&&(a.mediaImageVisible=!0),p(a),s(!0)}),(function(e){w(e)}))}),[w]),j=function(e){return function(a){var t=a.target.checked;p((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};if(m.a.useEffect((function(){O()}),[O]),null===Ve())return $e();a=i?m.a.createElement(Pt,{color:"primary",headers:[l.visibility,l.visibility],rows:[m.a.createElement(Ss,{key:"instance",checked:f.instanceVisible,onChange:j("instanceVisible"),label:l.instance,description:l.instanceDescription,classes:r}),m.a.createElement(Ss,{key:"disk",checked:f.diskImageVisible,onChange:j("diskImageVisible"),label:l.disk,description:l.diskDescription,classes:r}),m.a.createElement(Ss,{key:"media",checked:f.mediaImageVisible,onChange:j("mediaImageVisible"),label:l.media,description:l.mediaDescription,classes:r})]}):m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});var N=[m.a.createElement(be,{key:"modify",color:"info",onClick:function(){!function(e,a,t,n,l){var r={};e&&(r.instance_visible=e),a&&(r.disk_image_visible=a),t&&(r.media_image_visible=t),Da("/resource_visibilities/",r,n,l)}(f.instanceVisible,f.diskImageVisible,f.mediaImageVisible,(function(){var e;e="Visibilities updated",h("info"),C(e),setTimeout(S,3e3),Oa("Visibilities updated")}),w)}},m.a.createElement(Sl.a,null),l.modify)];return m.a.createElement(ft,null,m.a.createElement(Ae,{xs:12},a),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{display:"flex"},N.map((function(e,a){return m.a.createElement(te.a,{key:a,m:1},e)})))),m.a.createElement(Ae,null,m.a.createElement(jt,{place:"tr",color:b,message:k,open:""!==k,closeNotification:S,close:!0})))},layout:"/admin"}],Ks=function(e){var a;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(v.a)((a={},Object(X.a)(a,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(X.a)(a,"overflow","auto"),Object(X.a)(a,"position","relative"),Object(X.a)(a,"float","right"),a),y,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:k,map:{marginTop:"70px"}}},Js=t(276),Qs=t.n(Js),Ys=t(277),Xs=t.n(Ys);function em(e){var a=e.routes,t=Object(Q.a)(e,["routes"]),n=a[0],l=n.layout+n.path;return m.a.createElement(b.d,null,a.map((function(e,a){return"/admin"===e.layout?m.a.createElement(b.b,{path:e.layout+e.path,render:function(){return m.a.createElement(e.component,t)},key:a}):null})),m.a.createElement(b.b,{path:"/admin/compute_cells/",render:function(){return m.a.createElement(hn,t)}}),m.a.createElement(b.a,{from:"/admin",to:l}))}var am=Object(h.a)(Ks);function tm(e){var a=e.lang,t=e.setLang,l=Object(Q.a)(e,["lang","setLang"]),r=am(),c=m.a.createRef(),o=m.a.useState(!1),i=Object(n.a)(o,2),s=i[0],u=i[1],d=function(){u(!s)},f=function(){window.innerWidth>=960&&u(!1)};m.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(Is=new Y.a(c.current,{suppressScrollX:!0,suppressScrollY:!1}),document.body.style.overflow="hidden"),window.addEventListener("resize",f),function(){navigator.platform.indexOf("Win")>-1&&Is.destroy(),window.removeEventListener("resize",f)}}),[c]);var p=Ve();if(null===p)return $e();var E=p.menu,g=[];return Zs.forEach((function(e){E.some((function(a){return a===e.name}))&&g.push(e)})),m.a.createElement("div",{className:r.wrapper},m.a.createElement(ot,Object.assign({routes:g,logoText:"Nano Portal",logo:Xs.a,image:Qs.a,handleDrawerToggle:d,open:s,color:"blue",lang:a},l)),m.a.createElement("div",{className:r.mainPanel,ref:c},m.a.createElement(Ya,Object.assign({routes:g,handleDrawerToggle:d,lang:a,setLang:t},l)),m.a.createElement("div",{className:r.content},m.a.createElement("div",{className:r.container},m.a.createElement(em,{lang:a,routes:g})))))}var nm=t(171),lm=t.n(nm),rm=t(170),cm=t.n(rm),om=lm()((function(){return{background:{backgroundImage:"url("+cm.a+")",height:"100vh"}}})),im={cn:{title:"Nano\u7ba1\u7406\u95e8\u6237",user:"\u7528\u6237\u540d",password:"\u5bc6\u7801",login:"\u767b\u5f55"},en:{title:"Nano Web Portal",user:"User",password:"Password",login:"Login"}};function sm(e){var a,t,l=e.lang,r=e.setLang,c=im[l],o=om(),i=m.a.useState({user:"",password:"",nonce:"stub",type:"manager"}),s=Object(n.a)(i,2),u=s[0],d=s[1],f=m.a.useState(""),p=Object(n.a)(f,2),E=p[0],g=p[1],h=m.a.useState(!0),x=Object(n.a)(h,2),y=x[0],k=x[1],C=m.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=m.a.useState(!1),N=Object(n.a)(j,2),_=N[0],W=N[1],I=m.a.useCallback((function(e){g(e),setTimeout((function(){g("")}),5e3)}),[g]),T=function(e){return function(a){var t=a.target.value;d((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},D=m.a.useCallback((function(e){I(e)}),[I]),A=function(e){!function(e){localStorage.setItem(qe,JSON.stringify(e))}({id:e.session,timeout:e.timeout,menu:e.menu,address:e.address,user:u.user,group:e.group,nonce:u.nonce,type:u.type}),_||(W(!0),Oa("login success"))};if(m.a.useEffect((function(){if(!w){ja((function(e){e.ready||k(!1),O(!0)}),D)}}),[w,D]),w){if(!y)return m.a.createElement(b.a,{to:"/initial"});if(_){var P=new URLSearchParams(window.location.search);return P.has("previous")?m.a.createElement(b.a,{to:decodeURIComponent(P.get("previous"))}):m.a.createElement(b.a,{to:"/admin"})}var B;B=E?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:E,color:"danger"})):m.a.createElement(Ae,{xs:12}),t=m.a.createElement(be,{color:"info",onClick:function(){var e,a,t,n;e=u.user,a=u.password,t=A,n=D,Ta("/sessions/",{user:e,password:a,nonce:function(){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<16;t++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}()},t,n)}},c.login),a=m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:c.user,onChange:T("user"),value:u.user,margin:"normal",required:!0,fullWidth:!0}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:c.password,onChange:T("password"),value:u.password,margin:"normal",type:"password",required:!0,fullWidth:!0}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{alignItems:"center",display:"flex",m:1},t,m.a.createElement(te.a,{flexGrow:1}),m.a.createElement(Za,{lang:l,setLang:r}))),m.a.createElement(Ae,{xs:12},B))}else a=m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}});return m.a.createElement(te.a,{component:"div",className:o.background},m.a.createElement(Ho.a,{maxWidth:"lg"},m.a.createElement(Ie.a,{container:!0,justify:"center"},m.a.createElement(Ie.a,{item:!0,xs:12,sm:8,md:4},m.a.createElement(te.a,{mt:20,p:0},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:o.cardTitleWhite},c.title)),m.a.createElement(kt,null,a)))))))}var mm=lm()((function(){return Object(v.a)({},Cn,{background:{backgroundImage:"url("+cm.a+")",height:"100vh"}})})),um={cn:{welcome:"\u6b22\u8fce\u4f7f\u7528Nano\u4e91\u5e73\u53f0",description:"\u8bf7\u8bbe\u5b9a\u7ba1\u7406\u5458\u8d26\u53f7\u53ca\u5bc6\u7801\uff0c\u5f00\u59cb\u521d\u59cb\u5316\u7cfb\u7edf",user:"\u9ed8\u8ba4\u7ba1\u7406\u5458\u5e10\u53f7",password:"\u5bc6\u7801",password2:"\u786e\u8ba4\u5bc6\u7801",initial:"\u521d\u59cb\u5316",confirm:"\u786e\u8ba4",success:"\u7cfb\u7edf\u521d\u59cb\u5316\u6210\u529f\uff0c\u70b9\u51fb\u8fdb\u5165\u767b\u5f55\u9875\u9762"},en:{welcome:"Welcome to Nano",description:"Please set up a new admin account",user:"Super Admin Name",password:"Password",password2:"Confirm Password",initial:"Initial System",confirm:"Confirm",success:"System initialed, click to login"}};function dm(e){var a,t,l,r=0,c=1,o=2,i=3,s=mm(),u=e.lang,d=e.setLang,f=um[u],p=m.a.useState({user:"",password:"",password2:""}),E=Object(n.a)(p,2),g=E[0],h=E[1],x=m.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=m.a.useState(r),w=Object(n.a)(S,2),O=w[0],j=w[1],N=function(e){return function(a){var t=a.target.value;h((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},_=m.a.useCallback((function(e){C(e),setTimeout((function(){C("")}),5e3)}),[]),W=function(){C(""),j(o)},I=m.a.useCallback((function(){j(i)}),[i]);switch(m.a.useEffect((function(){ja((function(e){e.ready?I():j(c)}),_)}),[c,_,I]),a=k&&""!==k?m.a.createElement(Ae,{xs:12},m.a.createElement(ze,{message:k,color:"danger"})):m.a.createElement(Ae,{xs:12}),O){case c:l=m.a.createElement(be,{color:"info",onClick:function(){var e=new RegExp("[^\\w-.]");if(g.user)if(e.test(g.user))_("only letter/digit/'-'/'_'/'.' allowed in username");else if(g.password)if(g.password2===g.password){var a=[];ta(u).forEach((function(e){a.push(e.value)})),function(e,a,t,n,l,r,c,o){var i={user:e,password:l,menu:r};a&&(i.group=a),t&&(i.display=t),n&&(i.role=n),Ta("/system/",i,c,o)}(g.user,null,null,null,g.password,a,W,_)}else _("password mismatch");else _("please input password");else _("must specify user name")}},f.initial),t=m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{justifyContent:"center",display:"flex"},m.a.createElement(ie.a,{className:s.cardTitle},f.description))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:f.user,onChange:N("user"),value:g.user,margin:"normal",required:!0,fullWidth:!0}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:f.password,onChange:N("password"),value:g.password,margin:"normal",type:"password",required:!0,fullWidth:!0}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{m:0,pt:2},m.a.createElement(Te.a,{label:f.password2,onChange:N("password2"),value:g.password2,margin:"normal",type:"password",required:!0,fullWidth:!0}))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{alignItems:"center",display:"flex",m:1},l,m.a.createElement(te.a,{flexGrow:1}),m.a.createElement(Za,{lang:u,setLang:d}))),m.a.createElement(Ae,{xs:12},a));break;case o:l=m.a.createElement(be,{color:"info",onClick:function(){I()}},f.confirm),t=m.a.createElement(Ie.a,{container:!0},m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{justifyContent:"center",display:"flex"},m.a.createElement(ie.a,{variant:"body1",component:"span",className:s.cardTitle},f.success))),m.a.createElement(Ae,{xs:12},m.a.createElement(te.a,{justifyContent:"center",display:"flex"},l)));break;case i:return m.a.createElement(b.a,{to:"/login"});default:t=m.a.createElement("div",null,m.a.createElement(it.a,{variant:"rect",style:{height:"10rem"}}),a)}return m.a.createElement(te.a,{component:"div",className:s.background},m.a.createElement(Ho.a,{maxWidth:"lg"},m.a.createElement(Ie.a,{container:!0,justify:"center"},m.a.createElement(Ie.a,{item:!0,xs:12,sm:8,md:4},m.a.createElement(te.a,{mt:20,p:0},m.a.createElement(gt,null,m.a.createElement(vt,{color:"primary"},m.a.createElement("h4",{className:s.cardTitleWhite},f.welcome)),m.a.createElement(kt,null,t)))))))}t(466);var fm=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(o.a)(a).call(this,e))).state={hasError:!1,error:null,errorStack:null},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return this.state.hasError?m.a.createElement(J,null,this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e.message,errorStack:e.stack}}}]),a}(m.a.Component),pm=Object(g.a)(),Em=p()({palette:{primary:{light:S[1],main:S[0]},secondary:{light:N[1],main:N[0]},error:{light:O[1],main:O[0]}}});d.a.render(m.a.createElement((function(e){var a=m.a.useState(function(){var e=localStorage.getItem(Ue);if(!e||0===e.length)return"cn";var a=JSON.parse(e);return a.lang?a.lang:"cn"}()),t=Object(n.a)(a,2),l=t[0],r=t[1];return m.a.createElement(E.a,{theme:Em},m.a.createElement(fm,null,m.a.createElement(b.c,{history:pm},m.a.createElement(b.d,null,m.a.createElement(b.b,{path:"/admin",render:function(e){return m.a.createElement(tm,{lang:l,setLang:r})}}),m.a.createElement(b.b,{path:"/login",render:function(e){return m.a.createElement(sm,{lang:l,setLang:r})}}),m.a.createElement(b.b,{path:"/initial",render:function(e){return m.a.createElement(dm,{lang:l,setLang:r})}}),m.a.createElement(b.a,{from:"/",to:"/login"})))))}),null),document.getElementById("root"))}},[[304,1,2]]]);
//# sourceMappingURL=main.e7335b59.chunk.js.map