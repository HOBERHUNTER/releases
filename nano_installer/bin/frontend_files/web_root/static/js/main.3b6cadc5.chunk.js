/*! For license information please see main.3b6cadc5.chunk.js.LICENSE */
(this["webpackJsonpnano-portal"]=this["webpackJsonpnano-portal"]||[]).push([[0],{168:function(e,a,t){e.exports=t.p+"static/media/login_background.327add31.jpg"},280:function(e,a,t){e.exports=t.p+"static/media/sidebar.18c01f03.jpg"},281:function(e,a,t){e.exports=t.p+"static/media/nano_white.a92c198a.svg"},307:function(e,a,t){e.exports=t(470)},469:function(e,a,t){},470:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t(133),o=t(134),r=t(170),c=t(135),i=t(172),s=t(0),u=t.n(s),m=t(22),d=t.n(m),p=t(194),f=t.n(p),b=t(552),g=t(43),E=t(82),h=t(511),v=t(3),x=function(e){e=(e+="").replace("#","");if(!/[0-9A-Fa-f]/g.test(e)||3!==e.length&&6!==e.length)throw new Error("input is not a valid hex color.");if(3===e.length){var a=e[0],t=e[1],n=e[2];e=a+a+t+t+n+n}var l=(e=e.toUpperCase(e))[0]+e[1],o=e[2]+e[3],r=e[4]+e[5];return parseInt(l,16)+", "+parseInt(o,16)+", "+parseInt(r,16)},y={transition:"all 0.33s cubic-bezier(0.685, 0.0473, 0.346, 1)"},k={paddingRight:"15px",paddingLeft:"15px",marginRight:"auto",marginLeft:"auto"},C={fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontWeight:"300",lineHeight:"1.5em"},S=["#9c27b0","#ab47bc","#8e24aa","#af2cc5"],w=["#ff9800","#ffa726","#fb8c00","#ffa21a"],O=["#f44336","#ef5350","#e53935","#f55a4e"],j=["#4caf50","#66bb6a","#43a047","#5cb860"],N=["#00acc1","#26c6da","#00acc1","#00d3ee"],_=["#e91e63","#ec407a","#d81b60","#eb3573"],T=["#999","#777","#3C4858","#AAAAAA","#D2D2D2","#DDD","#b4b4b4","#555555","#333","#a9afbb","#eee","#e7e7e7"],R="#000",I="#FFF",D={boxShadow:"0 10px 30px -12px rgba("+x(R)+", 0.42), 0 4px 25px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(R)+", 0.2)"},A={boxShadow:"0 4px 20px 0 rgba("+x(R)+",.14), 0 7px 10px -5px rgba("+x(S[0])+",.4)"},B={boxShadow:"0 4px 20px 0 rgba("+x(R)+",.14), 0 7px 10px -5px rgba("+x(N[0])+",.4)"},P={boxShadow:"0 4px 20px 0 rgba("+x(R)+",.14), 0 7px 10px -5px rgba("+x(j[0])+",.4)"},M={boxShadow:"0 4px 20px 0 rgba("+x(R)+",.14), 0 7px 10px -5px rgba("+x(w[0])+",.4)"},W={boxShadow:"0 4px 20px 0 rgba("+x(R)+",.14), 0 7px 10px -5px rgba("+x(O[0])+",.4)"},z={boxShadow:"0 4px 20px 0 rgba("+x(R)+",.14), 0 7px 10px -5px rgba("+x(_[0])+",.4)"},H=Object(v.a)({background:"linear-gradient(60deg, "+w[1]+", "+w[2]+")"},M),q=Object(v.a)({background:"linear-gradient(60deg, "+j[1]+", "+j[2]+")"},P),F=Object(v.a)({background:"linear-gradient(60deg, "+O[1]+", "+O[2]+")"},W),L=Object(v.a)({background:"linear-gradient(60deg, "+N[1]+", "+N[2]+")"},B),U=Object(v.a)({background:"linear-gradient(60deg, "+S[1]+", "+S[2]+")"},A),V=Object(v.a)({background:"linear-gradient(60deg, "+_[1]+", "+_[2]+")"},z),G=(Object(v.a)({margin:"0 20px 10px",paddingTop:"10px",borderTop:"1px solid "+T[10],height:"auto"},C),x(R),x(R),{border:"0",borderRadius:"3px",boxShadow:"0 10px 20px -12px rgba("+x(R)+", 0.42), 0 3px 20px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(R)+", 0.2)",padding:"10px 0",transition:"all 150ms ease 0s"}),$={color:T[2],textDecoration:"none",fontWeight:"300",marginTop:"30px",marginBottom:"25px",minHeight:"32px",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif","& small":{color:T[1],fontWeight:"400",lineHeight:"1"}},Z=(Object(v.a)({},$,{marginTop:"0",marginBottom:"3px",minHeight:"auto","& a":Object(v.a)({},$,{marginTop:".625rem",marginBottom:"0.75rem",minHeight:"auto"})}),{defaultFontStyle:Object(v.a)({},C,{fontSize:"14px"}),defaultHeaderMargins:{marginTop:"20px",marginBottom:"10px"},quote:{padding:"10px 20px",margin:"0 0 20px",fontSize:"17.5px",borderLeft:"5px solid "+T[10]},quoteText:{margin:"0 0 10px",fontStyle:"italic"},quoteAuthor:{display:"block",fontSize:"80%",lineHeight:"1.42857143",color:T[1]},mutedText:{color:T[1]},primaryText:{color:S[0]},infoText:{color:N[0]},successText:{color:j[0]},warningText:{color:w[0]},dangerText:{color:O[0]}}),J=Object(h.a)(Z);function Q(e){var a=J(),t=e.children;return u.a.createElement("div",{className:a.defaultFontStyle+" "+a.dangerText},t)}var Y=t(29),K=t(246),X=(t(314),t(6)),ee=t(24),ae=t.n(ee),te=t(553),ne=t(533),le=t(534),oe=t(532),re=t(531),ce=t(284),ie=t(70),se=t(250),ue=t.n(se),me=t(555),de=t(251),pe=t.n(de),fe=t(513),be={button:{minHeight:"auto",minWidth:"auto",backgroundColor:T[0],color:I,boxShadow:"0 2px 2px 0 rgba("+x(T[0])+", 0.14), 0 3px 1px -2px rgba("+x(T[0])+", 0.2), 0 1px 5px 0 rgba("+x(T[0])+", 0.12)",border:"none",borderRadius:"3px",position:"relative",padding:"12px 30px",margin:".3125rem 1px",fontSize:"12px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0",willChange:"box-shadow, transform",transition:"box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1), background-color 0.2s cubic-bezier(0.4, 0, 0.2, 1)",lineHeight:"1.42857143",textAlign:"center",whiteSpace:"nowrap",verticalAlign:"middle",touchAction:"manipulation",cursor:"pointer","&:hover,&:focus":{color:I,backgroundColor:T[0],boxShadow:"0 14px 26px -12px rgba("+x(T[0])+", 0.42), 0 4px 23px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(T[0])+", 0.2)"},"& .fab,& .fas,& .far,& .fal, &.material-icons":{position:"relative",display:"inline-block",top:"0",marginTop:"-1em",marginBottom:"-1em",fontSize:"1.1rem",marginRight:"4px",verticalAlign:"middle"},"& svg":{position:"relative",display:"inline-block",top:"0",width:"18px",height:"18px",marginRight:"4px",verticalAlign:"middle"},"&$justIcon":{"& .fab,& .fas,& .far,& .fal,& .material-icons":{marginTop:"0px",position:"absolute",width:"100%",transform:"none",left:"0px",top:"0px",height:"100%",lineHeight:"41px",fontSize:"20px"}}},white:{"&,&:focus,&:hover":{backgroundColor:I,color:T[0]}},rose:{backgroundColor:_[0],boxShadow:"0 2px 2px 0 rgba("+x(_[0])+", 0.14), 0 3px 1px -2px rgba("+x(_[0])+", 0.2), 0 1px 5px 0 rgba("+x(_[0])+", 0.12)","&:hover,&:focus":{backgroundColor:_[0],boxShadow:"0 14px 26px -12px rgba("+x(_[0])+", 0.42), 0 4px 23px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(_[0])+", 0.2)"}},primary:{backgroundColor:S[0],boxShadow:"0 2px 2px 0 rgba("+x(S[0])+", 0.14), 0 3px 1px -2px rgba("+x(S[0])+", 0.2), 0 1px 5px 0 rgba("+x(S[0])+", 0.12)","&:hover,&:focus":{backgroundColor:S[0],boxShadow:"0 14px 26px -12px rgba("+x(S[0])+", 0.42), 0 4px 23px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(S[0])+", 0.2)"}},info:{backgroundColor:N[0],boxShadow:"0 2px 2px 0 rgba("+x(N[0])+", 0.14), 0 3px 1px -2px rgba("+x(N[0])+", 0.2), 0 1px 5px 0 rgba("+x(N[0])+", 0.12)","&:hover,&:focus":{backgroundColor:N[0],boxShadow:"0 14px 26px -12px rgba("+x(N[0])+", 0.42), 0 4px 23px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(N[0])+", 0.2)"}},success:{backgroundColor:j[0],boxShadow:"0 2px 2px 0 rgba("+x(j[0])+", 0.14), 0 3px 1px -2px rgba("+x(j[0])+", 0.2), 0 1px 5px 0 rgba("+x(j[0])+", 0.12)","&:hover,&:focus":{backgroundColor:j[0],boxShadow:"0 14px 26px -12px rgba("+x(j[0])+", 0.42), 0 4px 23px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(j[0])+", 0.2)"}},warning:{backgroundColor:w[0],boxShadow:"0 2px 2px 0 rgba("+x(w[0])+", 0.14), 0 3px 1px -2px rgba("+x(w[0])+", 0.2), 0 1px 5px 0 rgba("+x(w[0])+", 0.12)","&:hover,&:focus":{backgroundColor:w[0],boxShadow:"0 14px 26px -12px rgba("+x(w[0])+", 0.42), 0 4px 23px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(w[0])+", 0.2)"}},danger:{backgroundColor:O[0],boxShadow:"0 2px 2px 0 rgba("+x(O[0])+", 0.14), 0 3px 1px -2px rgba("+x(O[0])+", 0.2), 0 1px 5px 0 rgba("+x(O[0])+", 0.12)","&:hover,&:focus":{backgroundColor:O[0],boxShadow:"0 14px 26px -12px rgba("+x(O[0])+", 0.42), 0 4px 23px 0px rgba("+x(R)+", 0.12), 0 8px 10px -5px rgba("+x(O[0])+", 0.2)"}},simple:{"&,&:focus,&:hover":{color:I,background:"transparent",boxShadow:"none"},"&$rose":{"&,&:focus,&:hover,&:visited":{color:_[0]}},"&$primary":{"&,&:focus,&:hover,&:visited":{color:S[0]}},"&$info":{"&,&:focus,&:hover,&:visited":{color:N[0]}},"&$success":{"&,&:focus,&:hover,&:visited":{color:j[0]}},"&$warning":{"&,&:focus,&:hover,&:visited":{color:w[0]}},"&$danger":{"&,&:focus,&:hover,&:visited":{color:O[0]}}},transparent:{"&,&:focus,&:hover":{color:"inherit",background:"transparent",boxShadow:"none"}},disabled:{opacity:"0.65",pointerEvents:"none"},lg:{padding:"1.125rem 2.25rem",fontSize:"0.875rem",lineHeight:"1.333333",borderRadius:"0.2rem"},sm:{padding:"0.40625rem 1.25rem",fontSize:"0.6875rem",lineHeight:"1.5",borderRadius:"0.2rem"},round:{borderRadius:"30px"},block:{width:"100% !important"},link:{"&,&:hover,&:focus":{backgroundColor:"transparent",color:T[0],boxShadow:"none"}},justIcon:{paddingLeft:"12px",paddingRight:"12px",fontSize:"20px",height:"41px",minWidth:"41px",width:"41px","& .fab,& .fas,& .far,& .fal,& svg,& .material-icons":{marginRight:"0px"},"&$lg":{height:"57px",minWidth:"57px",width:"57px",lineHeight:"56px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"32px",lineHeight:"56px"},"& svg":{width:"32px",height:"32px"}},"&$sm":{height:"30px",minWidth:"30px",width:"30px","& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"17px",lineHeight:"29px"},"& svg":{width:"17px",height:"17px"}}}},ge=Object(h.a)(be);function Ee(e){var a,t=ge(),n=e.color,l=e.round,o=e.children,r=e.disabled,c=e.simple,i=e.size,s=e.block,m=e.link,d=e.justIcon,p=e.className,f=e.muiClasses,b=Object(Y.a)(e,["color","round","children","disabled","simple","size","block","link","justIcon","className","muiClasses"]),g=ae()((a={},Object(X.a)(a,t.button,!0),Object(X.a)(a,t[i],i),Object(X.a)(a,t[n],n),Object(X.a)(a,t.round,l),Object(X.a)(a,t.disabled,r),Object(X.a)(a,t.simple,c),Object(X.a)(a,t.block,s),Object(X.a)(a,t.link,m),Object(X.a)(a,t.justIcon,d),Object(X.a)(a,p,p),a));return u.a.createElement(fe.a,Object.assign({},b,{classes:f,className:g}),o)}var he=t(147),ve=t.n(he),xe=t(520),ye=t(519),ke=t(283),Ce=t(202),Se=t(482),we=t(481),Oe=t(530),je=t(556),Ne=t(524),_e=t(518),Te=t(562),Re=t(559),Ie=t(521),De=t(522),Ae=t(517),Be=t(474),Pe=t(523),Me=t(478),We=t(558),ze=t(560);function He(e){var a,t=e.type,n=e.label,l=e.value,o=e.onChange,r=e.required,c=e.oneRow,i=e.disabled,s=e.options,m=e.on,d=e.off,p=e.rows,f=e.step,b=e.maxStep,g=e.minStep,E=e.marks,h=Object(Y.a)(e,["type","label","value","onChange","required","oneRow","disabled","options","on","off","rows","step","maxStep","minStep","marks"]);switch(t){case"text":a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:n,onChange:o,value:l,margin:"normal",required:r,disabled:i,fullWidth:!0}));break;case"password":a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:n,onChange:o,value:l,type:"password",margin:"normal",required:r,disabled:i,fullWidth:!0}));break;case"file":a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:n,onChange:o,type:"file",margin:"normal",required:r,disabled:i,fullWidth:!0}));break;case"textarea":p<2&&(p=3),a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:n,onChange:o,value:l,margin:"normal",required:r,disabled:i,rowsMax:p,multiline:!0,fullWidth:!0}));break;case"select":a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(_e.a,null,n),u.a.createElement(je.a,{value:l,onChange:o,required:r,disabled:i,fullWidth:!0},s.map((function(e,a){return u.a.createElement(xe.a,{value:e.value,key:a,disabled:e.disabled},e.label)}))));break;case"radio":a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},n),u.a.createElement(Ie.a,{name:"type",value:l,onChange:o,row:!0},u.a.createElement(te.a,{display:"flex",alignItems:"center"},s.map((function(e,a){return u.a.createElement(te.a,{key:a},u.a.createElement(De.a,{value:e.value,control:u.a.createElement(Re.a,null),label:e.label}))}))))));break;case"switch":a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(_e.a,null,n),u.a.createElement(Pe.a,{item:!0},d,u.a.createElement(Ne.a,{checked:l,onChange:o,color:"primary"}),m));break;case"checkbox":a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},n),u.a.createElement(Me.a,null,u.a.createElement(Pe.a,{container:!0},s.map((function(e,a){var t,n=e.value,r=e.label;return t=!!l.has(n)&&l.get(n),u.a.createElement(Pe.a,{item:!0,xs:6,sm:3,key:a},u.a.createElement(De.a,{control:u.a.createElement(We.a,{checked:t,onChange:o(n),value:n}),label:r}))}))))));break;case"slider":a=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Be.a,{component:"legend"},n),u.a.createElement(ze.a,{color:"secondary",value:l,max:b,min:g,step:f,valueLabelDisplay:"auto",marks:E,onChange:o}));break;default:return u.a.createElement("div",null)}var v=u.a.createElement(Pe.a,Object.assign({item:!0},h),a);return c?u.a.createElement(Pe.a,{item:!0,xs:12},v):v}function qe(e){var a=e.inputs;return u.a.createElement(Pe.a,{container:!0},a.map((function(e,a){return u.a.createElement(He,Object.assign({key:a},e))})))}var Fe=t(525),Le=t(529),Ue=t(527),Ve=t(526),Ge=t(528),$e=t(479),Ze=Object(h.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function Je(e){var a=Ze(),t=e.children,n=Object(Y.a)(e,["children"]);return u.a.createElement($e.a,Object.assign({className:a.backdrop},n),t)}var Qe=Object(h.a)({grid:{padding:"0 15px !important"}});function Ye(e){var a=Qe(),t=e.children,n=Object(Y.a)(e,["children"]);return u.a.createElement(Pe.a,Object.assign({item:!0},n,{className:a.grid}),t)}var Ke=t(480),Xe=t(146),ea=t.n(Xe),aa={root:Object(v.a)({},C,{flexWrap:"unset",position:"relative",padding:"20px 15px",lineHeight:"20px",marginBottom:"20px",fontSize:"14px",backgroundColor:I,color:T[7],borderRadius:"3px",minWidth:"unset",maxWidth:"unset",boxShadow:"0 12px 20px -10px rgba("+x(I)+", 0.28), 0 4px 20px 0px rgba("+x(R)+", 0.12), 0 7px 8px -5px rgba("+x(I)+", 0.2)"}),top20:{top:"20px"},top40:{top:"40px"},info:Object(v.a)({backgroundColor:N[3],color:I},B),success:Object(v.a)({backgroundColor:j[3],color:I},P),warning:Object(v.a)({backgroundColor:w[3],color:I},M),danger:Object(v.a)({backgroundColor:O[3],color:I},W),primary:Object(v.a)({backgroundColor:S[3],color:I},A),rose:Object(v.a)({backgroundColor:_[3],color:I},z),message:{padding:"0",display:"block",maxWidth:"89%"},close:{width:"11px",height:"11px"},iconButton:{width:"24px",height:"24px",padding:"0px"},icon:{display:"block",left:"15px",position:"absolute",top:"50%",marginTop:"-15px",width:"30px",height:"30px"},infoIcon:{color:N[3]},successIcon:{color:j[3]},warningIcon:{color:w[3]},dangerIcon:{color:O[3]},primaryIcon:{color:S[3]},roseIcon:{color:_[3]},iconMessage:{paddingLeft:"50px",display:"block"},actionRTL:{marginLeft:"-8px",marginRight:"auto"}},ta=Object(h.a)(aa);function na(e){var a=ta(),t=e.message,n=e.color,l=e.close,o=e.icon,r=e.rtlActive,c=[],i=ae()(Object(X.a)({},a.iconMessage,void 0!==o));return void 0!==l&&(c=[u.a.createElement(ce.a,{className:a.iconButton,key:"close","aria-label":"Close",color:"inherit"},u.a.createElement(ea.a,{className:a.close}))]),u.a.createElement(Ke.a,{message:u.a.createElement("div",null,void 0!==o?u.a.createElement(e.icon,{className:a.icon}):null,u.a.createElement("span",{className:i},t)),classes:{root:a.root+" "+a[n],message:a.message,action:ae()(Object(X.a)({},a.actionRTL,r))},action:c})}function la(e){var a,t,n=e.open,l=e.size,o=e.operatable,r=e.promptPosition,c=e.prompt,i=e.title,s=e.content,m=e.buttons,d=e.hideBackdrop;a=c?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:c,color:"warning"})):u.a.createElement(Ye,{xs:12}),t="top"===r?u.a.createElement(Pe.a,{container:!0},a,u.a.createElement(Ye,{xs:12},s)):u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},s),a);var p=[];return o&&m.forEach((function(e,a){p.push(u.a.createElement(Ee,{onClick:e.onClick,color:e.color,key:a},e.label))})),u.a.createElement(Fe.a,{open:n,maxWidth:l,fullWidth:!0},u.a.createElement(Ve.a,null,i),u.a.createElement(Ue.a,null,u.a.createElement(Je,{open:!d&&!o},u.a.createElement(Ge.a,{color:"inherit"})),t),u.a.createElement(Le.a,null,u.a.createElement(te.a,{display:"block",displayPrint:"none"},p)))}var oa=t(110),ra=t.n(oa),ca="nano-session-data",ia="nano-language-data";function sa(){var e=localStorage.getItem(ca);if(!e||0===e.length)return null;var a=JSON.parse(e);return a.id?a:null}function ua(){localStorage.setItem(ca,"")}function ma(){return u.a.createElement(E.a,{to:"/login/?previous="+encodeURIComponent(window.location.pathname+window.location.search)})}function da(e){var a=function(e,a,t){return 0===e%a?(e/a).toString()+" "+t:(e/a).toFixed(2)+" "+t};return e>=1<<30?a(e,1<<30,"GB"):e>=1<<20?a(e,1<<20,"MB"):e>=1024?a(e,1024,"KB"):e.toString()+" Bytes"}function pa(e){var a=function(e,a,t){return 0===e%a?(e/a).toString()+" "+t:(e/a).toFixed(2)+" "+t};return e>=1<<27?a(e,1<<27,"Gb/s"):e>=1<<17?a(e,1<<17,"Mb/s"):e>=128?a(e,128,"Kb/s"):e.toString()+" Bits/s"}function fa(e,a){var t=Math.pow(10,a);return Math.round(e*t)/t}var ba="/api/v1",ga="Nano-Session",Ea="1.2.0";function ha(e){var a={en:{dashboard:"Dashboard",computePool:"Compute Pools",addressPool:"Address Pools",storagePool:"Storage Pools",instance:"Instances",diskImage:"Disk Image",mediaImage:"Media Image",systemTempaltes:"System Templates",user:"Users",log:"Logs",visibility:"Resource Visibility"},cn:{dashboard:"\u4eea\u8868\u76d8",computePool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",addressPool:"\u5730\u5740\u8d44\u6e90\u6c60",storagePool:"\u5b58\u50a8\u8d44\u6e90\u6c60",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",diskImage:"\u78c1\u76d8\u955c\u50cf",mediaImage:"\u5149\u76d8\u955c\u50cf",systemTempaltes:"\u7cfb\u7edf\u6a21\u677f",user:"\u7528\u6237",log:"\u65e5\u5fd7",visibility:"\u8d44\u6e90\u53ef\u89c1\u6027"}}[e];return[{value:"dashboard",label:a.dashboard},{value:"compute_pool",label:a.computePool},{value:"address_pool",label:a.addressPool},{value:"storage_pool",label:a.storagePool},{value:"instance",label:a.instance},{value:"image",label:a.diskImage},{value:"media",label:a.mediaImage},{value:"templates",label:a.systemTempaltes},{value:"user",label:a.user},{value:"log",label:a.log},{value:"visibility",label:a.visibility}]}function va(e,a){Ga("/compute_pools/",e,a)}function xa(e,a,t){Ga("/compute_pool_cells/"+e,a,t)}function ya(e,a,t,n,l){Ya("/compute_pool_cells/"+e+"/"+a,{enable:t},(function(){n(e,a,t)}),l)}function ka(e,a){Ga("/storage_pools/",e,a)}function Ca(e,a){Ga("/address_pools/",e,a)}function Sa(e,a,t){Ga("/address_pools/"+e,a,t)}function wa(e,a,t,n){if(e){var l="/guest_search/?pool="+e;a&&(l+="&cell="+a),Ga(l,t,n)}else n("must specify pool name")}function Oa(e,a,t,n){$a("/guests/"+e,(function(e,l){if(201===e){var o=l.progress,r=l.name,c=l.created;n(o,r,c)}else 200===e?a(l):t("unexpected status "+e.toString())}),t)}function ja(e,a,t,n){$a("/instances/"+e,(function(e,l){if(201===e){var o=l.progress,r=l.name,c=l.created;n(o,r,c)}else 200===e?a(l):t("unexpected status "+e.toString())}),t)}function Na(e,a,t){Ka("/instances/"+e+"/media",(function(){a(e)}),t)}function _a(e,a,t){Xa("/instances/"+e,{reboot:!1,force:!1},(function(){a(e)}),t)}function Ta(e,a,t){Xa("/instances/"+e,{reboot:!0,force:!1},(function(){a(e)}),t)}function Ra(e,a,t){Xa("/instances/"+e,{reboot:!0,force:!0},(function(){a(e)}),t)}function Ia(e,a,t){Ga("/guests/"+e+"/auth",(function(t){var n=t.user,l=t.password;a(n,l,e)}),t)}function Da(e,a){Ga("/media_image_search/",e,a)}function Aa(e,a,t){Ka("/media_images/"+e,(function(){a(e)}),t)}function Ba(e,a){Ga("/disk_image_search/",e,a)}function Pa(e,a,t){Ga("/disk_images/"+e,a,t)}function Ma(e,a,t,n,l,o){var r=sa();if(null!==r){var c={name:e,description:t,tags:n,owner:r.user,group:r.group};a&&(c.guest=a);Za("/disk_images/",c,(function(e){l(e.id)}),o)}else o("session expired")}function Wa(e,a,t){Ka("/disk_images/"+e,(function(){a(e)}),t)}function za(e,a,t,n){$a("/batch/create_guest/"+e,(function(e,l){202===e?a(l):200===e?t(l):n("unexpected status "+e.toString())}),n)}function Ha(e,a,t,n){$a("/batch/delete_guest/"+e,(function(e,l){202===e?a(l):200===e?t(l):n("unexpected status "+e.toString())}),n)}function qa(e,a,t,n){$a("/batch/stop_guest/"+e,(function(e,l){202===e?a(l):200===e?t(l):n("unexpected status "+e.toString())}),n)}function Fa(e,a){Ga("/templates/",e,a)}function La(e,a){Ga("/roles/",e,a)}function Ua(e,a,t){var n=sa();if(null!==n){var l=n.group+"."+n.user;n.address?l+="("+n.address+") : "+e:l+=": "+e;Za("/logs/",{content:l},a,t)}else t("session expired")}function Va(e,a){!function(e,a,t){nt("get",e,null,a,t)}("/system/",e,a)}function Ga(e,a,t){at("get",e,null,a,t)}function $a(e,a,t){tt("get",e,null,a,t)}function Za(e,a,t,n){at("post",e,a,t,n)}function Ja(e,a,t,n){tt("post",e,a,t,n)}function Qa(e,a,t,n){nt("post",e,a,t,n)}function Ya(e,a,t,n){at("put",e,a,t,n)}function Ka(e,a,t){at("delete",e,null,a,t)}function Xa(e,a,t,n){at("delete",e,a,t,n)}function et(e,a,t,n,l,o){var r=sa();if(null!==r){var c=Object(X.a)({},ga,r.id),i=new FormData;i.append(a,t),ra.a.post(ba+e,i,{onUploadProgress:function(e){var a=100*e.loaded/e.total;n(a)},headers:c}).then((function(e){var a=e.data;0===a.error_code?l(a.data):o(a.message)})).catch((function(e){o(e.message)}))}else o("session expired")}function at(e,a,t,n,l){var o=sa();if(null!==o){var r={method:e,url:ba+a,headers:Object(X.a)({},ga,o.id)};t&&(r.data=t),ra()(r).then((function(e){var a=e.data;0===a.error_code?n&&n(a.data):l&&l(a.message)})).catch((function(e){l&&l(e.message)}))}else l&&l("session expired")}function tt(e,a,t,n,l){var o=sa();if(null!==o){var r={method:e,url:ba+a,headers:Object(X.a)({},ga,o.id)};t&&(r.data=t),ra()(r).then((function(e){var a=e.data,t=e.status;0===a.error_code?n&&n(t,a.data):l&&l(a.message)})).catch((function(e){l&&l(e.message)}))}else l&&l("session expired")}function nt(e,a,t,n,l){var o={method:e,url:ba+a};t&&(o.data=t),ra()(o).then((function(e){var a=e.data;0===a.error_code?n&&n(a.data):l&&l(a.message)})).catch((function(e){l&&l(e.message)}))}var lt={en:{title:"Modify Password",current:"Current Password",new:"New Password",confirmNew:"Confirm New Password",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u5bc6\u7801",current:"\u5f53\u524d\u5bc6\u7801",new:"\u65b0\u5bc6\u7801",confirmNew:"\u786e\u8ba4\u65b0\u5bc6\u7801",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function ot(e){var a={old:"",new:"",new2:""},t=e.lang,l=e.user,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!1),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(a),C=Object(n.a)(k,2),S=C[0],w=C[1],O=lt[t],j=O.title,N=function(){y(""),w(a)},_=function(e){b&&(d(!0),y(e))},T=function(){Ua("change password of "+l),b&&(N(),d(!0),r())},R=function(e){return function(a){var t=a.target.value;w((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};u.a.useEffect((function(){return g(!0),function(){g(!1)}}),[]);var I=[{type:"password",label:O.current,onChange:R("old"),value:S.old,required:!0,xs:12},{type:"password",label:O.new,onChange:R("new"),value:S.new,required:!0,xs:12},{type:"password",label:O.confirmNew,onChange:R("new2"),value:S.new2,required:!0,xs:12}],D=u.a.createElement(qe,{inputs:I}),A=[{color:"transparent",label:O.cancel,onClick:function(){N(),c()}},{color:"info",label:O.confirm,onClick:function(){d(!1),""!==S.old?""!==S.new?S.new2===S.new?function(e,a,t,n,l){Ya("/users/"+e+"/password/",{old:a,new:t},(function(){n(e)}),l)}(l,S.old,S.new,T,_):_("confirm password mismatched"):_("new password required"):_("previous password required")}}];return u.a.createElement(la,{size:"sm",open:o,prompt:x,title:j,buttons:A,content:D,operatable:m})}var rt=function(e){return{buttonLink:Object(X.a)({},e.breakpoints.down("md"),{display:"flex",marginLeft:"30px",width:"auto"}),links:Object(X.a)({width:"20px",height:"20px",zIndex:"4"},e.breakpoints.down("md"),{display:"block",width:"30px",height:"30px",color:T[9],marginRight:"15px"}),linkText:Object(v.a)({zIndex:"4"},C,{fontSize:"14px"}),popperClose:{pointerEvents:"none"},pooperResponsive:Object(X.a)({},e.breakpoints.down("md"),{zIndex:"1640",position:"static",float:"none",width:"auto",marginTop:"0",backgroundColor:"transparent",border:"0",WebkitBoxShadow:"none",boxShadow:"none",color:"black"}),popperNav:Object(X.a)({},e.breakpoints.down("sm"),{position:"static !important",left:"unset !important",top:"unset !important",transform:"none !important",willChange:"unset !important","& > div":{boxShadow:"none !important",marginLeft:"0rem",marginRight:"0rem",transition:"none !important",marginTop:"0px !important",marginBottom:"0px !important",padding:"0px !important",backgroundColor:"transparent !important","& ul li":{color:I+" !important",margin:"10px 15px 0!important",padding:"10px 15px !important","&:hover":{backgroundColor:"hsla(0,0%,78%,.2)",boxShadow:"none"}}}}),dropdown:{borderRadius:"3px",border:"0",boxShadow:"0 2px 5px 0 rgba("+x(R)+", 0.26)",top:"100%",zIndex:"1000",minWidth:"160px",padding:"5px 0",margin:"2px 0 0",fontSize:"14px",textAlign:"left",listStyle:"none",backgroundColor:I,WebkitBackgroundClip:"padding-box",backgroundClip:"padding-box"},dropdownItem:Object(v.a)({},C,{fontSize:"13px",padding:"10px 20px",margin:"0 5px",borderRadius:"2px",WebkitTransition:"all 150ms linear",MozTransition:"all 150ms linear",OTransition:"all 150ms linear",MsTransition:"all 150ms linear",transition:"all 150ms linear",display:"block",clear:"both",fontWeight:"400",lineHeight:"1.42857143",color:T[8],whiteSpace:"nowrap",height:"unset",minHeight:"unset","&:hover":Object(v.a)({backgroundColor:S[0],color:I},A)})}},ct=function(e){var a,t,n;return Object(v.a)({},rt(e),{search:Object(X.a)({"& > div":{marginTop:"0"}},e.breakpoints.down("sm"),{margin:"10px 15px !important",float:"none !important",paddingTop:"1px",paddingBottom:"1px",padding:"0!important",width:"60%",marginTop:"40px","& input":{color:I}}),linkText:Object(v.a)({zIndex:"4"},C,{fontSize:"14px",margin:"0px"}),buttonLink:Object(X.a)({},e.breakpoints.down("sm"),{display:"flex",margin:"10px 15px 0",width:"-webkit-fill-available","& svg":{width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{fontSize:"24px",lineHeight:"30px",width:"24px",height:"30px",marginRight:"15px",marginLeft:"-15px"},"& > span":{justifyContent:"flex-start",width:"100%"}}),searchButton:Object(X.a)({},e.breakpoints.down("sm"),{top:"-50px !important",marginRight:"22px",float:"right"}),margin:{zIndex:"4",margin:"0"},searchIcon:{width:"17px",zIndex:"4"},notifications:(a={zIndex:"4"},Object(X.a)(a,e.breakpoints.up("md"),{position:"absolute",top:"2px",border:"1px solid "+I,right:"4px",fontSize:"9px",background:O[0],color:I,minWidth:"16px",height:"16px",borderRadius:"10px",textAlign:"center",lineHeight:"16px",verticalAlign:"middle",display:"block"}),Object(X.a)(a,e.breakpoints.down("sm"),Object(v.a)({},C,{fontSize:"14px",marginRight:"8px"})),a),manager:(t={},Object(X.a)(t,e.breakpoints.down("sm"),{width:"100%"}),Object(X.a)(t,"display","inline-block"),t),searchWrapper:(n={},Object(X.a)(n,e.breakpoints.down("sm"),{width:"-webkit-fill-available",margin:"10px 15px 0"}),Object(X.a)(n,"display","inline-block"),n)})},it=Object(h.a)(ct),st={en:{modify:"Modify Password",logout:"Logout"},cn:{modify:"\u4fee\u6539\u5bc6\u7801",logout:"\u6ce8\u9500"}};function ut(e){var a=it(),t=e.lang,l=st[t],o=u.a.useState(!1),r=Object(n.a)(o,2),c=r[0],i=r[1],s=u.a.useState(""),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(null),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(!1),v=Object(n.a)(h,2),x=v[0],y=v[1],k=u.a.useState((function(){return null!==sa()})),C=Object(n.a)(k,2),S=C[0],w=C[1],O=function(){E(null)},j=function(){var e=function(){ua(),w(!1)};Ua("logout",e,e)},N=function(){y(!0)},_=function(){y(!1)},T=u.a.useCallback((function(){!function(e){var a=sa();if(null!=a){var t=ba+"/sessions/"+a.id,n=Object(X.a)({},ga,a.id);ra.a.put(t,"",{headers:n}).then((function(a){var t=a.data;0===t.error_code||e(t.message)})).catch((function(a){e(a.message)}))}else e("session expired")}((function(){ua(),c&&w(!1)}))}),[c]);return u.a.useEffect((function(){i(!0),T();var e=sa();if(null!==e){c&&p(e.user);var a=1e3*e.timeout*2/3,t=setInterval((function(){T()}),a);return function(){i(!1),clearInterval(t)}}}),[c,T]),S?u.a.createElement("div",{className:a.manager},u.a.createElement(Ee,{color:window.innerWidth>959?"transparent":"white",simple:!(window.innerWidth>959),"aria-owns":g?"profile-menu-list-grow":null,"aria-haspopup":"true",onClick:function(e){g&&g.contains(e.target)?E(null):E(e.currentTarget)},className:a.buttonLink},d,u.a.createElement(ve.a,{className:a.icons})),u.a.createElement(we.a,{open:Boolean(g),anchorEl:g,transition:!0,disablePortal:!0,className:ae()(Object(X.a)({},a.popperClose,!g))+" "+a.popperNav},(function(e){var t=e.TransitionProps,n=e.placement;return u.a.createElement(ke.a,Object.assign({},t,{id:"profile-menu-list-grow",style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),u.a.createElement(Ce.a,null,u.a.createElement(Se.a,{onClickAway:O},u.a.createElement(ye.a,{role:"menu"},u.a.createElement(xe.a,{onClick:N,className:a.dropdownItem},l.modify),u.a.createElement(Oe.a,{light:!0}),u.a.createElement(xe.a,{onClick:j,className:a.dropdownItem},l.logout)))))})),u.a.createElement(ot,{lang:t,open:x,user:d,onSuccess:_,onCancel:_})):ma()}function mt(e){return u.a.createElement("div",null,u.a.createElement(ut,e))}var dt=t(119),pt=t(282),ft=t(249),bt=t.n(ft),gt=function(e){function a(e){var t;Object(l.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).openMenu=t.openMenu.bind(Object(dt.a)(t)),t.closeMenu=t.closeMenu.bind(Object(dt.a)(t)),t.languages=[{locale:"cn",name:"\u7b80\u4f53\u4e2d\u6587"},{locale:"en",name:"English"}];var n,o=e.lang,i=e.setLang,s=Object(Y.a)(e,["lang","setLang"]);return t.restProps=s,t.changeLanguage=i,t.languages.forEach((function(e){o===e.locale&&(n=e.name)})),t.state={language:o,anchorEl:null,displayText:n},t}return Object(i.a)(a,e),Object(o.a)(a,[{key:"updateLanguage",value:function(e){var a=this;this.languages.forEach((function(t){e===t.locale&&a.setState({displayText:t.name,anchorEl:null})})),function(e){var a=localStorage.getItem(ia);if(!a||0===a.length)return!1;var t=JSON.parse(a);!!t.lang&&(t.lang===e||(t.lang=e,localStorage.setItem(ia,JSON.stringify(t))))}(e),this.changeLanguage(e)}},{key:"openMenu",value:function(e){this.setState({anchorEl:e.currentTarget})}},{key:"closeMenu",value:function(){this.setState({anchorEl:null})}},{key:"render",value:function(){var e=this,a=this.state.language,t=this.restProps,n=t.buttonClass,l=Object(Y.a)(t,["buttonClass"]);return u.a.createElement(ie.a,{component:"div"},u.a.createElement(Ee,Object.assign({},l,{onClick:this.openMenu,color:"transparent",size:"sm"}),u.a.createElement(bt.a,{fontSize:"small",className:n}),this.state.displayText),u.a.createElement(pt.a,{keepMounted:!0,anchorEl:this.state.anchorEl,onClose:this.closeMenu,open:Boolean(this.state.anchorEl)},this.languages.map((function(t){return u.a.createElement(xe.a,{key:t.locale,selected:t.locale===a,onClick:function(){e.updateLanguage(t.locale)}},u.a.createElement(ie.a,{component:"div",variant:"overline"},t.name))}))))}}]),a}(u.a.Component),Et=function(){return{appBar:{backgroundColor:"transparent",boxShadow:"none",borderBottom:"0",marginBottom:"0",position:"absolute",width:"100%",paddingTop:"10px",zIndex:"1029",color:T[7],border:"0",borderRadius:"3px",padding:"10px 0",transition:"all 150ms ease 0s",minHeight:"50px",display:"block"},container:Object(v.a)({},k,{minHeight:"50px"}),flex:{flex:1},title:Object(v.a)({},C,{letterSpacing:"unset",lineHeight:"30px",fontSize:"18px",borderRadius:"3px",textTransform:"none",color:"inherit",margin:"0","&:hover,&:focus":{background:"transparent"}}),appResponsive:{top:"8px"},primary:Object(v.a)({backgroundColor:S[0],color:I},G),info:Object(v.a)({backgroundColor:N[0],color:I},G),success:Object(v.a)({backgroundColor:j[0],color:I},G),warning:Object(v.a)({backgroundColor:w[0],color:I},G),danger:Object(v.a)({backgroundColor:O[0],color:I},G)}},ht=Object(h.a)(Et),vt={en:{manual:"Online Manual",manualURL:"https://nanocloud.readthedocs.io/projects/guide/en/latest/"},cn:{manual:"\u5728\u7ebf\u6587\u6863",manualURL:"https://nanocloud.readthedocs.io/projects/guide/zh_CN/latest/"}};function xt(e){var a=ht();var t=e.color,n=e.lang,l=e.setLang,o=vt[n],r=ae()(Object(X.a)({}," "+a[t],t)),c=u.a.createElement(te.a,{mr:2},u.a.createElement(ie.a,{component:"span"},"Project Nano "+Ea+" \xa9 2018~2020")),i=u.a.createElement(re.a,{title:o.manual,placement:"top"},u.a.createElement(oe.a,{target:"_blank",href:o.manualURL},u.a.createElement(ce.a,{color:"default",size:"small"},u.a.createElement(ue.a,null))));return u.a.createElement(ne.a,{className:a.appBar+r},u.a.createElement(le.a,{className:a.container},u.a.createElement("div",{className:a.flex},u.a.createElement(Ee,{color:"transparent",href:"#",className:a.title},function(){var a="";return e.routes.every((function(t){return-1===window.location.href.indexOf(t.layout+t.path)||(a=t.display[e.lang],!1)})),a}())),u.a.createElement(me.a,{smDown:!0},c,i),u.a.createElement(gt,{lang:n,setLang:l}),u.a.createElement(me.a,{smDown:!0,implementation:"css"},u.a.createElement(mt,{lang:n})),u.a.createElement(me.a,{mdUp:!0,implementation:"css"},u.a.createElement(ce.a,{color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerToggle},u.a.createElement(pe.a,null)))))}var yt=t(19),kt=t(564),Ct=t(476),St=t(477),wt=t(536),Ot=t(535),jt=function(e){var a,t;return{drawerPaper:Object(v.a)({border:"none",position:"fixed",top:"0",bottom:"0",left:"0",zIndex:"1"},D,(a={width:260},Object(X.a)(a,e.breakpoints.up("md"),{width:260,position:"fixed",height:"100%"}),Object(X.a)(a,e.breakpoints.down("sm"),Object(v.a)({width:260},D,{position:"fixed",display:"block",top:"0",height:"100vh",right:"0",left:"auto",zIndex:"1032",visibility:"visible",overflowY:"visible",borderTop:"none",textAlign:"left",paddingRight:"0px",paddingLeft:"0",transform:"translate3d(".concat(260,"px, 0, 0)")},y)),a)),drawerPaperRTL:(t={},Object(X.a)(t,e.breakpoints.up("md"),{left:"auto !important",right:"0 !important"}),Object(X.a)(t,e.breakpoints.down("sm"),{left:"0  !important",right:"auto !important"}),t),logo:{position:"relative",padding:"15px 15px",zIndex:"4","&:after":{content:'""',position:"absolute",bottom:"0",height:"1px",right:"15px",width:"calc(100% - 30px)",backgroundColor:"rgba("+x(T[6])+", 0.3)"}},logoLink:Object(v.a)({},C,{textTransform:"uppercase",padding:"5px 0",display:"block",fontSize:"18px",textAlign:"left",fontWeight:"400",lineHeight:"30px",textDecoration:"none",backgroundColor:"transparent","&,&:hover":{color:I}}),logoLinkRTL:{textAlign:"right"},logoImage:{width:"30px",display:"inline-block",maxHeight:"30px",marginLeft:"10px",marginRight:"15px"},img:{width:"35px",top:"22px",position:"absolute",verticalAlign:"middle",border:"0"},background:{position:"absolute",zIndex:"1",height:"100%",width:"100%",display:"block",top:"0",left:"0",backgroundSize:"cover",backgroundPosition:"center center","&:after":{position:"absolute",zIndex:"3",width:"100%",height:"100%",content:'""',display:"block",background:R,opacity:".8"}},list:{marginTop:"20px",paddingLeft:"0",paddingTop:"0",paddingBottom:"0",marginBottom:"0",listStyle:"none",position:"unset"},item:{position:"relative",display:"block",textDecoration:"none","&:hover,&:focus,&:visited,&":{color:I}},itemLink:Object(v.a)({width:"auto",transition:"all 300ms linear",margin:"10px 15px 0",borderRadius:"3px",position:"relative",display:"block",padding:"10px 15px",backgroundColor:"transparent"},C),itemIcon:{width:"24px",height:"30px",fontSize:"24px",lineHeight:"30px",float:"left",marginRight:"15px",textAlign:"center",verticalAlign:"middle",color:"rgba("+x(I)+", 0.8)"},itemIconRTL:{marginRight:"3px",marginLeft:"15px",float:"right"},itemText:Object(v.a)({},C,{margin:"0",lineHeight:"30px",fontSize:"14px",color:I}),itemTextRTL:{textAlign:"right"},whiteFont:{color:I},purple:Object(v.a)({backgroundColor:S[0]},A,{"&:hover,&:focus":Object(v.a)({backgroundColor:S[0]},A)}),blue:{backgroundColor:N[0],boxShadow:"0 12px 20px -10px rgba("+x(N[0])+",.28), 0 4px 20px 0 rgba("+x(R)+",.12), 0 7px 8px -5px rgba("+x(N[0])+",.2)","&:hover,&:focus":{backgroundColor:N[0],boxShadow:"0 12px 20px -10px rgba("+x(N[0])+",.28), 0 4px 20px 0 rgba("+x(R)+",.12), 0 7px 8px -5px rgba("+x(N[0])+",.2)"}},green:{backgroundColor:j[0],boxShadow:"0 12px 20px -10px rgba("+x(j[0])+",.28), 0 4px 20px 0 rgba("+x(R)+",.12), 0 7px 8px -5px rgba("+x(j[0])+",.2)","&:hover,&:focus":{backgroundColor:j[0],boxShadow:"0 12px 20px -10px rgba("+x(j[0])+",.28), 0 4px 20px 0 rgba("+x(R)+",.12), 0 7px 8px -5px rgba("+x(j[0])+",.2)"}},orange:{backgroundColor:w[0],boxShadow:"0 12px 20px -10px rgba("+x(w[0])+",.28), 0 4px 20px 0 rgba("+x(R)+",.12), 0 7px 8px -5px rgba("+x(w[0])+",.2)","&:hover,&:focus":{backgroundColor:w[0],boxShadow:"0 12px 20px -10px rgba("+x(w[0])+",.28), 0 4px 20px 0 rgba("+x(R)+",.12), 0 7px 8px -5px rgba("+x(w[0])+",.2)"}},red:{backgroundColor:O[0],boxShadow:"0 12px 20px -10px rgba("+x(O[0])+",.28), 0 4px 20px 0 rgba("+x(R)+",.12), 0 7px 8px -5px rgba("+x(O[0])+",.2)","&:hover,&:focus":{backgroundColor:O[0],boxShadow:"0 12px 20px -10px rgba("+x(O[0])+",.28), 0 4px 20px 0 rgba("+x(R)+",.12), 0 7px 8px -5px rgba("+x(O[0])+",.2)"}},sidebarWrapper:{position:"relative",height:"calc(100vh - 75px)",overflow:"auto",width:"260px",zIndex:"4",overflowScrolling:"touch"},activePro:Object(X.a)({},e.breakpoints.up("md"),{position:"absolute",width:"100%",bottom:"13px"})}},Nt=Object(h.a)(jt);function _t(e){var a=Nt();function t(e){return window.location.href.indexOf(e)>-1}var n=e.color,l=e.logo,o=e.image,r=e.logoText,c=e.routes,i=e.lang,s=u.a.createElement(Ct.a,{className:a.list},c.map((function(l,o){var r;r=ae()(Object(X.a)({}," "+a[n],t(l.layout+l.path)));var c=ae()(Object(X.a)({}," "+a.whiteFont,t(l.layout+l.path)));return u.a.createElement(yt.b,{to:l.layout+l.path,className:" "+a.item,activeClassName:"active",key:o},u.a.createElement(St.a,{button:!0,className:a.itemLink+r},"string"===typeof l.icon?u.a.createElement(Ot.a,{className:ae()(a.itemIcon,c,Object(X.a)({},a.itemIconRTL,e.rtlActive))},l.icon):u.a.createElement(l.icon,{className:ae()(a.itemIcon,c,Object(X.a)({},a.itemIconRTL,e.rtlActive))}),u.a.createElement(wt.a,{primary:l.display[i],className:ae()(a.itemText,c,Object(X.a)({},a.itemTextRTL,e.rtlActive)),disableTypography:!0})))}))),m=u.a.createElement("div",{className:a.logo},u.a.createElement("a",{href:"https://nanos.cloud/",className:ae()(a.logoLink,Object(X.a)({},a.logoLinkRTL,e.rtlActive)),target:"_blank"},u.a.createElement("div",{className:a.logoImage},u.a.createElement("img",{src:l,alt:"logo",className:a.img})),r));return u.a.createElement("div",null,u.a.createElement(me.a,{mdUp:!0,implementation:"css"},u.a.createElement(kt.a,{variant:"temporary",anchor:e.rtlActive?"left":"right",open:e.open,classes:{paper:ae()(a.drawerPaper,Object(X.a)({},a.drawerPaperRTL,e.rtlActive))},onClose:e.handleDrawerToggle,ModalProps:{keepMounted:!0}},m,u.a.createElement("div",{className:a.sidebarWrapper},u.a.createElement(mt,{lang:i}),s),void 0!==o?u.a.createElement("div",{className:a.background,style:{backgroundImage:"url("+o+")"}}):null)),u.a.createElement(me.a,{smDown:!0,implementation:"css"},u.a.createElement(kt.a,{anchor:e.rtlActive?"right":"left",variant:"permanent",open:!0,classes:{paper:ae()(a.drawerPaper,Object(X.a)({},a.drawerPaperRTL,e.rtlActive))}},m,u.a.createElement("div",{className:a.sidebarWrapper},s),void 0!==o?u.a.createElement("div",{className:a.background,style:{backgroundImage:"url("+o+")"}}):null)))}var Tt=t(543),Rt=t(28),It=t.n(Rt),Dt=t(557),At=t(81),Bt=t.n(At),Pt=t(64),Mt=t.n(Pt),Wt=t(152),zt=t.n(Wt),Ht=t(20),qt=t.n(Ht),Ft=t(40),Lt=t.n(Ft),Ut=t(154),Vt=t.n(Ut),Gt=t(149),$t=t.n(Gt),Zt=t(150),Jt=t.n(Zt),Qt=t(153),Yt=t.n(Qt),Kt=Object(h.a)({grid:{margin:"0 -15px !important",width:"unset"}});function Xt(e){var a=Kt(),t=e.children,n=Object(Y.a)(e,["children"]);return u.a.createElement(Pe.a,Object.assign({container:!0},n,{className:a.grid}),t)}var en={card:{border:"0",marginBottom:"30px",marginTop:"30px",borderRadius:"6px",color:"rgba("+x(R)+", 0.87)",background:I,width:"100%",boxShadow:"0 1px 4px 0 rgba("+x(R)+", 0.14)",position:"relative",display:"flex",flexDirection:"column",minWidth:"0",wordWrap:"break-word",fontSize:".875rem"},cardPlain:{background:"transparent",boxShadow:"none"},cardProfile:{marginTop:"30px",textAlign:"center"},cardChart:{"& p":{marginTop:"0px",paddingTop:"0px"}}},an=Object(h.a)(en);function tn(e){var a,t=an(),n=e.className,l=e.children,o=e.plain,r=e.profile,c=e.chart,i=Object(Y.a)(e,["className","children","plain","profile","chart"]),s=ae()((a={},Object(X.a)(a,t.card,!0),Object(X.a)(a,t.cardPlain,o),Object(X.a)(a,t.cardProfile,r),Object(X.a)(a,t.cardChart,c),Object(X.a)(a,n,void 0!==n),a));return u.a.createElement("div",Object.assign({className:s},i),l)}var nn={cardHeader:{padding:"0.75rem 1.25rem",marginBottom:"0",borderBottom:"none",background:"transparent",zIndex:"3 !important","&$cardHeaderPlain,&$cardHeaderIcon,&$cardHeaderStats,&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{margin:"0 15px",padding:"0",position:"relative",color:I},"&:first-child":{borderRadius:"calc(.25rem - 1px) calc(.25rem - 1px) 0 0"},"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{"&:not($cardHeaderIcon)":{borderRadius:"3px",marginTop:"-20px",padding:"15px"}},"&$cardHeaderStats svg":{fontSize:"36px",lineHeight:"56px",textAlign:"center",width:"36px",height:"36px",margin:"10px 10px 4px"},"&$cardHeaderStats i,&$cardHeaderStats .material-icons":{fontSize:"36px",lineHeight:"56px",width:"56px",height:"56px",textAlign:"center",overflow:"unset",marginBottom:"1px"},"&$cardHeaderStats$cardHeaderIcon":{textAlign:"right"}},cardHeaderPlain:{marginLeft:"0px !important",marginRight:"0px !important"},cardHeaderStats:{"& $cardHeaderIcon":{textAlign:"right"},"& h1,& h2,& h3,& h4,& h5,& h6":{margin:"0 !important"}},cardHeaderIcon:{"&$warningCardHeader,&$successCardHeader,&$dangerCardHeader,&$infoCardHeader,&$primaryCardHeader,&$roseCardHeader":{background:"transparent",boxShadow:"none"},"& i,& .material-icons":{width:"33px",height:"33px",textAlign:"center",lineHeight:"33px"},"& svg":{width:"24px",height:"24px",textAlign:"center",lineHeight:"33px",margin:"5px 4px 0px"}},warningCardHeader:{color:I,"&:not($cardHeaderIcon)":Object(v.a)({},H)},successCardHeader:{color:I,"&:not($cardHeaderIcon)":Object(v.a)({},q)},dangerCardHeader:{color:I,"&:not($cardHeaderIcon)":Object(v.a)({},F)},infoCardHeader:{color:I,"&:not($cardHeaderIcon)":Object(v.a)({},L)},primaryCardHeader:{color:I,"&:not($cardHeaderIcon)":Object(v.a)({},U)},roseCardHeader:{color:I,"&:not($cardHeaderIcon)":Object(v.a)({},V)}},ln=Object(h.a)(nn);function on(e){var a,t=ln(),n=e.className,l=e.children,o=e.color,r=e.plain,c=e.stats,i=e.icon,s=Object(Y.a)(e,["className","children","color","plain","stats","icon"]),m=ae()((a={},Object(X.a)(a,t.cardHeader,!0),Object(X.a)(a,t[o+"CardHeader"],o),Object(X.a)(a,t.cardHeaderPlain,r),Object(X.a)(a,t.cardHeaderStats,c),Object(X.a)(a,t.cardHeaderIcon,i),Object(X.a)(a,n,void 0!==n),a));return u.a.createElement("div",Object.assign({className:m},s),l)}var rn={cardBody:{padding:"0.9375rem 20px",flex:"1 1 auto",WebkitBoxFlex:"1",position:"relative"},cardBodyPlain:{paddingLeft:"5px",paddingRight:"5px"},cardBodyProfile:{marginTop:"15px"}},cn=Object(h.a)(rn);function sn(e){var a,t=cn(),n=e.className,l=e.children,o=e.plain,r=e.profile,c=Object(Y.a)(e,["className","children","plain","profile"]),i=ae()((a={},Object(X.a)(a,t.cardBody,!0),Object(X.a)(a,t.cardBodyPlain,o),Object(X.a)(a,t.cardBodyProfile,r),Object(X.a)(a,n,void 0!==n),a));return u.a.createElement("div",Object.assign({className:i},c),l)}var un=Object(h.a)(Z);function mn(e){var a=un(),t=e.children;return u.a.createElement("div",{className:a.defaultFontStyle+" "+a.infoText},t)}var dn=t(537),pn=Object(h.a)(aa);function fn(e){var a=pn(),t=e.message,n=e.color,l=e.close,o=e.icon,r=e.place,c=e.open,i=e.rtlActive,s=[],m=ae()(Object(X.a)({},a.iconMessage,void 0!==o));return void 0!==l&&(s=[u.a.createElement(ce.a,{className:a.iconButton,key:"close","aria-label":"Close",color:"inherit",onClick:function(){return e.closeNotification()}},u.a.createElement(ea.a,{className:a.close}))]),u.a.createElement(dn.a,{anchorOrigin:{vertical:-1===r.indexOf("t")?"bottom":"top",horizontal:-1!==r.indexOf("l")?"left":-1!==r.indexOf("c")?"center":"right"},open:c,message:u.a.createElement("div",null,void 0!==o?u.a.createElement(e.icon,{className:a.icon}):null,u.a.createElement("span",{className:m},t)),action:s,ContentProps:{classes:{root:a.root+" "+a[n],message:a.message,action:ae()(Object(X.a)({},a.actionRTL,i))}}})}var bn=t(538),gn=t(539),En=t(540),hn=t(542),vn=t(541),xn=function(e){return{warningTableHeader:{color:w[0]},primaryTableHeader:{color:S[0]},dangerTableHeader:{color:O[0]},successTableHeader:{color:j[0]},infoTableHeader:{color:N[0]},roseTableHeader:{color:_[0]},grayTableHeader:{color:T[0]},table:{marginBottom:"0",width:"100%",maxWidth:"100%",backgroundColor:"transparent",borderSpacing:"0",borderCollapse:"collapse"},tableHeadCell:Object(v.a)({color:"inherit"},C,{"&, &$tableCell":{fontSize:"1em"}}),tableCell:Object(v.a)({},C,{lineHeight:"1.42857143",padding:"12px 8px",verticalAlign:"middle",fontSize:"0.8125rem"}),tableResponsive:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},tableHeadRow:{height:"56px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"},tableBodyRow:{height:"48px",color:"inherit",display:"table-row",outline:"none",verticalAlign:"middle"}}},yn=Object(h.a)(xn);function kn(e){var a=yn(),t=e.color,n=e.headers,l=e.rows;return u.a.createElement("div",{className:a.tableResponsive},u.a.createElement(bn.a,{className:a.table},u.a.createElement(gn.a,{className:a[t+"TableHeader"]},u.a.createElement(En.a,{className:a.tableHeadRow},n.map((function(e,t){return u.a.createElement(vn.a,{className:a.tableCell+" "+a.tableHeadCell,key:t},e)})))),u.a.createElement(hn.a,null,l.map((function(e,t){return u.a.createElement(En.a,{key:t,className:a.tableBodyRow},e.map((function(e,t){return u.a.createElement(vn.a,{className:a.tableCell,key:t},e)})))})))))}function Cn(e){var a,t,n,l=e.label,o=e.icon,r=e.href,c=e.placement,i=e.color,s=e.onClick;return a=c||"top",t=i||"inherit",n=s?u.a.createElement(ce.a,{onClick:s,color:t},u.a.createElement(o)):r?u.a.createElement(yt.a,{to:r},u.a.createElement(ce.a,{color:t},u.a.createElement(o))):u.a.createElement(ce.a,{color:t},u.a.createElement(o)),u.a.createElement(re.a,{title:l,placement:a},n)}kn.defaultProps={color:"gray"};var Sn={en:{title:"Remove Cell",content:"Are you sure to remove compute cell ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u79fb\u9664\u8d44\u6e90\u8282\u70b9",content:"\u662f\u5426\u79fb\u9664\u8d44\u6e90\u8282\u70b9 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},wn=function(e){var a=e.lang,t=e.pool,l=e.cell,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(""),f=Object(n.a)(p,2),b=f[0],g=f[1],E=Sn[a],h=E.title,v=E.content+l,x=function(e){d(!0),g(e)},y=function(e,a){d(!0),g(""),r(a)},k=[{color:"transparent",label:E.cancel,onClick:function(){g(""),c()}},{color:"info",label:E.confirm,onClick:function(){d(!1),function(e,a,t,n){Ka("/compute_pool_cells/"+e+"/"+a,(function(){t(e,a)}),(function(t){n('remove cell "'+a+'" from pool "'+e+'" fail: '+t)}))}(t,l,y,x)}}];return u.a.createElement(la,{size:"xs",open:o,prompt:b,title:h,buttons:k,content:v,operatable:m})},On={en:{title:"Add Compute Cell To Pool ",name:"Cell Name",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6dfb\u52a0\u8282\u70b9\u5230\u8d44\u6e90\u6c60 ",name:"\u8d44\u6e90\u8282\u70b9\u540d\u79f0",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},jn=function(e){var a={cell:""},t=e.lang,l=e.pool,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(a),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState([]),j=Object(n.a)(O,2),N=j[0],_=j[1],T=On[t],R=T.title,I=function(e){g(!0),y(e)},D=function(){y(""),w(a),d(!1)},A=function(e,a){g(!0),D(),r(a)};u.a.useEffect((function(){if(o&&!m){!function(e,a){Ga("/compute_pool_cells/",e,a)}((function(e){var a=[];if(e.forEach((function(e){var t={label:e.address?e.name+" ("+e.address+")":e.name,value:e.name};a.push(t)})),0===a.length)return I("no unallocated cells available"),void d(!0);_(a),d(!0)}),I)}}),[m,o]);var B,P,M=[{color:"transparent",label:T.cancel,onClick:function(){D(),c()}}];if(m){var W=[{type:"select",label:T.name,onChange:(P="cell",function(e){var a=e.target.value;w((function(e){return Object(v.a)({},e,Object(X.a)({},P,a))}))}),value:S.cell,options:N,required:!0,oneRow:!0,xs:8}];B=u.a.createElement(qe,{inputs:W}),M.push({color:"info",label:T.confirm,onClick:function(){g(!1);var e=S.cell;""!==e?function(e,a,t,n){Za("/compute_pool_cells/"+e+"/"+a,"",(function(){t(e,a)}),n)}(l,e,A,I):I("must select a cell")}})}else B=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:o,prompt:x,title:R,buttons:M,content:B,operatable:b})},Nn=t(151),_n=t.n(Nn),Tn=t(252),Rn=t.n(Tn),In={en:{name:"Name",address:"Address",alive:"Alive",status:"Status",enabled:"Enabled",disabled:"Disabled",online:"Online",offline:"Offline",title:"Current Cell Status",cancel:"Cancel",confirm:"Confirm",attached:"Attached",storage:"Backend Storage",localStorage:"Use local storage"},cn:{name:"\u540d\u79f0",address:"\u5730\u5740",alive:"\u6d3b\u52a8",status:"\u72b6\u6001",enabled:"\u5df2\u542f\u7528",disabled:"\u5df2\u7981\u7528",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",title:"\u5f53\u524d\u8282\u70b9\u72b6\u6001",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",attached:"\u5df2\u6302\u8f7d",storage:"\u540e\u7aef\u5b58\u50a8",localStorage:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8"}},Dn=function(e){var a,t,l,o,r,c,i=Object(h.a)(xn)(),s=Object(h.a)(Z)(),m=e.lang,d=e.pool,p=e.cell,f=e.open,b=e.onCancel,g=u.a.useState(!1),E=Object(n.a)(g,2),v=E[0],x=E[1],y=u.a.useState(""),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(null),O=Object(n.a)(w,2),j=O[0],N=O[1],_=In[m],T=function(e){S(e)};(u.a.useEffect((function(){if(d&&p&&f&&!v){Ga("/compute_pool_cells/"+d+"/"+p,(function(e){N(e),x(!0)}),T)}}),[v,f,d,p]),v)?(j.enabled?(t=_.enabled,l=u.a.createElement(Bt.a,{className:s.successText})):(t=_.disabled,l=u.a.createElement(Mt.a,{className:s.warningText})),j.alive?(o=_.online,r=u.a.createElement($t.a,{className:s.successText})):(o=_.offline,r=u.a.createElement(Jt.a,{className:s.warningText})),a=u.a.createElement("div",{className:i.tableResponsive},u.a.createElement(bn.a,{className:i.table},u.a.createElement(hn.a,null,u.a.createElement(En.a,{className:i.tableBodyRow},u.a.createElement(vn.a,{className:i.tableCell},_.name),u.a.createElement(vn.a,{className:i.tableCell},j.name)),u.a.createElement(En.a,{className:i.tableBodyRow},u.a.createElement(vn.a,{className:i.tableCell},_.address),u.a.createElement(vn.a,{className:i.tableCell},j.address?j.address:"")),u.a.createElement(En.a,{className:i.tableBodyRow},u.a.createElement(vn.a,{className:i.tableCell},_.status),u.a.createElement(vn.a,{className:i.tableCell},u.a.createElement(re.a,{title:t,placement:"top"},l))),u.a.createElement(En.a,{className:i.tableBodyRow},u.a.createElement(vn.a,{className:i.tableCell},_.alive),u.a.createElement(vn.a,{className:i.tableCell},u.a.createElement(re.a,{title:o,placement:"top"},r))),j.storage?j.storage.map((function(e){var a;return a=e.attached?u.a.createElement(re.a,{title:_.attached,placement:"top"},u.a.createElement(_n.a,{className:s.successText})):u.a.createElement(re.a,{title:e.error,placement:"top"},u.a.createElement(Rn.a,{className:s.warningText})),u.a.createElement(En.a,{className:i.tableBodyRow},u.a.createElement(vn.a,{className:i.tableCell},e.name),u.a.createElement(vn.a,{className:i.tableCell},a))})):u.a.createElement(En.a,{className:i.tableBodyRow},u.a.createElement(vn.a,{className:i.tableCell},_.storage),u.a.createElement(vn.a,{className:i.tableCell},_.localStorage)))))):a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return c=C&&""!==C?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:C,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:f,"aria-labelledby":_.title,maxWidth:"sm",fullWidth:!0},u.a.createElement(Ve.a,null,_.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},a),c)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){S(""),N(null),x(!1),b()},color:"transparent",autoFocus:!0},_.cancel)))},An={en:{title:"Migrate All Instance",sourcePool:"Source Pool",sourceCell:"Source Cell",targetCell:"Target Cell",offline:"Offline",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u8fc1\u79fb\u6240\u6709\u4e91\u4e3b\u673a\u5b9e\u4f8b",sourcePool:"\u6e90\u8d44\u6e90\u6c60",sourceCell:"\u6e90\u8282\u70b9",targetCell:"\u76ee\u6807\u8282\u70b9",offline:"\u79bb\u7ebf",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function Bn(e){var a={targetCell:""},t=e.lang,l=e.open,o=e.sourcePool,r=e.sourceCell,c=e.onSuccess,i=e.onCancel,s=u.a.useState(!1),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(!0),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(""),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(a),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useState({cells:[]}),I=Object(n.a)(R,2),D=I[0],A=I[1],B=An[t],P=B.title,M=u.a.useCallback((function(e){w&&(E(!0),k(e))}),[w]),W=function(){k(""),T(a),p(!1)},z=function(e,a){w&&(E(!0),W(),c(e,a))};u.a.useEffect((function(){if(l){O(!0);return xa(o,(function(e){if(w){var a=[];e.forEach((function(e){var t;e.name!==r&&(t=e.alive?e.name+"("+e.address+")":e.name+"("+B.offline+")",a.push({label:t,value:e.name,disabled:!e.alive}))})),0!==a.length?(A({cells:a}),p(!0)):M("no target cell available")}}),M),function(){O(!1)}}}),[w,l,o,r,M,B.offline]);var H,q,F=[{color:"transparent",label:B.cancel,onClick:function(){W(),i()}}];if(d){var L=[{type:"text",label:B.sourcePool,value:o,disabled:!0,oneRow:!0,xs:12,sm:8},{type:"text",label:B.sourceCell,value:r,disabled:!0,oneRow:!0,xs:12,sm:8},{type:"select",label:B.targetCell,onChange:(q="targetCell",function(e){if(w){var a=e.target.value;T((function(e){return Object(v.a)({},e,Object(X.a)({},q,a))}))}}),value:_.targetCell,options:D.cells,required:!0,oneRow:!0,xs:12,sm:10}];H=u.a.createElement(qe,{inputs:L}),F.push({color:"info",label:B.confirm,onClick:function(){E(!1);var e=_.targetCell;""!==e?function(e,a,t,n,l){Za("/migrations/",{source_pool:e,source_cell:a,target_cell:t},(function(){n(a,t)}),l)}(o,r,e,z,M):M("select a target cell")}})}else H=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:y,title:P,buttons:F,content:H,operatable:g})}var Pn={en:{title:"Change Storage Path",current:"Current Storage Path",location:"New Storage Location",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u5b58\u50a8\u8def\u5f84",current:"\u5f53\u524d\u5b58\u50a8\u8def\u5f84",location:"\u65b0\u5b58\u50a8\u8def\u5f84",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function Mn(e){var a={current:"",path:""},t=e.lang,l=e.open,o=e.pool,r=e.cell,c=e.onSuccess,i=e.onCancel,s=u.a.useState(!1),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(!0),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(""),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(a),N=Object(n.a)(j,2),_=N[0],T=N[1],R=Pn[t],I=R.title,D=u.a.useCallback((function(e){w&&(E(!0),k(e))}),[w]),A=function(){k(""),T(a),p(!1)},B=function(){w&&(E(!0),A(),c(_.path,r,o))};u.a.useEffect((function(){if(l&&o&&r){O(!0);return function(e,a,t,n){Ga("/compute_cell_status/"+e+"/"+a+"/storages/",t,n)}(o,r,(function(e){if(w)if(e.system)if(0!==e.system.length){var a=e.system[0];a?(T({current:a,path:""}),p(!0)):D("no system paths available")}else D("no system paths available");else D("no system paths available")}),D),function(){O(!1)}}}),[w,l,o,r,D]);var P,M,W=[{color:"transparent",label:R.cancel,onClick:function(){A(),i()}}];if(d){var z=[{type:"text",label:R.current,value:_.current,disabled:!0,oneRow:!0,xs:12,sm:8},{type:"text",label:R.location,onChange:(M="path",function(e){if(w){var a=e.target.value;T((function(e){return Object(v.a)({},e,Object(X.a)({},M,a))}))}}),value:_.path,required:!0,oneRow:!0,xs:12,sm:8}];P=u.a.createElement(qe,{inputs:z}),W.push({color:"info",label:R.confirm,onClick:function(){var e=_.path;""!==e?(k(""),E(!1),function(e,a,t,n,l){Ya("/compute_cell_status/"+e+"/"+a+"/storages/",{default:t},(function(){n(a,e)}),l)}(o,r,e,B,D)):D("input a new location")}})}else P=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:y,title:I,buttons:W,content:P,operatable:g})}var Wn=Object(v.a)({},Z,{cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),zn=Object(h.a)(Wn),Hn={en:{addButton:"Add Compute Cell",tableTitle:"Compute Cells",name:"Name",address:"Address",alive:"Alive",status:"Status",operates:"Operates",noResource:"No compute cell available",computePools:"Compute Pools",enable:"Enable",disable:"Disable",enabled:"Enabled",disabled:"Disabled",instances:"Instances",detail:"Detail",remove:"Remove",migrate:"Migrate",online:"Online",offline:"Offline",changeStorage:"Change Storage Path"},cn:{addButton:"\u6dfb\u52a0\u8d44\u6e90\u8282\u70b9",tableTitle:"\u8ba1\u7b97\u8d44\u6e90\u8282\u70b9",name:"\u540d\u79f0",address:"\u5730\u5740",alive:"\u6d3b\u52a8",status:"\u72b6\u6001",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u8ba1\u7b97\u8d44\u6e90\u8282\u70b9",computePools:"\u8ba1\u7b97\u8d44\u6e90\u6c60",enable:"\u542f\u7528",disable:"\u7981\u7528",enabled:"\u5df2\u542f\u7528",disabled:"\u5df2\u7981\u7528",instances:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",detail:"\u8be6\u60c5",remove:"\u79fb\u9664",migrate:"\u8fc1\u79fb",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",changeStorage:"\u4fee\u6539\u5b58\u50a8\u8def\u5f84"}};function qn(e){var a,t=zn(),l=e.lang,o=Hn[l],r=u.a.useState(!1),c=Object(n.a)(r,2),i=c[0],s=c[1],m=u.a.useState(null),d=Object(n.a)(m,2),p=d[0],f=d[1],b=Object(E.g)(),g=new URLSearchParams(b.search).get("pool"),h=u.a.useState(!1),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(!1),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useState(!1),I=Object(n.a)(R,2),D=I[0],A=I[1],B=u.a.useState(!1),P=Object(n.a)(B,2),M=P[0],W=P[1],z=u.a.useState(""),H=Object(n.a)(z,2),q=H[0],F=H[1],L=u.a.useState("warning"),U=Object(n.a)(L,2),V=U[0],G=U[1],$=u.a.useState(""),Z=Object(n.a)($,2),J=Z[0],Q=Z[1],Y=function(){Q("")},K=u.a.useCallback((function(e){if(i){G("warning"),Q(e),setTimeout(Y,3e3)}}),[G,Q,i]),X=u.a.useCallback((function(){if(i){xa(g,f,(function(e){i&&K(e)}))}}),[g,K,i]),ee=function(e){G("info"),Q(e),Ua(e),setTimeout(Y,3e3)},ae=function(){T(!1)},ne=function(){k(!1)},le=function(){A(!1)},oe=function(){W(!1)};if(u.a.useEffect((function(){s(!0),X();var e=setInterval((function(){i&&X()}),5e3);return function(){s(!1),clearInterval(e)}}),[X,i]),null===p)a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});else if(0===p.length)a=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,o.noResource));else{var ce=[];p.forEach((function(e){var a,n,l=[{label:o.instances,icon:zt.a,href:"/admin/instances/range/?pool="+g+"&cell="+e.name},{onClick:function(a){return t=e.name,O(!0),void F(t);var t},icon:Lt.a,label:o.detail},{onClick:function(a){return t=e.name,W(!0),void F(t);var t},icon:Yt.a,label:o.changeStorage},{onClick:function(a){return t=e.name,T(!0),void F(t);var t},icon:qt.a,label:o.remove},{onClick:function(a){return t=e.name,A(!0),void F(t);var t},icon:Vt.a,label:o.migrate}],r=e.name,c=e.address,s=e.enabled,m=e.alive;s?(a=u.a.createElement(re.a,{title:o.enabled,placement:"top"},u.a.createElement(Bt.a,{className:t.successText})),l=[{label:o.disable,icon:Mt.a,onClick:function(){ya(g,r,!1,(function(){i&&X()}),K)}}].concat(l)):(a=u.a.createElement(re.a,{title:o.disabled,placement:"top"},u.a.createElement(Mt.a,{className:t.warningText})),l=[{label:o.enable,icon:Bt.a,onClick:function(){ya(g,r,!0,(function(){i&&X()}),K)}}].concat(l));n=m?u.a.createElement(re.a,{title:o.online,placement:"top"},u.a.createElement($t.a,{className:t.successText})):u.a.createElement(re.a,{title:o.offline,placement:"top"},u.a.createElement(Jt.a,{className:t.warningText}));var d=l.map((function(e,a){return u.a.createElement(Cn,Object(v.a)({},e,{key:a}))})),p=[r,c,n,a,d];ce.push(p)})),a=u.a.createElement(kn,{color:"primary",headers:[o.name,o.address,o.alive,o.status,o.operates],rows:ce})}return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Dt.a,{separator:"\u203a","aria-label":"breadcrumb"},u.a.createElement(yt.a,{to:"/admin/compute_pools/"},o.computePools),u.a.createElement(ie.a,{color:"textPrimary"},g))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:3},u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){k(!0)}},u.a.createElement(It.a,null),o.addButton)))),u.a.createElement(Ye,{xs:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:t.cardTitleWhite},o.tableTitle)),u.a.createElement(sn,null,a))),u.a.createElement(fn,{place:"tr",color:V,message:J,open:""!==J,closeNotification:Y,close:!0}),u.a.createElement(jn,{lang:l,open:y,pool:g,onSuccess:function(e){ne(),ee("cell "+e+" added to "+g),X()},onCancel:ne}),u.a.createElement(Dn,{lang:l,open:w,pool:g,cell:q,onCancel:function(){O(!1)}}),u.a.createElement(wn,{lang:l,open:_,pool:g,cell:q,onSuccess:function(e){ae(),ee("cell "+e+" removed from "+g),X()},onCancel:ae}),u.a.createElement(Bn,{lang:l,open:D,sourcePool:g,sourceCell:q,onSuccess:function(){le(),X()},onCancel:le}),u.a.createElement(Mn,{lang:l,open:M,pool:g,cell:q,onSuccess:function(e,a){oe(),ee("storage path of  "+a+" changed to "+e)},onCancel:oe}))}var Fn=t(103),Ln=t.n(Fn),Un=t(76);function Vn(e){var a=e.series,t=[],n=[],l=[];a.forEach((function(e){t.push(e.label),n.push(e.value),l.push(e.color)}));var o={labels:t,datasets:[{data:n,backgroundColor:l,borderWidth:1,hoverBorderWidth:0}]};return u.a.createElement(Un.c,{data:o,options:{cutoutPercentage:5,legend:{display:!1},layout:{padding:{left:0,right:0,top:0,bottom:0}}}})}var Gn={successText:{color:j[0]},upArrowCardCategory:{width:"16px",height:"16px"},stats:{color:T[0],display:"inline-flex",fontSize:"12px",lineHeight:"22px","& svg":{top:"4px",width:"16px",height:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"},"& .fab,& .fas,& .far,& .fal,& .material-icons":{top:"4px",fontSize:"16px",position:"relative",marginRight:"3px",marginLeft:"3px"}},cardCategory:{color:T[0],margin:"0",fontSize:"14px",marginTop:"0",paddingTop:"10px",marginBottom:"0"},cardCategoryWhite:{color:"rgba("+x(I)+",.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},cardTitle:{color:T[2],marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:T[1],fontWeight:"400",lineHeight:"1"}},cardTitleWhite:{color:I,marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:T[1],fontWeight:"400",lineHeight:"1"}}};function $n(e){var a=e.title,t=e.series,n=e.displayValue,l=0,o=Object(v.a)({},Gn);t.forEach((function(e,a){l+=e.value;var t="series-"+a.toString();o[t]=Object(v.a)({},Gn.cardCategory,{color:e.color})})),o.topDivider={borderTop:"1px solid "+T[10]};var r,c=Object(h.a)(o)();return r=n?n(l):l.toString(),u.a.createElement(tn,{chart:!0},u.a.createElement(on,null,u.a.createElement(ie.a,{className:c.cardCategory},a+": "+r),u.a.createElement(Vn,{series:t})),u.a.createElement(sn,null,u.a.createElement(te.a,{m:0,p:2,className:c.topDivider},u.a.createElement(te.a,{display:"flex"},t.map((function(e,a){var t;return t=n?n(e.value):e.value.toString(),u.a.createElement(te.a,{m:1,key:e.label},u.a.createElement(ie.a,{component:"span",className:c["series-"+a.toString()]},e.label),u.a.createElement(ie.a,{component:"span"},": "+t))}))))))}function Zn(e){var a,t=e.series,n=e.minTickStep,l=e.displayValue,o=e.light,r=e.maxTicks,c=e.maxValue,i=r||10,s=o?R:I,m=t[0].data.length,d=new Array(m).fill(""),p=!!c;a=p?c:n;var f=[];t.forEach((function(e){p||e.data.forEach((function(e){a=Math.max(a,e)})),f.push({data:e.data,label:e.label,pointBackgroundColor:e.color,pointBorderColor:e.color,pointRadius:5,borderColor:s,borderWidth:4,lineTension:0})}));var b,g={labels:d,datasets:f};b=a<=i*n?n:Math.ceil(a/i/n)*n;var E={scales:{xAxes:[{gridLines:{drawBorder:!1,lineWidth:0,zeroLineColor:s,zeroLineWidth:2}}],yAxes:[{gridLines:{borderDash:[2,4],color:s,zeroLineColor:s,zeroLineWidth:2,drawBorder:!1},ticks:{stepSize:b,fontColor:s,suggestedMax:a,suggestedMin:0,callback:function(e){return l?l(e):e.toString()}}}]},legend:{display:!1}};return u.a.createElement(Un.b,{data:g,options:E})}function Jn(e){var a=e.title,t=e.color,n=e.series,l=e.displayValue,o=e.minTickStep,r=e.maxValue,c=Object(v.a)({},Gn,{topDivider:{borderTop:"1px solid "+T[10]}}),i=[];n.forEach((function(e){var a,t=e.data,n=e.label,o=t[t.length-1];a=l?l(o):o.toString(),i.push(n+": "+a)}));var s=Object(h.a)(c)();return u.a.createElement(tn,{chart:!0},u.a.createElement(on,{color:t},u.a.createElement(Zn,{series:n,minTickStep:o,displayValue:l,maxValue:r})),u.a.createElement(sn,null,u.a.createElement(ie.a,{variant:"h5",component:"div",className:s.cardTitle},a),u.a.createElement(te.a,{m:0,p:2,className:s.topDivider},u.a.createElement(ie.a,{component:"span",className:s.cardCategory},i.join(" / ")+" / "+r.toString()))))}function Qn(e){var a=e.series,t=e.minTickStep,n=e.displayValue,l=e.light,o=e.maxTicks,r=o||10,c=l?R:I,i=a[0].data.length,s=new Array(i).fill(""),m=t,d=[];a.forEach((function(e){d.push({data:e.data,label:e.label,backgroundColor:e.color,barPercentage:.6,borderColor:c,borderWidth:1,stack:"default"})}));for(var p=0;p<i;p++){for(var f=0,b=0;b<a.length;b++)f+=a[b].data[p];m=Math.max(m,f)}var g,E={labels:s,datasets:d};g=m<=r*t?t:Math.ceil(m/r/t)*t;var h={scales:{xAxes:[{display:!1}],yAxes:[{stacked:!0,gridLines:{borderDash:[2,4],color:c,zeroLineColor:c,zeroLineWidth:2},ticks:{stepSize:g,fontColor:c,suggestedMax:m,suggestedMin:0,callback:function(e){return n?n(e):e.toString()}}}]},legend:{display:!1}};return u.a.createElement(Un.a,{data:E,options:h})}function Yn(e){var a=e.title,t=e.color,n=e.series,l=e.displayValue,o=e.minTickStep,r=Object(v.a)({},Gn,{topDivider:{borderTop:"1px solid "+T[10]}}),c=[];n.forEach((function(e){var a,t=e.data,n=e.label,o=t[t.length-1];a=l?l(o):o.toString(),c.push(n+": "+a)}));var i=Object(h.a)(r)();return u.a.createElement(tn,{chart:!0},u.a.createElement(on,{color:t},u.a.createElement(Qn,{series:n,minTickStep:o,displayValue:l})),u.a.createElement(sn,null,u.a.createElement(ie.a,{variant:"h5",component:"div",className:i.cardTitle},a),u.a.createElement(te.a,{m:0,p:2,className:i.topDivider},u.a.createElement(ie.a,{component:"span",className:i.cardCategory},c.join(" / ")))))}function Kn(e){var a=e.series,t=e.minTickStep,n=e.displayValue,l=e.light,o=e.maxTicks,r=o||10,c=l?R:I,i=a[0].data.length,s=new Array(i).fill(""),m=t,d=[];a.forEach((function(e){e.data.forEach((function(e){m=Math.max(m,e)})),d.push({data:e.data,label:e.label,backgroundColor:e.color,barPercentage:.6,borderColor:c,borderWidth:1})}));var p,f={labels:s,datasets:d};p=m<=r*t?t:Math.ceil(m/r/t)*t;var b={scales:{xAxes:[{display:!1}],yAxes:[{gridLines:{borderDash:[2,4],color:c,zeroLineColor:c,zeroLineWidth:2},ticks:{stepSize:p,fontColor:c,suggestedMax:m,suggestedMin:0,callback:function(e){return n?n(e):e.toString()}}}]},legend:{display:!1}};return u.a.createElement(Un.a,{data:f,options:b})}function Xn(e){var a=e.title,t=e.color,n=e.series,l=e.displayValue,o=e.minTickStep,r=Object(v.a)({},Gn,{topDivider:{borderTop:"1px solid "+T[10]}}),c=[];n.forEach((function(e){var a,t=e.data,n=e.label,o=t[t.length-1];a=l?l(o):o.toString(),c.push(n+": "+a)}));var i=Object(h.a)(r)();return u.a.createElement(tn,{chart:!0},u.a.createElement(on,{color:t},u.a.createElement(Kn,{series:n,minTickStep:o,displayValue:l})),u.a.createElement(sn,null,u.a.createElement(ie.a,{variant:"h5",component:"div",className:i.cardTitle},a),u.a.createElement(te.a,{m:0,p:2,className:i.topDivider},u.a.createElement(ie.a,{component:"span",className:i.cardCategory},c.join(" / ")))))}var el={en:{allButton:"Show All Compute Pools",pools:"Compute Pools Summary",cells:"Compute Cells Summary",instances:"Instances Summary",disks:"Storage Space Summary",coreUsage:"Core Usage",memoryUsage:"Memory Usage",ioUsage:"IO Usage",enabled:"Enabled",disabled:"Disabled",online:"Online",offline:"Offline",stopped:"Stopped",running:"Running",lost:"Lost",migrate:"Migrating",used:"Used",available:"Available",coresUsed:"Cores Used",network:"Network Usage",diskIO:"Disk IO",receive:"Receive",send:"Send",write:"Write",read:"Read"},cn:{allButton:"\u67e5\u770b\u6240\u6709\u8d44\u6e90\u6c60",pools:"\u8ba1\u7b97\u8d44\u6e90\u6c60\u603b\u6570",cells:"\u8d44\u6e90\u8282\u70b9\u603b\u6570",instances:"\u4e91\u4e3b\u673a\u603b\u6570",disks:"\u603b\u78c1\u76d8\u7a7a\u95f4",coreUsage:"CPU\u7528\u91cf",memoryUsage:"\u5185\u5b58\u7528\u91cf",ioUsage:"IO\u541e\u5410\u91cf",enabled:"\u542f\u7528",disabled:"\u7981\u7528",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",stopped:"\u505c\u6b62",running:"\u8fd0\u884c",lost:"\u5931\u8054",migrate:"\u8fc1\u79fb\u4e2d",used:"\u5df2\u7528",available:"\u53ef\u7528",coresUsed:"\u6838\u5fc3\u5df2\u5360\u7528",network:"\u7f51\u7edc\u6d41\u91cf",diskIO:"\u78c1\u76d8IO",receive:"\u63a5\u6536",send:"\u53d1\u9001",write:"\u5199\u78c1\u76d8",read:"\u8bfb\u78c1\u76d8"}},al=N[0],tl=j[0],nl=w[0],ll=S[0],ol=T[2];function rl(e){var a,t=u.a.useState(null),l=Object(n.a)(t,2),o=l[0],r=l[1],c=e.lang,i=el[c];if(u.a.useEffect((function(){var e=!0,a=new Array(6).fill({current:0,max:0}),t=new Array(10).fill({available:0,used:0}),n=new Array(10).fill({receive:0,send:0}),l=new Array(10).fill({write:0,read:0}),o=function(){var e;Ga("/compute_zone_status/",(function(e){a.shift(),a.push({current:fa(e.cpu_usage,2),max:e.max_cpu}),t.shift(),t.push({available:fa(e.available_memory/(1<<20),2),used:fa((e.max_memory-e.available_memory)/(1<<20),2)}),n.shift(),n.push({receive:e.receive_speed,send:e.send_speed}),l.shift(),l.push({write:e.write_speed,read:e.read_speed}),r(Object(v.a)({},e,{coreRecords:a,memoryRecords:t,networkRecords:n,diskRecords:l}))}),e)};o();var c=setInterval((function(){e&&o()}),2e3);return function(){e=!1,clearInterval(c)}}),[]),null===sa())return ma();if(o){var s=new Date(o.start_time.replace(" ","T")),m=new Date,d=Math.floor((m.getTime()-s.getTime())/1e3),p=Math.floor(d/86400);d-=24*p*3600;var f=Math.floor(d/3600);d-=3600*f;var b,g=Math.floor(d/60);d-=60*g,b="cn"===c?"\u7cfb\u7edf\u542f\u52a8\u65f6\u95f4 "+o.start_time+", \u5df2\u8fd0\u884c "+p+" \u5929 "+f+" \u5c0f\u65f6 "+g+" \u5206 "+d+" \u79d2":"System start at "+o.start_time+", Uptime: "+p+" day, "+f+" hour, "+g+" min, "+d+" secs";var E=u.a.createElement(Ye,{xs:12,key:"uptime"},u.a.createElement(te.a,{align:"center"},u.a.createElement(ie.a,{component:"span"},b))),h=Object(n.a)(o.pools,2),x=h[0],y=h[1],k=[{value:x,label:i.disabled,color:ol},{value:y,label:i.enabled,color:al}],C=u.a.createElement(Ye,{xs:12,sm:4,md:3,key:"pool"},u.a.createElement($n,{title:i.pools,series:k})),w=Object(n.a)(o.cells,2),O=w[0],_=w[1],R=[{value:O,label:i.offline,color:ol},{value:_,label:i.online,color:tl}],D=u.a.createElement(Ye,{xs:12,sm:4,md:3,key:"cell"},u.a.createElement($n,{title:i.cells,series:R})),A=Object(n.a)(o.instances,4),B=A[0],P=A[1],M=A[2],W=A[3],z=[{value:B,label:i.stopped,color:ol},{value:P,label:i.running,color:al},{value:M,label:i.lost,color:nl},{value:W,label:i.migrate,color:ll}],H=u.a.createElement(Ye,{xs:12,sm:4,md:3,key:"instance"},u.a.createElement($n,{title:i.instances,series:z})),q=fa(o.available_disk/(1<<30),2),F=fa((o.max_disk-o.available_disk)/(1<<30),2),L=[{value:q,label:i.available,color:al},{value:F,label:i.used,color:ll}],U=u.a.createElement(Ye,{xs:12,sm:4,md:3,key:"disks"},u.a.createElement($n,{title:i.disks,series:L,displayValue:function(e){return Number.isInteger(e)?e.toString()+" GB":e.toFixed(2)+" GB"}})),V={label:i.coresUsed,color:I,data:[]},G=0;o.coreRecords.forEach((function(e){V.data.push(e.current),G=Math.max(G,e.max)}));var $=u.a.createElement(Ye,{xs:12,sm:6,md:4,key:"cores-usage"},u.a.createElement(Jn,{title:i.coreUsage,series:[V],color:"success",minTickStep:1,maxValue:G})),Z={label:i.used,color:T[4],data:[]},J={label:i.available,color:j[1],data:[]};o.memoryRecords.forEach((function(e){Z.data.push(e.used),J.data.push(e.available)}));var Q=u.a.createElement(Ye,{xs:12,sm:6,md:4,key:"memory-usage"},u.a.createElement(Yn,{title:i.memoryUsage,series:[Z,J],color:"info",minTickStep:1024,displayValue:function(e){return 0===e?"0":e>=1024?0===e%1024?(e/1024).toString()+" GB":(e/1024).toFixed(2)+" GB":e.toString()+" MB"}})),Y={label:i.receive,color:N[3],data:[]},K={label:i.send,color:S[1],data:[]};o.networkRecords.forEach((function(e){Y.data.push(e.receive),K.data.push(e.send)}));var X=[Y,K],ee=u.a.createElement(Ye,{xs:12,sm:6,md:4,key:"network-usage"},u.a.createElement(Xn,{title:i.network,series:X,displayValue:pa,minTickStep:1<<20,color:"warning"})),ae={label:i.write,color:j[1],data:[]},ne={label:i.read,color:N[3],data:[]};o.diskRecords.forEach((function(e){ae.data.push(e.write),ne.data.push(e.read)}));var le=[ae,ne];a=[E,C,D,H,U,$,Q,ee,u.a.createElement(Ye,{xs:12,sm:6,md:4,key:"io-usage"},u.a.createElement(Xn,{title:i.diskIO,series:le,displayValue:pa,minTickStep:1<<20,color:"rose"}))]}else a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:6,sm:4,md:3},u.a.createElement(yt.a,{to:"/admin/dashboard/pools/"},u.a.createElement(Ee,{size:"sm",color:"info",round:!0},u.a.createElement(Ln.a,null),i.allButton))))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),a)}function cl(e){var a=e.title,t=e.series,n=e.valueName,l=e.colorName,o=e.labelName,r=e.displayValue,c=e.baseClass,i={};i.title=c?Object(v.a)({},c):{},t.forEach((function(e,a){var t="series-"+a.toString();i[t]=c?Object(v.a)({},c,{color:e[l]}):{color:e[l]}}));var s=Object(h.a)(i)();return u.a.createElement(te.a,{display:"flex"},u.a.createElement(te.a,{m:1},u.a.createElement(ie.a,{component:"span",className:s.title},a)),t.map((function(e,a){var t,l=e[n],c=e[o],i="series-"+a.toString();return t=r?r(l):l.toString(),u.a.createElement(te.a,{m:1,key:c},u.a.createElement(ie.a,{component:"span",className:s[i]},c),u.a.createElement(ie.a,{component:"span"},": "+t))})))}var il={en:{viewButton:"View Cell Status",zone:"Zone Status",title:"Compute Pool",pools:"All Compute Pools",cells:"Compute Cells",instances:"Instances",disks:"Storage(GB)",memory:"Memory",ioUsage:"IO Usage",enabled:"Enabled",disabled:"Disabled",online:"Online ",offline:"Offline ",stopped:"Stopped ",running:"Running ",lost:"Lost ",migrate:"Migrating ",used:"Used ",available:"Available ",coresUsed:"Cores Used",throughput:"Throughput",receive:"Receive ",send:"Send ",write:"Write ",read:"Read "},cn:{viewButton:"\u67e5\u770b\u8282\u70b9\u72b6\u6001",zone:"\u5168\u57df\u72b6\u6001",title:"\u8ba1\u7b97\u8d44\u6e90\u6c60",pools:"\u6240\u6709\u8ba1\u7b97\u8d44\u6e90\u6c60",cells:"\u8d44\u6e90\u8282\u70b9",instances:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",disks:"\u78c1\u76d8\u7a7a\u95f4(GB)",memory:"\u5185\u5b58",ioUsage:"IO\u541e\u5410\u91cf",enabled:"\u542f\u7528",disabled:"\u7981\u7528",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",stopped:"\u505c\u6b62",running:"\u8fd0\u884c",lost:"\u5931\u8054",migrate:"\u8fc1\u79fb\u4e2d",used:"\u5df2\u7528",available:"\u53ef\u7528",coresUsed:"\u6838\u5fc3\u5df2\u5360\u7528",throughput:"\u541e\u5410\u91cf",receive:"\u63a5\u6536",send:"\u53d1\u9001",write:"\u5199\u5165",read:"\u8bfb\u53d6"}},sl=N[0],ul=j[0],ml=w[0],dl=S[0],pl=T[2],fl={borderRadius:"3px",marginTop:"-20px",padding:"15px"},bl=Object(v.a)({},Z,{},Gn,{cardWithDivider:{borderTop:"1px solid "+T[10]},coresChart:Object(v.a)({},fl,{background:j[0]}),memoryChart:Object(v.a)({},fl,{background:N[0]}),networkChart:Object(v.a)({},fl,{background:w[0]}),diskChart:Object(v.a)({},fl,{background:_[0]})}),gl=Object(h.a)(bl),El=function(e){var a=e.lang,t=e.status,l=e.poolName,o=gl(),r=il[a],c=r.title+": "+l,i=Object(n.a)(t.cells,2),s=i[0],m=i[1],d=[{value:s,label:r.offline,color:pl},{value:m,label:r.online,color:ul}],p=u.a.createElement(cl,{key:"cells-labels",title:r.cells,series:d,valueName:"value",colorName:"color",labelName:"label",baseClass:Gn.cardCategory}),f=Object(n.a)(t.instances,4),b=f[0],g=f[1],E=f[2],h=f[3],v=[{value:b,label:r.stopped,color:pl},{value:g,label:r.running,color:sl},{value:E,label:r.lost,color:ml},{value:h,label:r.migrate,color:dl}],x=u.a.createElement(cl,{key:"instances-labels",title:r.instances,series:v,valueName:"value",colorName:"color",labelName:"label",baseClass:Gn.cardCategory}),y=fa(t.available_disk/(1<<30),2),k=fa((t.max_disk-t.available_disk)/(1<<30),2),C=[{value:y,label:r.available,color:sl},{value:k,label:r.used,color:dl}],w=u.a.createElement(cl,{key:"storage-labels",title:r.disks,series:C,valueName:"value",colorName:"color",labelName:"label",baseClass:Gn.cardCategory}),O={label:r.coresUsed,color:I,data:[]},_=0;t.coreRecords.forEach((function(e){O.data.push(e.current),_=Math.max(_,e.max)}));var R=u.a.createElement(Ye,{xs:12,sm:6,md:3,key:"cores-usage"},u.a.createElement(te.a,{m:0,p:0,className:o.coresChart,boxShadow:2},u.a.createElement(Zn,{series:[O],minTickStep:1,maxValue:_}))),D={label:r.used+r.memory,color:T[4],data:[]},A={label:r.available+r.memory,color:j[1],data:[]};t.memoryRecords.forEach((function(e){D.data.push(e.used),A.data.push(e.available)}));var B=u.a.createElement(Ye,{xs:12,sm:6,md:3,key:"memory-usage"},u.a.createElement(te.a,{m:0,p:0,className:o.memoryChart,boxShadow:2},u.a.createElement(Qn,{series:[D,A],minTickStep:1024,displayValue:function(e){return 0===e?"0":e>=1024?0===e%1024?(e/1024).toString()+" GB":(e/1024).toFixed(2)+" GB":e.toString()+" MB"}}))),P={label:r.receive+r.throughput,color:N[3],data:[]},M={label:r.send+r.throughput,color:S[1],data:[]};t.networkRecords.forEach((function(e){P.data.push(fa(e.receive/(1<<20),2)),M.data.push(fa(e.send/(1<<20),2))}));var W=function(e){return e>=1024?0===e%1024?(e/1024).toString()+" GB/s":(e/1024).toFixed(2)+" GB/s":Number.isInteger(e)?e.toString()+" MB/s":e.toFixed(2)+" MB/s"},z=[P,M],H=u.a.createElement(Ye,{xs:12,sm:6,md:3,key:"network-usage"},u.a.createElement(te.a,{m:0,p:0,className:o.networkChart,boxShadow:2},u.a.createElement(Kn,{series:z,displayValue:W,minTickStep:1}))),q={label:r.write+r.throughput,color:j[1],data:[]},F={label:r.read+r.throughput,color:N[3],data:[]};t.diskRecords.forEach((function(e){q.data.push(fa(e.write/(1<<20),2)),F.data.push(fa(e.read/(1<<20),2))}));var L=[q,F],U=[R,B,H,u.a.createElement(Ye,{xs:12,sm:6,md:3,key:"io-usage"},u.a.createElement(te.a,{m:0,p:0,className:o.diskChart,boxShadow:2},u.a.createElement(Kn,{series:L,displayValue:W,minTickStep:1})))],V=[p,x,w];return u.a.createElement(tn,{chart:!0},u.a.createElement(on,null,u.a.createElement(Xt,null,U)),u.a.createElement(sn,null,u.a.createElement(ie.a,{component:"span",className:o.cardTitle},c),V,u.a.createElement(te.a,{m:0,p:2,className:o.cardWithDivider},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:6,sm:4,md:3},u.a.createElement(yt.a,{to:"/admin/dashboard/pools/"+l},u.a.createElement(Ee,{size:"sm",color:"info",round:!0},u.a.createElement(Ln.a,null),r.viewButton)))))))};function hl(e){var a,t=u.a.useState(null),l=Object(n.a)(t,2),o=l[0],r=l[1],c=il[e.lang];if(u.a.useEffect((function(){var e=!0,a=new Map,t=function(){var e;Ga("/compute_pool_status/",(function(e){e.forEach((function(e){var t,n,l,o,r=e.name;if(a.has(r)){var c=a.get(r);(t=c.coreRecords).shift(),(n=c.memoryRecords).shift(),(l=c.networkRecords).shift(),(o=c.diskRecords).shift()}else t=new Array(4).fill({current:0,max:0}),n=new Array(4).fill({available:0,used:0}),l=new Array(4).fill({receive:0,send:0}),o=new Array(4).fill({write:0,read:0});t.push({current:fa(e.cpu_usage,2),max:e.max_cpu}),n.push({available:fa(e.available_memory/(1<<20),2),used:fa((e.max_memory-e.available_memory)/(1<<20),2)}),l.push({receive:e.receive_speed,send:e.send_speed}),o.push({write:e.write_speed,read:e.read_speed});var i=Object(v.a)({},e,{coreRecords:t,memoryRecords:n,networkRecords:l,diskRecords:o});a.set(r,i)}));var t=new Map;a.forEach((function(e,a){t.set(a,e)})),r(t)}),e)};t();var n=setInterval((function(){e&&t()}),2e3);return function(){e=!1,clearInterval(n)}}),[]),null===sa())return ma();if(o){var i=[];o.forEach((function(e,a){i.push(a)})),i.sort(),a=[],i.forEach((function(t){var n=o.get(t);a.push(u.a.createElement(Ye,{xs:12,key:t},u.a.createElement(El,{status:n,lang:e.lang,poolName:t})))}))}else a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});var s=[u.a.createElement(yt.a,{to:"/admin/dashboard/",key:c.zone},c.zone),u.a.createElement(ie.a,{color:"textPrimary",key:c.pools},c.pools)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Dt.a,{separator:"\u203a","aria-label":"breadcrumb"},s)),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),a)}var vl=t(255),xl=t.n(vl),yl=t(254),kl=t.n(yl),Cl={en:{viewButton:"View Instances",zone:"Zone Status",title:"Compute Cell",pools:"All Compute Pools",cells:"Compute Cells",instances:"Instances",disks:"Storage(GB)",memory:"Memory",ioUsage:"IO Usage",enabled:"Enabled",disabled:"Disabled",online:"Online",offline:"Offline",stopped:"Stopped ",running:"Running ",lost:"Lost ",migrate:"Migrating ",used:"Used ",available:"Available ",coresUsed:"Cores Used",throughput:"Throughput",receive:"Receive ",send:"Send ",write:"Write ",read:"Read "},cn:{viewButton:"\u67e5\u770b\u627f\u8f7d\u4e91\u4e3b\u673a",zone:"\u5168\u57df\u72b6\u6001",title:"\u8ba1\u7b97\u8d44\u6e90\u8282\u70b9",pools:"\u6240\u6709\u8ba1\u7b97\u8d44\u6e90\u6c60",cells:"\u8d44\u6e90\u8282\u70b9",instances:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",disks:"\u78c1\u76d8\u7a7a\u95f4(GB)",memory:"\u5185\u5b58",ioUsage:"IO\u541e\u5410\u91cf",enabled:"\u542f\u7528",disabled:"\u7981\u7528",online:"\u5728\u7ebf",offline:"\u79bb\u7ebf",stopped:"\u505c\u6b62",running:"\u8fd0\u884c",lost:"\u5931\u8054",migrate:"\u8fc1\u79fb\u4e2d",used:"\u5df2\u7528",available:"\u53ef\u7528",coresUsed:"\u6838\u5fc3\u5df2\u5360\u7528",throughput:"\u541e\u5410\u91cf",receive:"\u63a5\u6536",send:"\u53d1\u9001",write:"\u5199\u5165",read:"\u8bfb\u53d6"}},Sl=N[0],wl=w[0],Ol=S[0],jl=T[2],Nl={borderRadius:"3px",marginTop:"-20px",padding:"15px"},_l=Object(v.a)({},Gn,{},Z,{cardWithDivider:{borderTop:"1px solid "+T[10]},coresChart:Object(v.a)({},Nl,{background:j[0]}),memoryChart:Object(v.a)({},Nl,{background:N[0]}),networkChart:Object(v.a)({},Nl,{background:w[0]}),diskChart:Object(v.a)({},Nl,{background:_[0]}),disableChart:Object(v.a)({},Nl,{background:T[5]})}),Tl=Object(h.a)(_l),Rl=function(e){var a,t,l,o,r=e.lang,c=e.status,i=e.cellName,s=e.poolName,m=Tl(),d=Cl[r];if(a=c.alive?c.enabled?u.a.createElement(ie.a,{component:"span",className:m.cardTitle},u.a.createElement(xl.a,{className:m.successText}),d.title+": "+i+" ( "+d.online+" )"):u.a.createElement(ie.a,{component:"span",className:m.cardTitle},u.a.createElement(Mt.a,{className:m.mutedText}),d.title+": "+i+" ( "+d.disabled+" )"):u.a.createElement(ie.a,{component:"span",className:m.cardTitle},u.a.createElement(kl.a,{className:m.mutedText}),d.title+": "+i+" ( "+d.offline+" )"),c.alive){o=[u.a.createElement(Ye,{xs:6,sm:4,md:3,key:"view"},u.a.createElement(yt.a,{to:"/admin/instances/?pool="+s+"&cell="+i},u.a.createElement(Ee,{size:"sm",color:"info",round:!0},u.a.createElement(Ln.a,null),d.viewButton)))];var p=Object(n.a)(c.instances,4),f=p[0],b=p[1],g=p[2],E=p[3],h=[{value:f,label:d.stopped,color:jl},{value:b,label:d.running,color:Sl},{value:g,label:d.lost,color:wl},{value:E,label:d.migrate,color:Ol}],v=u.a.createElement(cl,{key:"instances-labels",title:d.instances,series:h,valueName:"value",colorName:"color",labelName:"label",baseClass:Gn.cardCategory}),x=fa(c.available_disk/(1<<30),2),y=fa((c.max_disk-c.available_disk)/(1<<30),2),k=[{value:x,label:d.available,color:Sl},{value:y,label:d.used,color:Ol}],C=u.a.createElement(cl,{key:"storage-labels",title:d.disks,series:k,valueName:"value",colorName:"color",labelName:"label",baseClass:Gn.cardCategory}),w={label:d.coresUsed,color:I,data:[]},O=0;c.coreRecords.forEach((function(e){w.data.push(e.current),O=Math.max(O,e.max)}));var _=u.a.createElement(Ye,{xs:12,sm:6,md:3,key:"cores-usage"},u.a.createElement(te.a,{m:0,p:0,className:m.coresChart,boxShadow:2},u.a.createElement(Zn,{series:[w],minTickStep:1,maxValue:O}))),R={label:d.used+d.memory,color:T[4],data:[]},D={label:d.available+d.memory,color:j[1],data:[]};c.memoryRecords.forEach((function(e){R.data.push(e.used),D.data.push(e.available)}));var A=u.a.createElement(Ye,{xs:12,sm:6,md:3,key:"memory-usage"},u.a.createElement(te.a,{m:0,p:0,className:m.memoryChart,boxShadow:2},u.a.createElement(Qn,{series:[R,D],minTickStep:1024,displayValue:function(e){return 0===e?"0":e>=1024?0===e%1024?(e/1024).toString()+" GB":(e/1024).toFixed(2)+" GB":e.toString()+" MB"}}))),B={label:d.receive+d.throughput,color:N[3],data:[]},P={label:d.send+d.throughput,color:S[1],data:[]};c.networkRecords.forEach((function(e){B.data.push(fa(e.receive/(1<<20),2)),P.data.push(fa(e.send/(1<<20),2))}));var M=function(e){return e>=1024?0===e%1024?(e/1024).toString()+" GB/s":(e/1024).toFixed(2)+" GB/s":Number.isInteger(e)?e.toString()+" MB/s":e.toFixed(2)+" MB/s"},W=[B,P],z=u.a.createElement(Ye,{xs:12,sm:6,md:3,key:"network-usage"},u.a.createElement(te.a,{m:0,p:0,className:m.networkChart,boxShadow:2},u.a.createElement(Kn,{series:W,displayValue:M,minTickStep:1}))),H={label:d.write+d.throughput,color:j[1],data:[]},q={label:d.read+d.throughput,color:N[3],data:[]};c.diskRecords.forEach((function(e){H.data.push(fa(e.write/(1<<20),2)),q.data.push(fa(e.read/(1<<20),2))}));var F=[H,q];t=[_,A,z,u.a.createElement(Ye,{xs:12,sm:6,md:3,key:"io-usage"},u.a.createElement(te.a,{m:0,p:0,className:m.diskChart,boxShadow:2},u.a.createElement(Kn,{series:F,displayValue:M,minTickStep:1})))],l=[v,C]}else t=["core-usage","memory-usage","disk-io","network-io"].map((function(e){return u.a.createElement(Ye,{xs:12,sm:6,md:3,key:e},u.a.createElement(te.a,{m:0,p:0,className:m.disableChart,boxShadow:2}))})),l=[],o=[];return u.a.createElement(tn,{chart:!0},u.a.createElement(on,null,u.a.createElement(Xt,null,t)),u.a.createElement(sn,null,a,l,u.a.createElement(te.a,{m:0,p:2,className:m.cardWithDivider},u.a.createElement(Xt,null,o))))};function Il(e){var a,t=e.match.params.pool,l=u.a.useState(null),o=Object(n.a)(l,2),r=o[0],c=o[1],i=Cl[e.lang];if(u.a.useEffect((function(){var e=!0,a=new Map,n=function(){!function(e,a,t){Ga("/compute_cell_status/"+e,a,t)}(t,(function(e){e.forEach((function(e){var t,n,l,o,r=e.name;if(a.has(r)){var c=a.get(r);(t=c.coreRecords).shift(),(n=c.memoryRecords).shift(),(l=c.networkRecords).shift(),(o=c.diskRecords).shift()}else t=new Array(4).fill({current:0,max:0}),n=new Array(4).fill({available:0,used:0}),l=new Array(4).fill({receive:0,send:0}),o=new Array(4).fill({write:0,read:0});t.push({current:fa(e.cpu_usage,2),max:e.max_cpu}),n.push({available:fa(e.available_memory/(1<<20),2),used:fa((e.max_memory-e.available_memory)/(1<<20),2)}),l.push({receive:e.receive_speed,send:e.send_speed}),o.push({write:e.write_speed,read:e.read_speed});var i=Object(v.a)({},e,{coreRecords:t,memoryRecords:n,networkRecords:l,diskRecords:o});a.set(r,i)}));var t=new Map;a.forEach((function(e,a){t.set(a,e)})),c(t)}))};n();var l=setInterval((function(){e&&n()}),2e3);return function(){e=!1,clearInterval(l)}}),[t]),null===sa())return ma();if(r){var s=[];r.forEach((function(e,a){s.push(a)})),s.sort(),a=[],s.forEach((function(n){var l=r.get(n);a.push(u.a.createElement(Ye,{xs:12,key:n},u.a.createElement(Rl,{status:l,lang:e.lang,cellName:n,poolName:t})))}))}else a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});var m=[u.a.createElement(yt.a,{to:"/admin/dashboard/",key:i.zone},i.zone),u.a.createElement(yt.a,{to:"/admin/dashboard/pools/",key:i.pools},i.pools),u.a.createElement(ie.a,{color:"textPrimary",key:t},t)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Dt.a,{separator:"\u203a","aria-label":"breadcrumb"},m)),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),a)}var Dl=t(256),Al=t.n(Dl),Bl={en:{title:"Delete Pool",content:"Are you sure to delete compute pool ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u8d44\u6e90\u6c60",content:"\u662f\u5426\u5220\u9664\u8ba1\u7b97\u8d44\u6e90\u6c60 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},Pl=function(e){var a=e.lang,t=e.pool,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=Bl[a],E=g.title,h=g.content+t,v=function(e){m(!0),b(e)},x=function(e){m(!0),b(""),o(e)},y=[{color:"transparent",label:g.cancel,onClick:function(){b(""),r()}},{color:"info",label:g.confirm,onClick:function(){m(!1),function(e,a,t){Ka("/compute_pools/"+e,(function(){a(e)}),(function(a){t('delete compute pool "'+e+'" fail: '+a)}))}(t,x,v)}}];return u.a.createElement(la,{size:"xs",open:l,prompt:f,title:E,buttons:y,content:h,operatable:s})},Ml={en:{title:"Create Pool",localStorage:"Use local storage",noAddressPool:"Don't use address pool",name:"Pool Name",storage:"Backend Storage",network:"Address Pool",failover:"Failover",off:"Off",on:"On",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u8d44\u6e90\u6c60",localStorage:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8",noAddressPool:"\u4e0d\u4f7f\u7528\u5730\u5740\u6c60",name:"\u8d44\u6e90\u6c60\u540d\u79f0",storage:"\u540e\u7aef\u5b58\u50a8",network:"\u5730\u5740\u6c60",failover:"\u6545\u969c\u5207\u6362",off:"\u5173\u95ed",on:"\u5f00\u542f",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},Wl=function(e){var a={name:"",storage:"__default",network:"__default",failover:!1},t=e.lang,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(!1),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState(a),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState({storage:[],network:[]}),O=Object(n.a)(w,2),j=O[0],N=O[1],_=Ml[t],T=_.title,R=function(e){m(!0),b(e)},I=function(){b(""),S(a)},D=function(e){m(!0),I(),o(e)},A=function(e){return function(a){var t=a.target.value;S((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};u.a.useEffect((function(){if(l&&!h){var e=[{label:_.localStorage,value:"__default"}],a=[{label:_.noAddressPool,value:"__default"}],t=function(t){t.forEach((function(e){var t={label:e.name+" ("+e.allocated+"/"+e.addresses+" allocated via gateway "+e.gateway+")",value:e.name};a.push(t)})),N({storage:e,network:a}),x(!0)};ka((function(a){a.forEach((function(a){var t={label:a.name+" ("+a.type+":"+a.host+")",value:a.name};e.push(t)})),Ca(t,R)}),R)}}),[h,l,_.localStorage,_.noAddressPool]);var B,P,M=[{color:"transparent",label:_.cancel,onClick:function(){I(),r()}}];if(h){var W=[{type:"text",label:_.name,onChange:A("name"),value:C.name,required:!0,oneRow:!0,xs:6},{type:"select",label:_.storage,onChange:A("storage"),value:C.storage,options:j.storage,required:!0,oneRow:!0,xs:8},{type:"select",label:_.network,onChange:A("network"),value:C.network,options:j.network,required:!0,oneRow:!0,xs:10},{type:"switch",label:_.failover,onChange:(P="failover",function(e){var a=e.target.checked;S((function(e){return Object(v.a)({},e,Object(X.a)({},P,a))}))}),value:C.failover,on:_.on,off:_.off,oneRow:!0,xs:6}];B=u.a.createElement(qe,{inputs:W}),M.push({color:"info",label:_.confirm,onClick:function(){m(!1);var e=C.name;""!==e?function(e,a,t,n,l,o){Za("/compute_pools/"+e,{storage:a,network:t,failover:n},(function(){l(e)}),o)}(e,"__default"===C.storage?"":C.storage,"__default"===C.network?"":C.network,C.failover,D,R):R("must specify pool name")}})}else B=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:f,title:T,buttons:M,content:B,operatable:s})},zl={en:{title:"Modify Pool",localStorage:"Use local storage",noAddressPool:"Don't use address pool",storage:"Backend Storage",network:"Address Pool",failover:"Failover",off:"Off",on:"On",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u8d44\u6e90\u6c60",localStorage:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8",noAddressPool:"\u4e0d\u4f7f\u7528\u5730\u5740\u6c60",storage:"\u540e\u7aef\u5b58\u50a8",network:"\u5730\u5740\u6c60",failover:"\u6545\u969c\u5207\u6362",off:"\u5173\u95ed",on:"\u5f00\u542f",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},Hl=function(e){var a={storage:"__default",network:"__default",failover:!1},t=e.lang,l=e.pool,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState({storage:[],network:[]}),R=Object(n.a)(T,2),I=R[0],D=R[1],A=zl[t],B=A.title+" "+l,P=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),M=function(){y(""),_(a),d(!1)},W=function(e){S&&(g(!0),M(),r(e))},z=function(e){return function(a){var t=a.target.value;_((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};u.a.useEffect((function(){if(l&&o){w(!0);var e=[{label:A.localStorage,value:"__default"}],a=[{label:A.noAddressPool,value:"__default"}],t=function(t){S&&(D({storage:e,network:a}),_({storage:t.storage?t.storage:"__default",network:t.network?t.network:"__default",failover:t.failover}),d(!0))},n=function(e){S&&(e.forEach((function(e){var t={label:e.name+" ("+e.allocated+"/"+e.addresses+" allocated via gateway "+e.gateway+")",value:e.name};a.push(t)})),function(e,a,t){Ga("/compute_pools/"+e,a,t)}(l,t,P))};return ka((function(a){S&&(a.forEach((function(a){var t={label:a.name+" ("+a.type+":"+a.host+")",value:a.name};e.push(t)})),Ca(n,P))}),P),function(){w(!1)}}}),[S,o,l,A.localStorage,A.noAddressPool,P]);var H,q,F=[{color:"transparent",label:A.cancel,onClick:function(){M(),c()}}];if(m){var L=[{type:"select",label:A.storage,onChange:z("storage"),value:N.storage,options:I.storage,required:!0,oneRow:!0,xs:8},{type:"select",label:A.network,onChange:z("network"),value:N.network,options:I.network,required:!0,oneRow:!0,xs:10},{type:"switch",label:A.failover,onChange:(q="failover",function(e){var a=e.target.checked;_((function(e){return Object(v.a)({},e,Object(X.a)({},q,a))}))}),value:N.failover,on:A.on,off:A.off,oneRow:!0,xs:6}];H=u.a.createElement(qe,{inputs:L}),F.push({color:"info",label:A.confirm,onClick:function(){var e,a;y(""),g(!1),e="__default"===N.storage?"":N.storage,a="__default"===N.network?"":N.network,function(e,a,t,n,l,o){Ya("/compute_pools/"+e,{storage:a,network:t,failover:n},(function(){l(e)}),o)}(l,e,a,N.failover,W,P)}})}else H=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:o,prompt:x,title:B,buttons:F,content:H,operatable:b})},ql=Object(v.a)({},Z,{cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),Fl=Object(h.a)(ql),Ll={en:{createButton:"Create Compute Pool",tableTitle:"Compute Pools",name:"Name",cells:"Cells",storage:"Backend Storage",network:"Address Pool",failover:"FailOver",status:"Status",operates:"Operates",noPools:"No compute pool available",computePools:"Compute Pools",enable:"Enable",disable:"Disable",enabled:"Enabled",disabled:"Disabled",instances:"Instances",modify:"Modify",delete:"Delete",on:"on",off:"off",localStorage:"Use local storage",noAddressPool:"Don't use address pool"},cn:{createButton:"\u521b\u5efa\u8d44\u6e90\u6c60",tableTitle:"\u8ba1\u7b97\u8d44\u6e90\u6c60",name:"\u540d\u79f0",cells:"\u8d44\u6e90\u8282\u70b9",storage:"\u540e\u7aef\u5b58\u50a8",network:"\u5730\u5740\u6c60",failover:"\u6545\u969c\u5207\u6362",status:"\u72b6\u6001",operates:"\u64cd\u4f5c",noPools:"\u6ca1\u6709\u8ba1\u7b97\u8d44\u6e90\u6c60",computePools:"\u8ba1\u7b97\u8d44\u6e90\u6c60",enable:"\u542f\u7528",disable:"\u7981\u7528",enabled:"\u5df2\u542f\u7528",disabled:"\u5df2\u7981\u7528",instances:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",modify:"\u4fee\u6539",delete:"\u5220\u9664",on:"\u5f00\u542f",off:"\u5173\u95ed",localStorage:"\u4f7f\u7528\u672c\u5730\u5b58\u50a8",noAddressPool:"\u4e0d\u4f7f\u7528\u5730\u5740\u6c60"}};var Ul=t(42),Vl=t.n(Ul),Gl=t(62),$l=t.n(Gl),Zl={en:{title:"Delete Address Pool",content:"Are you sure to delete address pool ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u5730\u5740\u8d44\u6e90\u6c60",content:"\u662f\u5426\u5220\u9664\u5730\u5740\u8d44\u6e90\u6c60 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Jl(e){var a=e.lang,t=e.pool,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=Zl[a],E=g.title,h=function(e){m(!0),b(e)},v=function(e){m(!0),b(""),o(e)},x=g.content+t,y=[{color:"transparent",label:g.cancel,onClick:function(){b(""),r()}},{color:"info",label:g.confirm,onClick:function(){m(!1),function(e,a,t){Ka("/address_pools/"+e,(function(){a(e)}),t)}(t,v,h)}}];return u.a.createElement(la,{size:"xs",open:l,prompt:f,title:E,buttons:y,content:x,operatable:s})}var Ql={en:{title:"Create Network Pool",name:"Name",gateway:"Gateway",dns1:"DNS1",dns2:"DNS2",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u5730\u5740\u8d44\u6e90\u6c60",name:"\u540d\u79f0",gateway:"\u7f51\u5173\u5730\u5740",dns1:"\u4e3bDNS",dns2:"\u526fDNS",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Yl(e){var a={name:"",gateway:"",dns1:"",dns2:""},t=e.lang,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(a),E=Object(n.a)(g,2),h=E[0],x=E[1],y=Ql[t],k=y.title,C=function(e){m(!0),b(e)},S=function(){b(""),x(a)},w=function(e){m(!0),S(),o(e)},O=function(e){return function(a){var t=a.target.value;x((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},j=[{type:"text",label:y.name,onChange:O("name"),value:h.name,required:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"text",label:y.gateway,onChange:O("gateway"),value:h.gateway,required:!0,oneRow:!0,xs:12,sm:10,md:8},{type:"text",label:y.dns1,onChange:O("dns1"),value:h.dns1,required:!0,oneRow:!0,xs:12,sm:10,md:8},{type:"text",label:y.dns2,onChange:O("dns2"),value:h.dns2,oneRow:!0,xs:12,sm:10,md:8}],N=u.a.createElement(qe,{inputs:j}),_=[{color:"transparent",label:y.cancel,onClick:function(){S(),r()}},{color:"info",label:y.confirm,onClick:function(){m(!1);var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");if(h.name)if(h.gateway)if(e.test(h.gateway))if(h.dns1)if(e.test(h.dns1)){var a=[h.dns1];if(h.dns2){if(!e.test(h.dns2))return void C("invalid secondary DNS format");a.push(h.dns2)}!function(e,a,t,n,l){Za("/address_pools/"+e,{gateway:a,dns:t},(function(){n(e)}),l)}(h.name,h.gateway,a,w,C)}else C("invalid primary DNS format");else C("must specify primary DNS");else C("invalid gateway format");else C("must specify gateway");else C("must specify pool name")}}];return u.a.createElement(la,{size:"sm",open:l,prompt:f,title:k,buttons:_,content:N,operatable:s})}var Kl={en:{title:"Modify Address Pool",name:"Name",gateway:"Gateway",dns1:"DNS1",dns2:"DNS2",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u5730\u5740\u8d44\u6e90\u6c60",name:"\u540d\u79f0",gateway:"\u7f51\u5173\u5730\u5740",dns1:"\u4e3bDNS",dns2:"\u526fDNS",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Xl(e){var a={name:"",gateway:"",dns1:"",dns2:""},t=e.lang,l=e.pool,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=Kl[t],R=T.title+" "+l,I=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),D=function(){y(""),_(a),d(!1)},A=function(e){g(!0),D(),r(e)},B=function(e){return function(a){var t=a.target.value;_((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};u.a.useEffect((function(){if(l&&o){w(!0);return Sa(l,(function(e){var a,t;S&&(0!==e.dns.length?(1===e.dns.length?(a=e.dns[0],t=""):2===e.dns.length&&(a=e.dns[0],t=e.dns[1]),_({name:e.name,gateway:e.gateway,dns1:a,dns2:t}),d(!0)):I("no DNS available for pool "+e))}),I),function(){w(!1)}}}),[S,o,l,I]);var P,M=[{color:"transparent",label:T.cancel,onClick:function(){D(),c()}}];if(m){var W=[{type:"text",label:T.name,value:l,disabled:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"text",label:T.gateway,onChange:B("gateway"),value:N.gateway,required:!0,oneRow:!0,xs:12,sm:10,md:8},{type:"text",label:T.dns1,onChange:B("dns1"),value:N.dns1,required:!0,oneRow:!0,xs:12,sm:10,md:8},{type:"text",label:T.dns2,onChange:B("dns2"),value:N.dns2,oneRow:!0,xs:12,sm:10,md:8}];P=u.a.createElement(qe,{inputs:W}),M.push({color:"info",label:T.confirm,onClick:function(){g(!1);var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");if(N.gateway)if(e.test(N.gateway))if(N.dns1)if(e.test(N.dns1)){var a=[N.dns1];if(N.dns2){if(!e.test(N.dns2))return void I("invalid secondary DNS format");a.push(N.dns2)}!function(e,a,t,n,l){Ya("/address_pools/"+e,{gateway:a,dns:t},(function(){n(e)}),l)}(l,N.gateway,a,A,I)}else I("invalid primary DNS format");else I("must specify primary DNS");else I("invalid gateway format");else I("must specify gateway")}})}else P=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:o,prompt:x,title:R,buttons:M,content:P,operatable:b})}var eo=Object(h.a)({cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),ao={en:{createButton:"Create Address Pool",tableTitle:"Address Pools",name:"Name",gateway:"Gateway",address:"Total Address",allocated:"Allocated Address",operates:"Operates",noResource:"No address pool available",modify:"Modify",delete:"Delete",detail:"Detail"},cn:{createButton:"\u521b\u5efa\u5730\u5740\u6c60",tableTitle:"\u5730\u5740\u8d44\u6e90\u6c60",name:"\u540d\u79f0",gateway:"\u7f51\u5173",address:"\u5730\u5740\u6570\u91cf",allocated:"\u5df2\u5206\u914d\u5730\u5740",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u5730\u5740\u6c60",modify:"\u4fee\u6539",delete:"\u5220\u9664",detail:"\u8be6\u60c5"}};function to(e){var a=eo(),t=u.a.useState(!1),l=Object(n.a)(t,2),o=l[0],r=l[1],c=u.a.useState(null),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(!1),E=Object(n.a)(g,2),h=E[0],v=E[1],x=u.a.useState(!1),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState(""),w=Object(n.a)(S,2),O=w[0],j=w[1],N=u.a.useState("warning"),_=Object(n.a)(N,2),T=_[0],R=_[1],I=u.a.useState(""),D=Object(n.a)(I,2),A=D[0],B=D[1],P=function(){B("")},M=u.a.useCallback((function(e){if(o){R("warning"),B(e),setTimeout(P,3e3)}}),[R,B,o]),W=u.a.useCallback((function(){if(o){Ca(m,(function(e){o&&M(e)}))}}),[M,o]),z=function(e){if(o){R("info"),B(e),Ua(e),setTimeout(P,3e3)}},H=function(){v(!1)},q=function(){C(!1)},F=function(){b(!1)};u.a.useEffect((function(){return r(!0),W(),function(){r(!1)}}),[W]);var L,U=e.lang,V=ao[U];if(null===s)L=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});else if(0===s.length)L=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,V.noResource));else{var G=[];s.forEach((function(e){var a=[{onClick:function(a){return t=e.name,v(!0),void j(t);var t},icon:Vl.a,label:V.modify},{icon:$l.a,label:V.detail,href:"/admin/address_pools/"+e.name},{onClick:function(a){return t=e.name,C(!0),void j(t);var t},icon:qt.a,label:V.delete}];G.push(function(e,a){var t=a.map((function(e,a){return u.a.createElement(Cn,{label:e.label,icon:e.icon,onClick:e.onClick,href:e.href,key:a})})),n=e.name,l=e.gateway,o=e.addresses,r=e.allocated;return[n,l,o.toString(),r.toString(),t]}(e,a))})),L=u.a.createElement(kn,{color:"primary",headers:[V.name,V.gateway,V.address,V.allocated,V.operates],rows:G})}return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:3,sm:3,md:3},u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){b(!0)}},u.a.createElement(It.a,null),V.createButton)))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:a.cardTitleWhite},V.tableTitle)),u.a.createElement(sn,null,L))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:T,message:A,open:""!==A,closeNotification:P,close:!0})),u.a.createElement(Ye,null,u.a.createElement(Yl,{lang:U,open:f,onSuccess:function(e){F(),z("pool "+e+" created"),W()},onCancel:F})),u.a.createElement(Ye,null,u.a.createElement(Xl,{lang:U,open:h,pool:O,onSuccess:function(e){H(),z("pool "+e+" modified"),W()},onCancel:H})),u.a.createElement(Ye,null,u.a.createElement(Jl,{lang:U,open:k,pool:O,onSuccess:function(e){q(),z("pool "+e+" deleted"),W()},onCancel:q})))}var no=t(63),lo=t.n(no),oo=t(69),ro=t.n(oo),co={en:{title:"Remove Address Range",content:"Are you sure to remove address range ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u5730\u5740\u6bb5",content:"\u662f\u5426\u5220\u9664\u5730\u5740\u6bb5 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function io(e){var a=e.lang,t=e.open,l=e.poolName,o=e.rangeType,r=e.startAddress,c=e.onSuccess,i=e.onCancel,s=u.a.useState(!0),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(""),b=Object(n.a)(f,2),g=b[0],E=b[1],h=co[a],v=h.title,x=function(e){p(!0),E(e)},y=function(){p(!0),E(""),c(o,r)},k=h.content+r,C=[{color:"transparent",label:h.cancel,onClick:function(){E(""),i()}},{color:"info",label:h.confirm,onClick:function(){p(!1),function(e,a,t,n,l){Ka("/address_pools/"+e+"/"+a+"/ranges/"+t,(function(){n(t,e)}),l)}(l,o,r,y,x)}}];return u.a.createElement(la,{size:"xs",open:t,prompt:g,title:v,buttons:C,content:k,operatable:d})}var so={en:{title:"Add Address Range",type:"Range Type",internal:"Internal Address",external:"External Address",start:"Start Address",end:"End Address",netmask:"Netmask",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6dfb\u52a0\u5730\u5740\u6bb5",type:"\u7c7b\u578b",internal:"\u5185\u90e8\u5730\u5740\u6bb5",external:"\u5916\u90e8\u5730\u5740\u6bb5",start:"\u8d77\u59cb\u5730\u5740",end:"\u7ed3\u675f\u5730\u5740",netmask:"\u5b50\u7f51\u63a9\u7801",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function uo(e){var a={type:"internal",start:"",end:"",netmask:""},t=e.lang,l=e.poolName,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(""),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(a),h=Object(n.a)(E,2),x=h[0],y=h[1],k=so[t],C=k.title,S=function(e){d(!0),g(e)},w=function(){g(""),y(a)},O=function(){d(!0),w(),r(x.type,x.start)},j=function(e){return function(a){var t=a.target.value;y((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},N=[{type:"radio",label:k.type,onChange:j("type"),value:x.type,options:[{label:k.internal,value:"internal"}],required:!0,oneRow:!0,xs:12},{type:"text",label:k.start,onChange:j("start"),value:x.start,required:!0,oneRow:!0,xs:12,sm:8,md:6},{type:"text",label:k.end,onChange:j("end"),value:x.end,required:!0,oneRow:!0,xs:12,sm:8,md:6},{type:"text",label:k.netmask,onChange:j("netmask"),value:x.netmask,oneRow:!0,xs:12,sm:8,md:6}],_=u.a.createElement(qe,{inputs:N}),T=[{color:"transparent",label:k.cancel,onClick:function(){w(),c()}},{color:"info",label:k.confirm,onClick:function(){d(!1);var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$");x.start?e.test(x.start)?x.end?e.test(x.end)?x.netmask?e.test(x.netmask)?function(e,a,t,n,l,o,r){Za("/address_pools/"+e+"/"+a+"/ranges/"+t,{end:n,netmask:l},(function(){o(t,e)}),r)}(l,x.type,x.start,x.end,x.netmask,O,S):S("invalid netmask format"):S("must specify netmask"):S("invalid end address format"):S("must specify end address"):S("invalid start start format"):S("must specify start address")}}];return u.a.createElement(la,{size:"sm",open:o,prompt:b,title:C,buttons:T,content:_,operatable:m})}var mo=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),po={en:{back:"Back",createButton:"Add Address Range",tableTitle:"Address Pool Status",internal:"Internal Address Range",allocated:"Allocated Address",startAddress:"Start Address",endAddress:"End Address",netmask:"Netmask",noInternalRange:"No internal range available",noAllocated:"No address allocated",operates:"Operates",allocatedAddress:"Allocated Address",instance:"Instance",detail:"Detail",remove:"Remove"},cn:{back:"\u8fd4\u56de",createButton:"\u6dfb\u52a0\u5730\u5740\u6bb5",tableTitle:"\u5730\u5740\u8d44\u6e90\u6c60\u72b6\u6001",internal:"\u5185\u90e8\u5730\u5740\u6bb5",allocated:"\u5df2\u5206\u914d\u5730\u5740",startAddress:"\u5f00\u59cb\u5730\u5740",endAddress:"\u7ed3\u675f\u5730\u5740",netmask:"\u5b50\u7f51\u63a9\u7801",noInternalRange:"\u6ca1\u6709\u5185\u90e8\u5730\u5740\u6bb5",noAllocated:"\u672a\u5206\u914d\u5730\u5740",operates:"\u64cd\u4f5c",allocatedAddress:"\u5df2\u5206\u914d\u5730\u5740",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",detail:"\u8be6\u60c5",remove:"\u5220\u9664"}};function fo(e){var a,t=e.lang,l=po[t],o=e.match.params.pool,r=mo(),c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(null),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(!1),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState(!1),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState({type:"",start:""}),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState("warning"),T=Object(n.a)(_,2),R=T[0],I=T[1],D=u.a.useState(""),A=Object(n.a)(D,2),B=A[0],P=A[1],M=function(){P("")},W=u.a.useCallback((function(e){if(s){I("warning"),P(e),setTimeout(M,3e3)}}),[I,P,s]),z=u.a.useCallback((function(){if(s){Sa(o,b,(function(e){s&&W(e)}))}}),[W,o,s]),H=function(e){if(s){I("info"),P(e),Ua(e),setTimeout(M,3e3)}},q=function(){S(!1)},F=function(){x(!1)};if(u.a.useEffect((function(){return m(!0),z(),function(){m(!1)}}),[z]),null===f)a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});else{var L;if(f.ranges&&0!==f.ranges.length){var U=[];f.ranges.forEach((function(e){var a=[{icon:$l.a,label:l.detail,href:"/admin/address_pools/"+o+"/internal/ranges/"+e.start},{onClick:function(a){return t="internal",n=e.start,S(!0),void N({type:t,start:n});var t,n},icon:qt.a,label:l.remove}];U.push(function(e,a){var t=a.map((function(e,a){return u.a.createElement(Cn,Object(v.a)({},e,{key:a}))}));return[e.start,e.end,e.netmask,t]}(e,a))})),L=u.a.createElement(kn,{color:"primary",headers:[l.startAddress,l.endAddress,l.netmask,l.operates],rows:U})}else L=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,l.noInternalRange));var V,G=u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:r.cardTitleWhite},l.internal)),u.a.createElement(sn,null,L));f.allocated&&0!==f.allocated.length?(U=[],f.allocated.forEach((function(e){var a=[{icon:ro.a,label:l.detail,href:"/admin/instances/details/"+e.instance}];U.push(function(e,a){var t=e.address,n=e.instance,l=a.map((function(e,a){return u.a.createElement(Cn,Object(v.a)({},e,{key:a}))}));return[t,n].concat(l)}(e,a))})),V=u.a.createElement(kn,{color:"primary",headers:[l.allocatedAddress,l.instance,""],rows:U})):V=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,l.noAllocated));var $=u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:r.cardTitleWhite},l.allocated)),u.a.createElement(sn,null,V));a=u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},G),u.a.createElement(Ye,{xs:12},$))}var Z=[u.a.createElement(Ee,{key:"back",size:"sm",color:"info",round:!0,onClick:function(){e.history.goBack()}},u.a.createElement(lo.a,null),l.back),u.a.createElement(Ee,{key:"add",size:"sm",color:"info",round:!0,onClick:function(){x(!0)}},u.a.createElement(It.a,null),l.createButton)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},Z.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1},e)})))),u.a.createElement(Ye,{xs:12},a),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:R,message:B,open:""!==B,closeNotification:M,close:!0})),u.a.createElement(Ye,null,u.a.createElement(uo,{lang:t,poolName:o,open:h,onSuccess:function(e,a){F(),H('range "'+a+'" of '+e+" address added"),z()},onCancel:F})),u.a.createElement(Ye,null,u.a.createElement(io,{lang:t,open:C,poolName:o,rangeType:j.type,startAddress:j.start,onSuccess:function(e,a){q(),H('range "'+a+'" of '+e+" address removed"),z()},onCancel:q})))}var bo=Object(h.a)({cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),go={en:{back:"Back",internal:"Address Range Status",allocated:"Allocated Address",startAddress:"Start Address",endAddress:"End Address",netmask:"Netmask",noAllocated:"No address allocated",allocatedAddress:"Allocated Address",instance:"Instance",detail:"Detail"},cn:{back:"\u8fd4\u56de",internal:"\u5730\u5740\u6bb5\u72b6\u6001",allocated:"\u5df2\u5206\u914d\u5730\u5740",startAddress:"\u5f00\u59cb\u5730\u5740",endAddress:"\u7ed3\u675f\u5730\u5740",netmask:"\u5b50\u7f51\u63a9\u7801",noAllocated:"\u672a\u5206\u914d\u5730\u5740",allocatedAddress:"\u5df2\u5206\u914d\u5730\u5740",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",detail:"\u8be6\u60c5"}};function Eo(e){var a,t=e.match.params.pool,l=e.match.params.type,o=e.match.params.start,r=e.lang,c=go[r],i=bo(),s=u.a.useState(!1),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(null),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState("warning"),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(""),S=Object(n.a)(C,2),w=S[0],O=S[1],j=function(){O("")},N=u.a.useCallback((function(e){if(d){k("warning"),O(e),setTimeout(j,3e3)}}),[k,O,d]),_=u.a.useCallback((function(){if(d){!function(e,a,t,n,l){Ga("/address_pools/"+e+"/"+a+"/ranges/"+t,n,l)}(t,l,o,E,(function(e){d&&N(e)}))}}),[N,t,l,o,d]);if(u.a.useEffect((function(){return p(!0),_(),function(){p(!1)}}),[_]),null===g)a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});else{var T,R=u.a.createElement(kn,{color:"primary",headers:[c.startAddress,c.endAddress,c.netmask],rows:[[o,g.end,g.netmask]]}),I=u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:i.cardTitleWhite},c.internal)),u.a.createElement(sn,null,R));if(g.allocated&&0!==g.allocated.length){var D=[];g.allocated.forEach((function(e){var a=[{icon:ro.a,label:c.detail,href:"/admin/instances/details/"+e.instance}];D.push(function(e,a){var t=e.address,n=e.instance,l=a.map((function(e,a){return u.a.createElement(Cn,Object(v.a)({},e,{key:a}))}));return[t,n].concat(l)}(e,a))})),T=u.a.createElement(kn,{color:"primary",headers:[c.allocatedAddress,c.instance,""],rows:D})}else T=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,c.noAllocated));var A=u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:i.cardTitleWhite},c.allocated)),u.a.createElement(sn,null,T));a=u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},I),u.a.createElement(Ye,{xs:12},A))}var B=[u.a.createElement(Ee,{key:"back",size:"sm",color:"info",round:!0,onClick:function(){e.history.goBack()}},u.a.createElement(lo.a,null),c.back)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},B.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1},e)})))),u.a.createElement(Ye,{xs:12},a),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:y,message:w,open:""!==w,closeNotification:j,close:!0})))}var ho={en:{title:"Delete Storage Pool",content:"Are you sure to delete storage pool ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u5b58\u50a8\u8d44\u6e90\u6c60",content:"\u662f\u5426\u5220\u9664\u5b58\u50a8\u8d44\u6e90\u6c60 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},vo=function(e){var a=e.lang,t=e.pool,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=ho[a],E=g.title,h=function(e){m(!0),b(e)},v=function(e){m(!0),b(""),o(e)},x=g.content+t,y=[{color:"transparent",label:g.cancel,onClick:function(){b(""),r()}},{color:"info",label:g.confirm,onClick:function(){m(!1),function(e,a,t){Ka("/storage_pools/"+e,(function(){a(e)}),t)}(t,v,h)}}];return u.a.createElement(la,{size:"xs",open:l,prompt:f,title:E,buttons:y,content:x,operatable:s})},xo={en:{title:"Create Storage Pool",name:"Name",type:"Type",host:"Host",target:"Target",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u5b58\u50a8\u8d44\u6e90\u6c60",name:"\u540d\u79f0",type:"\u7c7b\u578b",host:"\u4e3b\u673a",target:"\u76ee\u6807",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function yo(e){var a={name:"",type:"nfs",host:"",target:""},t=e.lang,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(a),E=Object(n.a)(g,2),h=E[0],x=E[1],y={type:[{value:"nfs",label:"NFS"}]},k=xo[t],C=function(e){m(!0),b(e)},S=function(){b(""),x(a)},w=function(e){S(),m(!0),o(e)},O=function(e){return function(a){var t=a.target.value;x((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},j=[{type:"text",label:k.name,onChange:O("name"),value:h.name,required:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"select",label:k.type,onChange:O("type"),value:h.type,options:y.type,required:!0,oneRow:!0,xs:12,sm:8,md:6},{type:"text",label:k.host,onChange:O("host"),value:h.host,required:!0,oneRow:!0,xs:12,sm:10,md:8},{type:"text",label:k.target,onChange:O("target"),value:h.target,required:!0,oneRow:!0,xs:12,sm:10,md:8}],N=u.a.createElement(qe,{inputs:j}),_=[{color:"transparent",label:k.cancel,onClick:function(){S(),r()}},{color:"info",label:k.confirm,onClick:function(){if(m(!1),h.name)if(h.type)if(h.host)if(h.target){var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)+([A-Za-z]|[A-Za-z][A-Za-z0-9-]*[A-Za-z0-9])$"),a=new RegExp("^(/[^/ ]*)+/?$");e.test(h.host)?a.test(h.target)?function(e,a,t,n,l,o){Za("/storage_pools/"+e,{type:a,host:t,target:n},(function(){l(e)}),o)}(h.name,h.type,h.host,h.target,w,C):C("invalid target format"):C("invalid host format")}else C("must specify storage target");else C("must specify storage host");else C("must specify storage type");else C("must specify storage name")}}];return u.a.createElement(la,{size:"sm",open:l,prompt:f,title:k.title,buttons:_,content:N,operatable:s})}var ko={en:{title:"Modify Storage Pool",name:"Name",type:"Type",host:"Host",target:"Target",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u5b58\u50a8\u8d44\u6e90\u6c60",name:"\u540d\u79f0",type:"\u7c7b\u578b",host:"\u4e3b\u673a",target:"\u76ee\u6807",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Co(e){var a,t={name:"",type:"",host:"",target:""},l=e.lang,o=e.pool,r=e.open,c=e.onSuccess,i=e.onCancel,s=u.a.useState(!1),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(!0),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(""),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(t),N=Object(n.a)(j,2),_=N[0],T=N[1],R={type:[{value:"nfs",label:"NFS"}]},I=ko[l],D=u.a.useCallback((function(e){w&&(E(!0),k(e))}),[w]),A=function(){k(""),T(t),p(!1)},B=function(e){w&&(A(),E(!0),c(e))},P=function(e){return function(a){var t=a.target.value;T((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};if(u.a.useEffect((function(){if(o&&r){O(!0);return function(e,a,t){Ga("/storage_pools/"+e,a,t)}(o,(function(e){w&&(T({type:e.type,host:e.host,target:e.target}),p(!0))}),D),function(){O(!1)}}}),[d,r,o,w,D]),d){var M=[{type:"text",label:I.name,value:o,disabled:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"select",label:I.type,onChange:P("type"),value:_.type,options:R.type,required:!0,oneRow:!0,xs:12,sm:8,md:6},{type:"text",label:I.host,onChange:P("host"),value:_.host,required:!0,oneRow:!0,xs:12,sm:10,md:8},{type:"text",label:I.target,onChange:P("target"),value:_.target,required:!0,oneRow:!0,xs:12,sm:10,md:8}];a=u.a.createElement(qe,{inputs:M})}else a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});var W=[{color:"transparent",label:I.cancel,onClick:function(){A(),i()}},{color:"info",label:I.confirm,onClick:function(){if(E(!1),_.type)if(_.host)if(_.target){var e=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?).){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$|^(([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]).)+([A-Za-z]|[A-Za-z][A-Za-z0-9-]*[A-Za-z0-9])$"),a=new RegExp("^(/[^/ ]*)+/?$");e.test(_.host)?a.test(_.target)?function(e,a,t,n,l,o){Ya("/storage_pools/"+e,{type:a,host:t,target:n},(function(){l(e)}),o)}(o,_.type,_.host,_.target,B,D):D("invalid target format"):D("invalid host format")}else D("must specify storage target");else D("must specify storage host");else D("must specify storage type")}}],z=I.title+" "+o;return u.a.createElement(la,{size:"sm",open:r,prompt:y,title:z,buttons:W,content:a,operatable:g})}var So=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),wo={en:{createButton:"Create Storage Pool",tableTitle:"Storage Pools",name:"Name",type:"Type",host:"Host",target:"Target",operates:"Operates",noResource:"No storage pool available",modify:"Modify",delete:"Delete"},cn:{createButton:"\u521b\u5efa\u5b58\u50a8\u8d44\u6e90\u6c60",tableTitle:"\u5b58\u50a8\u8d44\u6e90\u6c60",name:"\u540d\u79f0",type:"\u7c7b\u578b",host:"\u4e3b\u673a",target:"\u76ee\u6807",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u5b58\u50a8\u8d44\u6e90\u6c60",modify:"\u4fee\u6539",delete:"\u5220\u9664"}};var Oo=t(155),jo=t.n(Oo),No=t(561),_o={en:{title:"Delete Media Image",content:"Are you sure to delete media image ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u5149\u76d8\u955c\u50cf",content:"\u662f\u5426\u5220\u9664\u5149\u76d8\u955c\u50cf ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function To(e){var a=e.lang,t=e.imageID,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=_o[a],E=g.title,h=g.content+t,v=function(e){m(!0),b(e)},x=function(){m(!0),b(""),o(t)},y=[{color:"transparent",label:g.cancel,onClick:function(){b(""),r()}},{color:"info",label:g.confirm,onClick:function(){m(!1),Aa(t,x,v)}}];return u.a.createElement(la,{size:"xs",open:l,prompt:f,title:E,buttons:y,content:h,operatable:s})}var Ro=t(544),Io={en:{title:"Upload New Image",name:"Image Name",description:"Description",tags:"Tags",file:"Image File",choose:"Choose File",cancel:"Cancel",confirm:"Upload"},cn:{title:"\u4e0a\u4f20\u65b0\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",file:"\u955c\u50cf\u6587\u4ef6",choose:"\u6d4f\u89c8\u6587\u4ef6",cancel:"\u53d6\u6d88",confirm:"\u4e0a\u4f20"}};function Do(e){var a={name:"",description:"",tags:new Map,file:null},t=e.lang,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(0),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState(!0),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(""),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState(!1),T=Object(n.a)(_,2),R=T[0],I=T[1],D=u.a.useState(a),A=Object(n.a)(D,2),B=A[0],P=A[1],M=u.a.useState({tags:[]}),W=Object(n.a)(M,2),z=W[0],H=W[1],q=Io[t],F=q.title,L=u.a.useCallback((function(e){R&&(S(!0),N(e))}),[R]),U=function(){N(""),P(a),m(!1),b(!1),x(0)},V=function(e){R&&(S(!0),U(),o(e))},G=function(e){R&&x(e)},$=function(e){return function(a){if(R){var t=a.target.value;P((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}};u.a.useEffect((function(){if(l){I(!0);var e=[];return[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]].forEach((function(a){e.push({label:a[1],value:a[0]})})),H({tags:e}),m(!0),function(){I(!1)}}}),[l]);var Z,J,Q=[{color:"transparent",label:q.cancel,onClick:function(){U(),r()}}];if(s)if(f)Z=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(Ro.a,{variant:"determinate",value:h})),u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(ie.a,{align:"center"},h.toFixed(2)+"%")));else{var Y=[{type:"text",label:q.name,value:B.name,onChange:$("name"),required:!0,oneRow:!0,xs:8},{type:"textarea",label:q.description,value:B.description,onChange:$("description"),required:!0,oneRow:!0,rows:4,xs:12},{type:"checkbox",label:q.tags,onChange:function(e){return function(a){if(R){var t=a.target.checked;P((function(a){return Object(v.a)({},a,{tags:a.tags.set(e,t)})}))}}},value:B.tags,options:z.tags,required:!0,oneRow:!0,xs:10},{type:"file",label:q.file,onChange:(J="file",function(e){if(R){var a=e.target.files[0];P((function(e){return Object(v.a)({},e,Object(X.a)({},J,a))}))}}),required:!0,oneRow:!0,xs:12}];Z=u.a.createElement(qe,{inputs:Y}),Q.push({color:"info",label:q.confirm,onClick:function(){N(""),S(!1);var e=B.name;if(""!==e){var a=B.description;if(""!==a)if(B.tags){var t=[];if(B.tags.forEach((function(e,a){e&&t.push(a)})),0!==t.length)if(B.file){!function(e,a,t,n,l){var o=sa();if(null!==o){Za("/media_images/",{name:e,description:a,tags:t,owner:o.user,group:o.group},(function(e){n(e.id)}),l)}else l("session expired")}(e,a,t,(function(a){if(R){var t=function(){L("new image "+e+" deleted")},n=function(a){L("delete new image "+e+" fail: "+a)};b(!0),function(e,a,t,n,l){et("/media_images/"+e+"/file/","image",a,t,(function(){n(e)}),l)}(a,B.file,G,V,(function(){Aa(a,t,n)}))}}),L)}else L("must specify upload file");else L("image tags required")}else L("image tags required");else L("desciption required")}else L("must specify image name")}})}else Z=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:j,hideBackdrop:!0,title:F,buttons:Q,content:Z,operatable:C})}var Ao={en:{title:"Modify Media Image",name:"Image Name",description:"Description",tags:"Tags",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u955c\u50cf\u4fe1\u606f",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function Bo(e){var a={name:"",description:"",tags:new Map},t=e.lang,l=e.imageID,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState({tags:[]}),R=Object(n.a)(T,2),I=R[0],D=R[1],A=Ao[t],B=A.title,P=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),M=function(){y(""),_(a),d(!1)},W=function(e){S&&(g(!0),M(),r(e))},z=function(e){return function(a){if(S){var t=a.target.value;_((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}};u.a.useEffect((function(){if(o){var e=[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]];w(!0);return function(e,a,t){Ga("/media_images/"+e,a,t)}(l,(function(a){if(S){var t=[];e.forEach((function(e){t.push({label:e[1],value:e[0]})})),D({tags:t});var n=new Map;a.tags&&a.tags.forEach((function(e){n.set(e,!0)})),_({name:a.name,description:a.description,tags:n}),d(!0)}}),P),function(){w(!1)}}}),[o,l,S,P]);var H,q=[{color:"transparent",label:A.cancel,onClick:function(){M(),c()}}];if(m){var F=[{type:"text",label:A.name,value:N.name,onChange:z("name"),required:!0,oneRow:!0,xs:8},{type:"textarea",label:A.description,value:N.description,onChange:z("description"),required:!0,oneRow:!0,rows:4,xs:12},{type:"checkbox",label:A.tags,onChange:function(e){return function(a){if(S){var t=a.target.checked;_((function(a){return Object(v.a)({},a,{tags:a.tags.set(e,t)})}))}}},value:N.tags,options:I.tags,required:!0,oneRow:!0,xs:10}];H=u.a.createElement(qe,{inputs:F}),q.push({color:"info",label:A.confirm,onClick:function(){g(!1);var e=N.name;if(""!==e){var a=N.description;if(""!==a)if(N.tags){var t=[];N.tags.forEach((function(e,a){e&&t.push(a)})),0!==t.length?function(e,a,t,n,l,o){var r=sa();if(null!==r){Ya("/media_images/"+e,{name:a,description:t,tags:n,owner:r.user,group:r.group},(function(){l(e)}),o)}else o("session expired")}(l,e,a,t,W,P):P("image tags required")}else P("image tags required");else P("desciption required")}else P("must specify image name")}})}else H=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:o,prompt:x,title:B,buttons:q,content:H,operatable:b})}var Po={en:{modify:"Modify Info",delete:"Delete Image",createTime:"Created Time",modifyTime:"Modified Time",uploadButton:"Upload New ISO",noResource:"No images available"},cn:{modify:"\u4fee\u6539\u955c\u50cf\u4fe1\u606f",delete:"\u5220\u9664\u955c\u50cf",createTime:"\u521b\u5efa\u65f6\u95f4",modifyTime:"\u4fee\u6539\u65f6\u95f4",uploadButton:"\u4e0a\u4f20\u65b0\u5149\u76d8\u955c\u50cf",noResource:"\u6ca1\u6709\u5149\u76d8\u955c\u50cf"}};var Mo=t(257),Wo=t.n(Mo),zo={en:{title:"Delete Disk Image",content:"Are you sure to delete disk image ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u78c1\u76d8\u955c\u50cf",content:"\u662f\u5426\u5220\u9664\u78c1\u76d8\u955c\u50cf ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ho(e){var a=e.lang,t=e.imageID,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=zo[a],E=g.title,h=g.content+t,v=function(e){m(!0),b(e)},x=function(){m(!0),b(""),o(t)},y=[{color:"transparent",label:g.cancel,onClick:function(){b(""),r()}},{color:"info",label:g.confirm,onClick:function(){m(!1),Wa(t,x,v)}}];return u.a.createElement(la,{size:"xs",open:l,prompt:f,title:E,buttons:y,content:h,operatable:s})}var qo={en:{title:"Upload New Image",name:"Image Name",description:"Description",tags:"Tags",file:"Image File",choose:"Choose File",cancel:"Cancel",confirm:"Upload"},cn:{title:"\u4e0a\u4f20\u65b0\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",file:"\u955c\u50cf\u6587\u4ef6",choose:"\u6d4f\u89c8\u6587\u4ef6",cancel:"\u53d6\u6d88",confirm:"\u4e0a\u4f20"}};function Fo(e){var a={name:"",description:"",tags:new Map,file:null},t=e.lang,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(0),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState(!0),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(""),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState(!1),T=Object(n.a)(_,2),R=T[0],I=T[1],D=u.a.useState(a),A=Object(n.a)(D,2),B=A[0],P=A[1],M=u.a.useState({tags:[]}),W=Object(n.a)(M,2),z=W[0],H=W[1],q=qo[t],F=q.title,L=u.a.useCallback((function(e){R&&(S(!0),N(e))}),[R]),U=function(){N(""),P(a),m(!1),b(!1),x(0)},V=function(e){R&&(S(!0),U(),o(e))},G=function(e){R&&x(e)},$=function(e){return function(a){if(R){var t=a.target.value;P((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}};u.a.useEffect((function(){if(l){I(!0);var e=[];return[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]].forEach((function(a){e.push({label:a[1],value:a[0]})})),H({tags:e}),m(!0),function(){I(!1)}}}),[l]);var Z,J,Q=[{color:"transparent",label:q.cancel,onClick:function(){U(),r()}}];if(s)if(f)Z=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(Ro.a,{variant:"determinate",value:h})),u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(ie.a,{align:"center"},h.toFixed(2)+"%")));else{var Y=[{type:"text",label:q.name,value:B.name,onChange:$("name"),required:!0,oneRow:!0,xs:8},{type:"textarea",label:q.description,value:B.description,onChange:$("description"),required:!0,oneRow:!0,rows:4,xs:12},{type:"checkbox",label:q.tags,onChange:function(e){return function(a){if(R){var t=a.target.checked;P((function(a){return Object(v.a)({},a,{tags:a.tags.set(e,t)})}))}}},value:B.tags,options:z.tags,required:!0,oneRow:!0,xs:10},{type:"file",label:q.file,onChange:(J="file",function(e){if(R){var a=e.target.files[0];P((function(e){return Object(v.a)({},e,Object(X.a)({},J,a))}))}}),required:!0,oneRow:!0,xs:12}];Z=u.a.createElement(qe,{inputs:Y}),Q.push({color:"info",label:q.confirm,onClick:function(){N(""),S(!1);var e=B.name;if(""!==e){var a=B.description;if(""!==a)if(B.tags){var t=[];if(B.tags.forEach((function(e,a){e&&t.push(a)})),0!==t.length)if(B.file){Ma(e,null,a,t,(function(a){if(R){var t=function(){L("new image "+e+" deleted")},n=function(a){L("delete new image "+e+" fail: "+a)};b(!0),function(e,a,t,n,l){et("/disk_images/"+e+"/file/","image",a,t,(function(){n(e)}),l)}(a,B.file,G,V,(function(){Wa(a,t,n)}))}}),L)}else L("must specify upload file");else L("image tags required")}else L("image tags required");else L("desciption required")}else L("must specify image name")}})}else Z=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:j,hideBackdrop:!0,title:F,buttons:Q,content:Z,operatable:C})}var Lo={en:{title:"Modify Disk Image",name:"Image Name",description:"Description",tags:"Tags",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u955c\u50cf\u4fe1\u606f",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function Uo(e){var a={name:"",description:"",tags:new Map},t=e.lang,l=e.imageID,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState({tags:[]}),R=Object(n.a)(T,2),I=R[0],D=R[1],A=Lo[t],B=A.title,P=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),M=function(){y(""),_(a),d(!1)},W=function(e){S&&(g(!0),M(),r(e))},z=function(e){return function(a){if(S){var t=a.target.value;_((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}};u.a.useEffect((function(){if(o){var e=[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]];w(!0);return Pa(l,(function(a){if(S){var t=[];e.forEach((function(e){t.push({label:e[1],value:e[0]})})),D({tags:t});var n=new Map;a.tags&&a.tags.forEach((function(e){n.set(e,!0)})),_({name:a.name,description:a.description,tags:n}),d(!0)}}),P),function(){w(!1)}}}),[S,o,l,P]);var H,q=[{color:"transparent",label:A.cancel,onClick:function(){M(),c()}}];if(m){var F=[{type:"text",label:A.name,value:N.name,onChange:z("name"),required:!0,oneRow:!0,xs:8},{type:"textarea",label:A.description,value:N.description,onChange:z("description"),required:!0,oneRow:!0,rows:4,xs:12},{type:"checkbox",label:A.tags,onChange:function(e){return function(a){if(S){var t=a.target.checked;_((function(a){return Object(v.a)({},a,{tags:a.tags.set(e,t)})}))}}},value:N.tags,options:I.tags,required:!0,oneRow:!0,xs:10}];H=u.a.createElement(qe,{inputs:F}),q.push({color:"info",label:A.confirm,onClick:function(){g(!1);var e=N.name;if(""!==e){var a=N.description;if(""!==a)if(N.tags){var t=[];N.tags.forEach((function(e,a){e&&t.push(a)})),0!==t.length?function(e,a,t,n,l,o){var r=sa();if(null!==r){Ya("/disk_images/"+e,{name:a,description:t,tags:n,owner:r.user,group:r.group},(function(){l(e)}),o)}else o("session expired")}(l,e,a,t,W,P):P("image tags required")}else P("image tags required");else P("desciption required")}else P("must specify image name")}})}else H=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:o,prompt:x,title:B,buttons:q,content:H,operatable:b})}var Vo={en:{title:"Build New Image",name:"Image Name",description:"Description",tags:"Tags",pool:"Compute Pool",guest:"Source Instance",cancel:"Cancel",confirm:"Build"},cn:{title:"\u6784\u5efa\u65b0\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",pool:"\u8d44\u6e90\u6c60",guest:"\u6e90\u4e91\u4e3b\u673a",cancel:"\u53d6\u6d88",confirm:"\u6784\u5efa"}};function Go(e){var a={name:"",description:"",tags:new Map,pool:"",guest:""},t=e.lang,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(0),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState(!0),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(""),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState(!1),T=Object(n.a)(_,2),R=T[0],I=T[1],D=u.a.useState(a),A=Object(n.a)(D,2),B=A[0],P=A[1],M=u.a.useState({tags:[],pools:[],guests:[]}),W=Object(n.a)(M,2),z=W[0],H=W[1],q=Vo[t],F=q.title,L=u.a.useCallback((function(e){R&&(S(!0),N(e))}),[R]),U=function(e){return function(a){Wa(e),L(a)}},V=function(){N(""),P(a),m(!1),b(!1),x(0)},G=function e(a,t){return function(n){R&&(n.created?function(e){R&&(S(!0),V(),o(e))}(a):(x(n.progress),setTimeout((function(){Pa(a,e(a,t),U(a))}),1e3)))}},$=function(e){return function(a){if(R){var t=a.target.value;P((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}};u.a.useEffect((function(){if(l){var e=[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]];I(!0);return va((function(a){if(R){var t=[];a.forEach((function(e){var a=e.name;t.push({label:a,value:a})}));var n=[];e.forEach((function(e){n.push({label:e[1],value:e[0]})})),H({tags:n,pools:t,guests:[]}),P((function(e){return Object(v.a)({},e,{pool:"",guest:""})})),m(!0)}}),L),function(){I(!1)}}}),[R,l,L]);var Z,J=[{color:"transparent",label:q.cancel,onClick:function(){V(),r()}}];if(s)if(f)Z=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(Ro.a,{variant:"determinate",value:h})),u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(ie.a,{align:"center"},h.toFixed(2)+"%")));else{var Q=[{type:"text",label:q.name,value:B.name,onChange:$("name"),required:!0,oneRow:!0,xs:8},{type:"textarea",label:q.description,value:B.description,onChange:$("description"),required:!0,oneRow:!0,rows:4,xs:12},{type:"checkbox",label:q.tags,onChange:function(e){return function(a){if(R){var t=a.target.checked;P((function(a){return Object(v.a)({},a,{tags:a.tags.set(e,t)})}))}}},value:B.tags,options:z.tags,required:!0,oneRow:!0,xs:10},{type:"select",label:q.pool,onChange:function(e){if(R){var a=e.target.value;wa(a,null,(function(e){var t=[];e.forEach((function(e){t.push({value:e.id,label:e.name})})),H((function(e){return Object(v.a)({},e,{guests:t})})),P((function(e){return Object(v.a)({},e,{pool:a,guest:""})}))}),L)}},value:B.pool,options:z.pools,required:!0,oneRow:!0,xs:10,sm:8,md:6},{type:"select",label:q.guest,onChange:$("guest"),value:B.guest,options:z.guests,required:!0,oneRow:!0,xs:10,sm:8,md:6}];Z=u.a.createElement(qe,{inputs:Q}),J.push({color:"info",label:q.confirm,onClick:function(){if(N(""),S(!1),B.name)if(B.description)if(B.tags){var e=[];if(B.tags.forEach((function(a,t){a&&e.push(t)})),0!==e.length)if(B.guest){var a=B.name;Ma(a,B.guest,B.description,e,function(e){return function(a){R&&(b(!0),setTimeout((function(){Pa(a,G(a,e),U(a))}),1e3))}}(a),L)}else L("must specify source guest");else L("image tags required")}else L("image tags required");else L("desciption required");else L("must specify image name")}})}else Z=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:j,hideBackdrop:!0,title:F,buttons:J,content:Z,operatable:C})}var $o={en:{modify:"Modify Info",delete:"Delete Image",download:"Download Image",createTime:"Created Time",modifyTime:"Modified Time",uploadButton:"Upload New Disk Image",buildButton:"Build New Disk Image",noResource:"No images available"},cn:{modify:"\u4fee\u6539\u955c\u50cf\u4fe1\u606f",delete:"\u5220\u9664\u955c\u50cf",download:"\u4e0b\u8f7d\u955c\u50cf",createTime:"\u521b\u5efa\u65f6\u95f4",modifyTime:"\u4fee\u6539\u65f6\u95f4",uploadButton:"\u4e0a\u4f20\u65b0\u78c1\u76d8\u955c\u50cf",buildButton:"\u6784\u5efa\u65b0\u78c1\u76d8\u955c\u50cf",noResource:"\u6ca1\u6709\u78c1\u76d8\u955c\u50cf"}};var Zo={en:{title:"Delete System Template",content:"Are you sure to delete template ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u7cfb\u7edf\u6a21\u677f",content:"\u662f\u5426\u5220\u9664\u7cfb\u7edf\u6a21\u677f ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Jo(e){var a=e.lang,t=e.templateID,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=Zo[a],E=g.title,h=function(e){m(!0),b(e)},v=function(e){m(!0),b(""),o(t)},x=g.content+t,y=[{color:"transparent",label:g.cancel,onClick:function(){b(""),r()}},{color:"info",label:g.confirm,onClick:function(){m(!1),function(e,a,t){Ka("/templates/"+e,(function(){a(e)}),t)}(t,v,h)}}];return u.a.createElement(la,{size:"xs",open:l,prompt:f,title:E,buttons:y,content:x,operatable:s})}var Qo={en:{title:"Create System Template",name:"Name",admin:"Admin Name",operatingSystem:"Operating System",disk:"Disk Driver",network:"Network Interface Model",display:"Display Driver",control:"Remote Control Protocol",usb:"USB Model",tablet:"Tablet Mode",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u7cfb\u7edf\u6a21\u677f",name:"\u6a21\u677f\u540d",admin:"\u7ba1\u7406\u5458\u540d\u79f0",operatingSystem:"\u64cd\u4f5c\u7cfb\u7edf",disk:"\u78c1\u76d8\u9a71\u52a8",network:"\u7f51\u5361\u578b\u53f7",display:"\u663e\u5361\u7c7b\u578b",control:"\u8fdc\u7a0b\u7ba1\u7406\u534f\u8bae",usb:"USB\u63a5\u53e3",tablet:"\u89e6\u6478\u5c4f\u63a5\u53e3",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},Yo=["linux","windows"],Ko=["scsi","sata","ide"],Xo=["virtio","e1000","rtl8139"],er=["vga","cirrus"],ar=["vnc","spice"],tr=["","nec-xhci"],nr=["","usb"];function lr(e){var a={name:"",admin:"",operating_system:"",disk:"",network:"",display:"",control:"",usb:"",tablet:""},t=e.lang,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(a),E=Object(n.a)(g,2),h=E[0],x=E[1],y=Qo[t],k=y.title,C=function(e){m(!0),b(e)},S=function(){b(""),x(a)},w=function(e){m(!0),S(),o(e)},O=function(e){return function(a){var t=a.target.value;x((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},j=function(e){return e.map((function(e){return{value:e,label:e||"none"}}))},N=[{type:"text",label:y.name,onChange:O("name"),value:h.name,required:!0,oneRow:!0,xs:10},{type:"text",label:y.admin,onChange:O("admin"),value:h.admin,required:!0,oneRow:!0,xs:8,sm:6},{type:"select",label:y.operatingSystem,onChange:O("operating_system"),value:h.operating_system,required:!0,oneRow:!0,options:j(Yo),xs:12,sm:5},{type:"select",label:y.disk,onChange:O("disk"),value:h.disk,required:!0,oneRow:!0,options:j(Ko),xs:6,sm:4},{type:"select",label:y.network,onChange:O("network"),value:h.network,required:!0,oneRow:!0,options:j(Xo),xs:12,sm:5},{type:"select",label:y.display,onChange:O("display"),value:h.display,required:!0,oneRow:!0,options:j(er),xs:6,sm:4},{type:"select",label:y.control,onChange:O("control"),value:h.control,required:!0,oneRow:!0,options:j(ar),xs:6,sm:4},{type:"select",label:y.usb,onChange:O("usb"),value:h.usb,required:!0,oneRow:!0,options:j(tr),xs:8,sm:4},{type:"select",label:y.tablet,onChange:O("tablet"),value:h.tablet,required:!0,oneRow:!0,options:j(nr),xs:8,sm:4}],_=u.a.createElement(qe,{inputs:N}),T=[{color:"transparent",label:y.cancel,onClick:function(){S(),r()}},{color:"info",label:y.confirm,onClick:function(){h.name?h.admin?(b(""),m(!1),function(e,a,t,n,l,o,r,c,i,s,u){var m={name:e,admin:a,operating_system:t,disk:n,network:l,display:o,control:r};c&&(m.usb=c),i&&(m.tablet=i),Za("/templates/",m,(function(e){var a=e.id;s(a)}),u)}(h.name,h.admin,h.operating_system,h.disk,h.network,h.display,h.control,h.usb,h.tablet,w,C)):C("must specify admin name"):C("must specify template name")}}];return u.a.createElement(la,{size:"xs",open:l,prompt:f,title:k,buttons:T,content:_,operatable:s})}var or={en:{title:"Modify System Template",name:"Name",admin:"Admin Name",operatingSystem:"Operating System",disk:"Disk Driver",network:"Network Interface Model",display:"Display Driver",control:"Remote Control Protocol",usb:"USB Model",tablet:"Tablet Mode",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7cfb\u7edf\u6a21\u677f",name:"\u6a21\u677f\u540d",admin:"\u7ba1\u7406\u5458\u540d\u79f0",operatingSystem:"\u64cd\u4f5c\u7cfb\u7edf",disk:"\u78c1\u76d8\u9a71\u52a8",network:"\u7f51\u5361\u578b\u53f7",display:"\u663e\u5361\u7c7b\u578b",control:"\u8fdc\u7a0b\u7ba1\u7406\u534f\u8bae",usb:"USB\u63a5\u53e3",tablet:"\u89e6\u6478\u5c4f\u63a5\u53e3",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}},rr=["linux","windows"],cr=["scsi","sata","ide"],ir=["virtio","e1000","rtl8139"],sr=["vga","cirrus"],ur=["vnc","spice"],mr=["","nec-xhci"],dr=["","usb"];function pr(e){var a={name:"",admin:"",operating_system:"",disk:"",network:"",display:"",control:"",usb:"",tablet:""},t=e.lang,l=e.templateID,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=or[t],R=T.title,I=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),D=function(){y(""),_(a),d(!1)},A=function(e){S&&(g(!0),D(),r(e))},B=function(e){return function(a){if(S){var t=a.target.value;_((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}},P=function(e){return e.map((function(e){return{value:e,label:e||"none"}}))};u.a.useEffect((function(){if(l&&o){w(!0);return function(e,a,t){Ga("/templates/"+e,a,t)}(l,(function(e){S&&(_(e),d(!0))}),I),function(){w(!1)}}}),[S,o,l,I]);var M,W=[{color:"transparent",label:T.cancel,onClick:function(){D(),c()}}];if(m){var z=[{type:"text",label:T.name,onChange:B("name"),value:N.name,required:!0,oneRow:!0,xs:10},{type:"text",label:T.admin,onChange:B("admin"),value:N.admin,required:!0,oneRow:!0,xs:8,sm:6},{type:"select",label:T.operatingSystem,onChange:B("operating_system"),value:N.operating_system,required:!0,oneRow:!0,options:P(rr),xs:12,sm:5},{type:"select",label:T.disk,onChange:B("disk"),value:N.disk,required:!0,oneRow:!0,options:P(cr),xs:6,sm:4},{type:"select",label:T.network,onChange:B("network"),value:N.network,required:!0,oneRow:!0,options:P(ir),xs:12,sm:5},{type:"select",label:T.display,onChange:B("display"),value:N.display,required:!0,oneRow:!0,options:P(sr),xs:6,sm:4},{type:"select",label:T.control,onChange:B("control"),value:N.control,required:!0,oneRow:!0,options:P(ur),xs:6,sm:4},{type:"select",label:T.usb,onChange:B("usb"),value:N.usb,required:!0,oneRow:!0,options:P(mr),xs:8,sm:4},{type:"select",label:T.tablet,onChange:B("tablet"),value:N.tablet,required:!0,oneRow:!0,options:P(dr),xs:8,sm:4}];M=u.a.createElement(qe,{inputs:z}),W.push({color:"info",label:T.confirm,onClick:function(){if(N.name)if(N.admin){y(""),g(!1);var e=N.name,a=N.admin,t=N.operating_system,n=N.disk,o=N.network,r=N.display,c=N.control,i=N.usb,s=N.tablet;!function(e,a,t,n,l,o,r,c,i,s,u,m){var d="/templates/"+e,p={name:a,admin:t,operating_system:n,disk:l,network:o,display:r,control:c};i&&(p.usb=i),s&&(p.tablet=s),Ya(d,p,(function(){u(e)}),m)}(l,e,a,t,n,o,r,c,i,s,A,I)}else I("must specify admin name");else I("must specify template name")}})}else M=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"xs",open:o,prompt:x,title:R,buttons:W,content:M,operatable:b})}var fr=Object(h.a)({cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),br={en:{createButton:"Create System Template",tableTitle:"System Templates",name:"Name",os:"Operating System",createdTime:"Created Time",modifiedTime:"Last Modified",operates:"Operates",noResource:"No system templates available",detail:"Detail",delete:"Delete"},cn:{createButton:"\u521b\u5efa\u65b0\u6a21\u677f",tableTitle:"\u7cfb\u7edf\u6a21\u677f",name:"\u540d\u79f0",os:"\u64cd\u4f5c\u7cfb\u7edf",createdTime:"\u521b\u5efa\u65f6\u95f4",modifiedTime:"\u6700\u540e\u4fee\u6539",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u7cfb\u7edf\u6a21\u677f",detail:"\u8be6\u60c5",delete:"\u5220\u9664"}};var gr=t(77),Er=t.n(gr),hr=t(165),vr=t.n(hr),xr=t(105),yr=t.n(xr),kr=Object(h.a)(xn);function Cr(e){var a=kr(),t=e.color,n=e.headers,l=e.rows;return u.a.createElement("div",{className:a.tableResponsive},u.a.createElement(bn.a,{className:a.table},u.a.createElement(gn.a,{className:a[t+"TableHeader"]},u.a.createElement(En.a,{className:a.tableHeadRow},n.map((function(e,t){return u.a.createElement(vn.a,{className:a.tableCell+" "+a.tableHeadCell,key:t},e)})))),u.a.createElement(hn.a,null,l)))}Cr.defaultProps={color:"gray"};var Sr=t(120),wr=t.n(Sr),Or=t(162),jr=t.n(Or),Nr=t(258),_r=t.n(Nr),Tr=t(156),Rr=t.n(Tr),Ir=t(260),Dr=t.n(Ir),Ar=t(261),Br=t.n(Ar),Pr=t(259),Mr=t.n(Pr),Wr=t(262),zr=t.n(Wr),Hr=t(157),qr=t.n(Hr),Fr=t(158),Lr=t.n(Fr),Ur=t(159),Vr=t.n(Ur),Gr=t(160),$r=t.n(Gr),Zr=t(161),Jr=t.n(Zr),Qr=t(104),Yr=t.n(Qr),Kr={en:{running:"Running",stopped:"Stopped",start:"Start Instance",startWithMedia:"Start Instance With Media",snapshot:"Snapshot",createImage:"Create Disk Image",resetSystem:"Reset System",delete:"Delete Instance",migrate:"Migrate Instance",monitor:"Monitor Resource Usage",detail:"Instance Detail",remoteControl:"Remote Control",stop:"Stop Instance",forceStop:"Force Stop Instance",reboot:"Reboot Instance",reset:"Reset Instance",insertMedia:"Insert Media",ejectMedia:"Eject Media",autoStartup:"Auto Startup",mediaAttached:"Media Attached"},cn:{running:"\u8fd0\u884c\u4e2d",stopped:"\u5df2\u505c\u6b62",start:"\u542f\u52a8\u4e91\u4e3b\u673a",startWithMedia:"\u4ece\u5149\u76d8\u955c\u50cf\u542f\u52a8\u4e91\u4e3b\u673a",snapshot:"\u5feb\u7167",createImage:"\u521b\u5efa\u78c1\u76d8\u955c\u50cf",resetSystem:"\u91cd\u7f6e\u7cfb\u7edf",delete:"\u5220\u9664\u4e91\u4e3b\u673a",migrate:"\u8fc1\u79fb\u4e91\u4e3b\u673a",monitor:"\u76d1\u63a7\u8d44\u6e90\u7528\u91cf",detail:"\u5b9e\u4f8b\u8be6\u60c5",remoteControl:"\u8fdc\u7a0b\u76d1\u63a7",stop:"\u505c\u6b62\u4e91\u4e3b\u673a",forceStop:"\u5f3a\u5236\u7ec8\u6b62\u4e91\u4e3b\u673a",reboot:"\u91cd\u542f\u4e91\u4e3b\u673a",reset:"\u5f3a\u5236\u91cd\u542f\u4e91\u4e3b\u673a",insertMedia:"\u63d2\u5165\u5149\u76d8\u955c\u50cf",ejectMedia:"\u5f39\u51fa\u5149\u76d8\u955c\u50cf",autoStartup:"\u5f00\u673a\u542f\u52a8",mediaAttached:"\u5a92\u4f53\u5df2\u52a0\u8f7d"}};function Xr(e){var a,t=Object(h.a)(xn)(),n=Object(h.a)(Z)(),l=e.lang,o=e.instance,r=e.onNotify,c=e.onError,i=e.onDelete,s=e.onStatusChange,m=e.onMediaStart,d=e.onInsertMedia,p=e.onResetSystem,f=e.onBuildImage,b=e.onMigrateInstance,g=e.checked,E=e.checkable,v=e.onCheckStatusChanged,x=Kr[l],y={tips:x.start,icon:wr.a,handler:function(e){!function(e,a,t){Za("/instances/"+e,{},(function(){a(e)}),t)}(e,(function(e){r("instance "+e+" started"),s()}),(function(a){c("start instance "+e+" fail: "+a)}))}},k={tips:x.startWithMedia,icon:_r.a,handler:m},C={tips:x.snapshot,icon:Rr.a,href:"/admin/instances/snapshots/"+o.id},S={tips:x.createImage,icon:Mr.a,handler:f},w={tips:x.resetSystem,icon:Dr.a,handler:p},O={tips:x.delete,icon:qt.a,handler:i},j={tips:x.migrate,icon:Vt.a,handler:function(e){b(e,o.pool,o.cell)}},N={tips:x.monitor,icon:Br.a,href:"/admin/instances/status/"+o.id,target:"_blank"},_={tips:x.detail,icon:Lt.a,href:"/admin/instances/details/"+o.id,target:"_blank"},T={tips:x.remoteControl,icon:zr.a,href:"/admin/instances/control/"+o.id,target:"_blank"},R={tips:x.stop,icon:Er.a,handler:function(e){_a(e,(function(e){r("instance "+e+" stopped"),s()}),(function(a){c("stop instance "+e+" fail: "+a)}))}},I={tips:x.forceStop,icon:_n.a,handler:function(e){!function(e,a,t){Xa("/instances/"+e,{reboot:!1,force:!0},(function(){a(e)}),t)}(e,(function(e){r("instance "+e+" force stopped"),s()}),(function(a){c("force stop instance "+e+" fail: "+a)}))}},D={tips:x.reboot,icon:qr.a,handler:function(e){Ta(e,(function(e){r("instance "+e+" reboot"),s()}),(function(a){c("reboot instance "+e+" fail: "+a)}))}},A={tips:x.reset,icon:Lr.a,handler:function(e){Ra(e,(function(e){r("instance "+e+" reset"),s()}),(function(a){c("reset instance "+e+" fail: "+a)}))}},B={tips:x.insertMedia,icon:Vr.a,handler:d},P={tips:x.ejectMedia,icon:$r.a,handler:function(e){Na(e,(function(e){r("media ejected from instance "+e),s()}),(function(a){c("eject media from instance "+e+" fail: "+a)}))}},M=[];o.running?(a=[u.a.createElement(re.a,{title:x.running,placement:"top",key:x.running},u.a.createElement(wr.a,{className:n.successText}))],M=[T,R,I,D,A],o.auto_start&&a.push(u.a.createElement(re.a,{title:x.autoStartup,placement:"top",key:x.autoStartup},u.a.createElement(Jr.a,{className:n.infoText}))),o.media_attached?(a.push(u.a.createElement(re.a,{title:x.mediaAttached,placement:"top",key:x.mediaAttached},u.a.createElement(Yr.a,{className:n.infoText}))),M.push(P)):M.push(B),M=M.concat([N,_])):(a=[u.a.createElement(re.a,{title:x.stopped,placement:"top",key:x.stopped},u.a.createElement(jr.a,{className:n.dangerText}))],M=[y,k,C,S,w,O,j,N,_]);var W="";o.internal&&o.internal.network_address&&(W=o.internal.network_address),o.external&&o.external.network_address&&(W+="/"+o.external.network_address);var z;z=o.memory>=1<<30?o.memory/(1<<30)+" GB":o.memory/(1<<20)+" MB";var H=[];o.disks.forEach((function(e){H.push((e/(1<<30)).toFixed(2).toString())}));var q,F=H.join("/")+" GB";return q=E?u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,null,u.a.createElement(We.a,{checked:g,onChange:function(e){return function(e){var a=e.target.checked;v(a,o.id)}(e)},value:o.id})),u.a.createElement(te.a,null,o.name)):o.name,u.a.createElement(En.a,{className:t.tableBodyRow},u.a.createElement(vn.a,{className:t.tableCell},q),u.a.createElement(vn.a,{className:t.tableCell},o.cell),u.a.createElement(vn.a,{className:t.tableCell},W),u.a.createElement(vn.a,{className:t.tableCell},o.cores),u.a.createElement(vn.a,{className:t.tableCell},z),u.a.createElement(vn.a,{className:t.tableCell},F),u.a.createElement(vn.a,{className:t.tableCell},a),u.a.createElement(vn.a,{className:t.tableCell},M.map((function(e,a){var t,n=u.a.createElement(e.icon);return t=e.href?u.a.createElement(yt.a,{to:e.href,target:e.target},u.a.createElement(ce.a,{color:"inherit"},n)):u.a.createElement(ce.a,{color:"inherit",onClick:function(){null!==e.handler&&e.handler(o.id)}},n),u.a.createElement(re.a,{title:e.tips,placement:"top",key:a},t)}))))}var ec={en:{title:"Delete Instance",content:"Are you sure to delete instance ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u4e91\u4e3b\u673a",content:"\u662f\u5426\u5220\u9664\u4e91\u4e3b\u673a ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ac(e){var a=e.lang,t=e.instanceID,l=e.open,o=e.onSuccess,r=e.onCancel,c=u.a.useState(!0),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=ec[a],E=g.title,h=g.content+t,v=function(e){m(!0),b(e)},x=function(){m(!0),b(""),o(t)},y=[{color:"transparent",label:g.cancel,onClick:function(){b(""),r()}},{color:"info",label:g.confirm,onClick:function(){m(!1),function(e,a,t){Xa("/guests/"+e,{force:!1},a,t)}(t,x,v)}}];return u.a.createElement(la,{size:"sm",open:l,prompt:f,title:E,buttons:y,content:h,operatable:s})}var tc=t(565),nc=t(545),lc=t(546),oc=t(164),rc=t.n(oc);function cc(e){var a=e.children,t=Object(Y.a)(e,["children"]);return u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(te.a,{m:1,p:0},u.a.createElement(Pe.a,Object.assign({container:!0},t),a)))}var ic={en:{title:"Create Instance",name:"Instance Name",resourcePool:"Resource Pool",core:"Core",memory:"Memory",systemDisk:"System Disk Size",dataDisk:"Data Disk Size",autoStartup:"Automatic Startup",systemVersion:"System Version",sourceImage:"Source Image",blankSystem:"Blank System",qos:"QoS Options (Optional)",cpuPriority:"CPU Priority",iops:"IOPS",outbound:"Outband Bandwidth",inbound:"Inbound Bandwidth",noDataDisk:"Don't use data disk",noLimit:"No Limit",cpuPriorityHigh:"High",cpuPriorityMedium:"Medium",cpuPriorityLow:"Low",modules:"Pre-Installed Modules",adminName:"Admin Name",adminPassword:"Admin Password",blankHelper:"Leave blank to generate",dataPath:"Data Path",off:"Off",on:"On",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u4e91\u4e3b\u673a",name:"\u4e91\u4e3b\u673a\u540d\u79f0",resourcePool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",core:"\u6838\u5fc3\u6570",memory:"\u5185\u5b58",systemDisk:"\u7cfb\u7edf\u78c1\u76d8\u5bb9\u91cf",dataDisk:"\u6570\u636e\u78c1\u76d8\u5bb9\u91cf",autoStartup:"\u81ea\u52a8\u542f\u52a8",systemVersion:"\u7cfb\u7edf\u7248\u672c",sourceImage:"\u6765\u6e90\u955c\u50cf",blankSystem:"\u7a7a\u767d\u7cfb\u7edf",qos:"QoS\u9009\u9879 (\u53ef\u9009)",cpuPriority:"CPU\u4f18\u5148\u7ea7",iops:"\u78c1\u76d8\u8bfb\u5199\u9650\u5236",outbound:"\u4e0a\u884c\u5e26\u5bbd",inbound:"\u4e0b\u884c\u5e26\u5bbd",noDataDisk:"\u4e0d\u4f7f\u7528\u6570\u636e\u78c1\u76d8",noLimit:"\u65e0\u9650\u5236",cpuPriorityHigh:"\u9ad8",cpuPriorityMedium:"\u4e2d",cpuPriorityLow:"\u4f4e",modules:"\u9884\u88c5\u6a21\u5757",adminName:"\u7ba1\u7406\u5458\u8d26\u53f7",adminPassword:"\u7ba1\u7406\u5458\u5bc6\u7801",blankHelper:"\u7559\u7a7a\u5219\u81ea\u52a8\u751f\u6210\u65b0\u5bc6\u7801",dataPath:"\u6302\u8f7d\u6570\u636e\u8def\u5f84",off:"\u5173\u95ed",on:"\u5f00\u542f",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function sc(e){var a=e.lang,t=e.open,l=e.onSuccess,o=e.onCancel,r={name:"",pool:"",cores:1..toString(),memory:(1<<30).toString(),system_disk:5,data_disk:0,auto_start:!1,system_template:"",from_image:"__default",modules:new Map,module_cloud_init_admin_name:"root",module_cloud_init_admin_password:"",module_cloud_init_data_path:"/opt/data",priority:"medium",iops:0,inbound:0,outbound:0},c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(0),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState(!0),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(""),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState(!1),T=Object(n.a)(_,2),R=T[0],I=T[1],D=u.a.useState(r),A=Object(n.a)(D,2),B=A[0],P=A[1],M=u.a.useState({pools:[],images:[],versions:[]}),W=Object(n.a)(M,2),z=W[0],H=W[1],q=ic[a],F=q.title,L=u.a.useCallback((function(e){R&&(S(!0),N(e))}),[R]),U=function(){N(""),P(r),m(!1),b(!1),x(0)},V=function(e){R&&(S(!0),U(),l(e.id))},G=function(e){R&&(b(!0),x(0),setTimeout((function(){$(e)}),1e3))},$=function e(a){if(R){Oa(a,V,L,(function(t){R&&(x(t),setTimeout((function(){e(a)}),1e3))}))}},Z=function(e){return function(a){if(R){var t=a.target.value;P((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}},J=function(e){return function(a,t){R&&P((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};u.a.useEffect((function(){if(t){var e=[],a=[{label:q.blankSystem,value:"__default"}],n=[];I(!0);var l=function(t){R&&(t.forEach((function(e){var a=e.id,t=e.name;n.push({label:t,value:a})})),H({pools:e,images:a,versions:n}),m(!0))},o=function(e){R&&(e.forEach((function(e){var t=e.name,n=e.id;a.push({label:t,value:n})})),Fa(l,L))};return va((function(a){R&&(a.forEach((function(a){var t=a.name;e.push({label:t,value:t})})),Ba(o,L))}),L),function(){I(!1)}}}),[R,t,q.blankSystem,L]);var Q,Y,K=[{color:"transparent",label:q.cancel,onClick:function(){U(),o()}}];if(s)if(f)Q=u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Ro.a,{variant:"determinate",value:h}))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(ie.a,{align:"center"},h.toFixed(2)+"%"))));else{var ee=[];[1,2,4,8,16].forEach((function(e){ee.push(e.toString())}));var ae,ne=[];[1,2,4,8,16,32].forEach((function(e){var a,t=512*e*(1<<20);a=t>=1<<30?t/(1<<30)+" GB":t/(1<<20)+" MB",ne.push({name:a,value:t.toString()})}));var le,oe=[];[5,60,30].forEach((function(e){oe.push({value:e,label:e+" GB"})})),ae=u.a.createElement(ze.a,{color:"secondary",value:B.system_disk,max:60,min:5,step:1,valueLabelDisplay:"auto",marks:oe,onChange:J("system_disk")});var re,ce=[{value:0,label:q.noDataDisk},{value:10,label:"10 GB"},{value:20,label:"20 GB"}];if(le=u.a.createElement(ze.a,{color:"secondary",value:B.data_disk,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:ce,onChange:J("data_disk")}),B.system_template&&"__default"!==B.from_image){var se,ue=[{value:"qemu",label:"QEMU-Guest-Agent"},{value:"cloud-init",label:"CloudInit"}];se=B.modules.get("cloud-init")?u.a.createElement(Ye,{xs:12,sm:8,md:6},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},"Cloud Init Options"),u.a.createElement(cc,null,u.a.createElement(Te.a,{label:q.adminName,onChange:Z("module_cloud_init_admin_name"),value:B.module_cloud_init_admin_name,margin:"normal",fullWidth:!0})),u.a.createElement(cc,null,u.a.createElement(Te.a,{label:q.adminPassword,onChange:Z("module_cloud_init_admin_password"),helperText:q.blankHelper,margin:"normal",fullWidth:!0})),u.a.createElement(cc,null,u.a.createElement(Te.a,{label:q.dataPath,onChange:Z("module_cloud_init_data_path"),value:B.module_cloud_init_data_path,margin:"normal",disabled:!0,fullWidth:!0}))))):u.a.createElement(Ye,null),re=u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},q.modules),u.a.createElement(Me.a,null,u.a.createElement(Pe.a,{container:!0},ue.map((function(e){var a,t,n;return a=!!B.modules.has(e.value)&&B.modules.get(e.value),u.a.createElement(Ye,{xs:12,sm:6,md:4,key:e.value},u.a.createElement(De.a,{control:u.a.createElement(We.a,{checked:a,onChange:(t="modules",n=e.value,function(e){if(R){var a=e.target.checked;P((function(e){return Object(v.a)({},e,Object(X.a)({},t,e[t].set(n,a)))}))}}),value:e.value}),label:e.label}))}))))))),se)}else re=u.a.createElement(Ye,null);Q=u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:q.name,onChange:Z("name"),value:B.name,margin:"normal",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:10,sm:4,md:3},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(_e.a,{htmlFor:"pool"},q.resourcePool),u.a.createElement(je.a,{value:B.pool,onChange:Z("pool"),inputProps:{name:"pool",id:"pool"},required:!0,fullWidth:!0},z.pools.map((function(e,a){return u.a.createElement(xe.a,{value:e.value,key:a},e.label)})))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},q.core),u.a.createElement(Ie.a,{"aria-label":q.core,name:"cores",value:B.cores,onChange:Z("cores"),row:!0},u.a.createElement(Pe.a,{container:!0},ee.map((function(e){return u.a.createElement(Ye,{xs:3,sm:2,md:1,key:e},u.a.createElement(De.a,{value:e,control:u.a.createElement(Re.a,null),label:e}))}))))))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},q.memory),u.a.createElement(Ie.a,{"aria-label":q.memory,name:"memory",value:B.memory,onChange:Z("memory"),row:!0},u.a.createElement(Pe.a,{container:!0},ne.map((function(e){return u.a.createElement(Ye,{xs:6,sm:3,md:2,key:e.value},u.a.createElement(De.a,{value:e.value,control:u.a.createElement(Re.a,null),label:e.name}))})))))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Be.a,{component:"legend"},q.systemDisk),ae))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Be.a,{component:"legend"},q.dataDisk),le))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:10,sm:6,md:5},u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(_e.a,{htmlFor:"image"},q.sourceImage),u.a.createElement(je.a,{value:B.from_image,onChange:Z("from_image"),inputProps:{name:"image",id:"image"},fullWidth:!0},z.images.map((function(e,a){return u.a.createElement(xe.a,{value:e.value,key:a},e.label)})))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:10,sm:5,md:4},u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(_e.a,{htmlFor:"version"},q.systemVersion),u.a.createElement(je.a,{value:B.system_template,onChange:Z("system_template"),inputProps:{name:"version",id:"version"},fullWidth:!0},z.versions.map((function(e,a){return u.a.createElement(xe.a,{value:e.value,key:a},e.label)})))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:8,sm:6,md:4},u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(_e.a,{htmlFor:"auto_start"},q.autoStartup),q.off,u.a.createElement(Ne.a,{checked:B.failover,onChange:(Y="auto_start",function(e){if(R){var a=e.target.checked;P((function(e){return Object(v.a)({},e,Object(X.a)({},Y,a))}))}}),color:"primary",inputProps:{name:"auto_start",id:"auto_start"}}),q.on))),re,u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:8,md:6},u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(tc.a,null,u.a.createElement(nc.a,{expandIcon:u.a.createElement(rc.a,null)},q.qos),u.a.createElement(lc.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},q.cpuPriority),u.a.createElement(Ie.a,{"aria-label":q.cpuPriority,value:B.priority,onChange:Z("priority"),row:!0},u.a.createElement(De.a,{value:"high",control:u.a.createElement(Re.a,null),label:q.cpuPriorityHigh,key:"high"}),u.a.createElement(De.a,{value:"medium",control:u.a.createElement(Re.a,null),label:q.cpuPriorityMedium,key:"medium"}),u.a.createElement(De.a,{value:"low",control:u.a.createElement(Re.a,null),label:q.cpuPriorityLow,key:"low"}))))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(Be.a,{component:"legend"},q.iops),u.a.createElement(ze.a,{color:"secondary",value:B.iops,max:2e3,min:0,step:10,valueLabelDisplay:"auto",marks:[{value:0,label:q.noLimit},{value:2e3,label:2e3}],onChange:J("iops")}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(Be.a,{component:"legend"},q.inbound),u.a.createElement(ze.a,{color:"secondary",value:B.inbound,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:q.noLimit},{value:20,label:"20 Mbit/s"}],onChange:J("inbound")}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(Be.a,{component:"legend"},q.outbound),u.a.createElement(ze.a,{color:"secondary",value:B.outbound,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:q.noLimit},{value:20,label:"20 Mbit/s"}],onChange:J("outbound")})))))))))),K.push({color:"info",label:q.confirm,onClick:function(){if(N(""),S(!1),B.name)if(B.pool){var e=Number(B.cores);if(Number.isNaN(e))L("invalid cores: "+B.cores);else{var a=Number(B.memory);if(Number.isNaN(a))L("invalid memory: "+B.memory);else{var t=[B.system_disk*(1<<30)];0!==B.data_disk&&t.push(B.data_disk*(1<<30));var n,l=B.system_template;n="__default"===B.from_image?"":B.from_image;var o=[],r=!1;B.modules.forEach((function(e,a){e&&(o.push(a),"cloud-init"===a&&(r=!0))}));var c=null;r&&(c={admin_name:B.module_cloud_init_admin_name,admin_secret:B.module_cloud_init_admin_password,data_path:B.module_cloud_init_data_path});var i={cpu_priority:B.priority,write_iops:B.iops,read_iops:B.iops,receive_speed:B.inbound*(1<<17),send_speed:B.outbound*(1<<17)};!function(e,a,t,n,l,o,r,c,i,s,u,m,d,p){var f=sa();if(null!==f){var b={name:e,owner:f.user,group:f.group,pool:a,cores:t,memory:n,disks:l,auto_start:o,from_image:r,template:c};i&&(b.modules=i),s&&(b.cloud_init=s),u&&(b.qos=u);Ja("/guests/",b,(function(e,a){202===e?m(a.id):200===e?d(a.id):p("unexpected status "+e.toString())}),p)}else p("session expired")}(B.name,B.pool,e,a,t,B.auto_start,n,l,o,c,i,G,V,L)}}}else L("must specify target pool");else L("instance name required")}})}else Q=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"md",open:t,prompt:j,promptPosition:"top",hideBackdrop:!0,title:F,buttons:K,content:Q,operatable:C})}var uc={en:{title:"Start Instance With Media",name:"Media Name",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4ece\u5f15\u5bfc\u5149\u76d8\u542f\u52a8\u4e91\u4e3b\u673a",name:"\u955c\u50cf\u540d\u79f0",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function mc(e){var a={image:""},t=e.lang,l=e.instanceID,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState({images:[]}),R=Object(n.a)(T,2),I=R[0],D=R[1],A=uc[t],B=A.title,P=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),M=function(){y(""),_(a),d(!1)},W=function(e){S&&(g(!0),M(),r(e))};u.a.useEffect((function(){if(o){w(!0);return Da((function(e){if(S){var a=[];e.forEach((function(e){a.push({value:e.id,label:e.name})})),D({images:a}),d(!0)}}),P),function(){return w(!1)}}}),[S,o,P]);var z,H,q=[{color:"transparent",label:A.cancel,onClick:function(){M(),c()}}];if(m){var F=[{type:"select",label:A.name,onChange:(H="image",function(e){if(S){var a=e.target.value;_((function(e){return Object(v.a)({},e,Object(X.a)({},H,a))}))}}),value:N.image,options:I.images,required:!0,oneRow:!0,xs:12,sm:10}];z=u.a.createElement(qe,{inputs:F}),q.push({color:"info",label:A.confirm,onClick:function(){y(""),g(!1);var e=N.image;""!==e?function(e,a,t,n){Za("/instances/"+e,{from_media:!0,source:a},(function(){t(e)}),n)}(l,e,W,P):P("select a media image")}})}else z=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"xs",open:o,prompt:x,title:B,buttons:q,content:z,operatable:b})}var dc={en:{title:"Insert Media Into Instance",name:"Media Name",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5411\u4e91\u4e3b\u673a\u63d2\u5165\u5149\u76d8\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function pc(e){var a={image:""},t=e.lang,l=e.instanceID,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState({images:[]}),R=Object(n.a)(T,2),I=R[0],D=R[1],A=dc[t],B=A.title,P=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),M=function(){y(""),_(a),d(!1)},W=function(e){S&&(g(!0),M(),r(e))};u.a.useEffect((function(){if(o){w(!0);return Da((function(e){if(S){var a=[];e.forEach((function(e){a.push({value:e.id,label:e.name})})),D({images:a}),d(!0)}}),P),function(){return w(!1)}}}),[S,o,P]);var z,H,q=[{color:"transparent",label:A.cancel,onClick:function(){M(),c()}}];if(m){var F=[{type:"select",label:A.name,onChange:(H="image",function(e){if(S){var a=e.target.value;_((function(e){return Object(v.a)({},e,Object(X.a)({},H,a))}))}}),value:N.image,options:I.images,required:!0,oneRow:!0,xs:12,sm:10}];z=u.a.createElement(qe,{inputs:F}),q.push({color:"info",label:A.confirm,onClick:function(){y(""),g(!1);var e=N.image;""!==e?function(e,a,t,n){Za("/instances/"+e+"/media",{source:a},(function(){t(e)}),n)}(l,e,W,P):P("select a media image")}})}else z=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"xs",open:o,prompt:x,title:B,buttons:q,content:z,operatable:b})}var fc={en:{title:"Build New Image",name:"Image Name",description:"Description",tags:"Tags",cancel:"Cancel",confirm:"Build"},cn:{title:"\u6784\u5efa\u65b0\u955c\u50cf",name:"\u955c\u50cf\u540d\u79f0",description:"\u63cf\u8ff0",tags:"\u6807\u7b7e",cancel:"\u53d6\u6d88",confirm:"\u6784\u5efa"}};function bc(e){var a={name:"",description:"",tags:new Map},t=e.lang,l=e.instanceID,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!1),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(0),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!0),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(""),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState(!1),R=Object(n.a)(T,2),I=R[0],D=R[1],A=u.a.useState(a),B=Object(n.a)(A,2),P=B[0],M=B[1],W=u.a.useState({tags:[]}),z=Object(n.a)(W,2),H=z[0],q=z[1],F=fc[t],L=F.title,U=u.a.useCallback((function(e){I&&(w(!0),_(e))}),[I]),V=function(e){return function(a){Wa(e),U(a)}},G=function(){_(""),M(a),d(!1),g(!1),y(0)},$=function e(a,t){return function(n){I&&(n.created?function(e){I&&(w(!0),G(),r(e))}(t):(y(n.progress),setTimeout((function(){Pa(a,e(a,t),V(a))}),1e3)))}},Z=function(e){return function(a){if(I){var t=a.target.value;M((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}};u.a.useEffect((function(){if(o){D(!0);var e=[];return[["linux","Linux"],["windows","Windows"],["centos","Centos"],["ubuntu","Ubuntu"],["64bit","64Bit"],["32bit","32Bit"]].forEach((function(a){e.push({label:a[1],value:a[0]})})),q({tags:e}),d(!0),function(){D(!1)}}}),[o]);var J,Q=[{color:"transparent",label:F.cancel,onClick:function(){G(),c()}}];if(m)if(b)J=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(Ro.a,{variant:"determinate",value:x})),u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(ie.a,{align:"center"},x.toFixed(2)+"%")));else{var Y=[{type:"text",label:F.name,value:P.name,onChange:Z("name"),required:!0,oneRow:!0,xs:8},{type:"textarea",label:F.description,value:P.description,onChange:Z("description"),required:!0,oneRow:!0,rows:4,xs:12},{type:"checkbox",label:F.tags,onChange:function(e){return function(a){if(I){var t=a.target.checked;M((function(a){return Object(v.a)({},a,{tags:a.tags.set(e,t)})}))}}},value:P.tags,options:H.tags,required:!0,oneRow:!0,xs:10}];J=u.a.createElement(qe,{inputs:Y}),Q.push({color:"info",label:F.confirm,onClick:function(){if(_(""),w(!1),P.name)if(P.description)if(P.tags){var e=[];if(P.tags.forEach((function(a,t){a&&e.push(t)})),0!==e.length){var a=P.name;Ma(a,l,P.description,e,function(e){return function(a){I&&(g(!0),setTimeout((function(){Pa(a,$(a,e),V(a))}),1e3))}}(a),U)}else U("image tags required")}else U("image tags required");else U("desciption required");else U("must specify image name")}})}else J=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:o,prompt:N,hideBackdrop:!0,title:L,buttons:Q,content:J,operatable:S})}var gc={en:{title:"Reset Instance System",name:"Target System",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u91cd\u7f6e\u4e91\u4e3b\u673a\u7cfb\u7edf",name:"\u76ee\u6807\u7cfb\u7edf",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function Ec(e){var a={image:""},t=e.lang,l=e.instanceID,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!1),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(0),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!0),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(""),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState(!1),R=Object(n.a)(T,2),I=R[0],D=R[1],A=u.a.useState(a),B=Object(n.a)(A,2),P=B[0],M=B[1],W=u.a.useState({images:[]}),z=Object(n.a)(W,2),H=z[0],q=z[1],F=gc[t],L=F.title,U=u.a.useCallback((function(e){I&&(w(!0),_(e))}),[I]),V=function(){_(""),M(a),d(!1)},G=function(e){I&&(w(!0),V(),r(e.id))},$=function(e){I&&(g(!0),y(0),setTimeout((function(){Z(e)}),1e3))},Z=function e(a){if(I){Oa(a,G,U,(function(t){I&&(y(t),setTimeout((function(){e(a)}),1e3))}))}};u.a.useEffect((function(){if(o){D(!0);return Ba((function(e){if(I){var a=[];e.forEach((function(e){var t=e.id,n=e.name;a.push({value:t,label:n})})),q({images:a}),d(!0)}}),U),function(){D(!1)}}}),[o,I,U]);var J,Q,Y=[{color:"transparent",label:F.cancel,onClick:function(){V(),c()}}];if(m)if(b)J=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(Ro.a,{variant:"determinate",value:x})),u.a.createElement(Pe.a,{item:!0,xs:12},u.a.createElement(ie.a,{align:"center"},x.toFixed(2)+"%")));else{var K=[{type:"select",label:F.name,onChange:(Q="image",function(e){if(I){var a=e.target.value;M((function(e){return Object(v.a)({},e,Object(X.a)({},Q,a))}))}}),value:P.image,options:H.images,required:!0,oneRow:!0,xs:12,sm:10}];J=u.a.createElement(qe,{inputs:K}),Y.push({color:"info",label:F.confirm,onClick:function(){_(""),w(!1);var e=P.image;""!==e?function(e,a,t,n){Ya("/guests/"+e+"/system/",{from_image:a},(function(){t(e)}),n)}(l,e,$,U):U("select a target system")}})}else J=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"xs",open:o,prompt:N,hideBackdrop:!0,title:L,buttons:Y,content:J,operatable:S})}var hc={en:{title:"Migrate Single Instance",sourcePool:"Source Pool",sourceCell:"Source Cell",targetCell:"Target Cell",offline:"Offline",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u8fc1\u79fb\u4e91\u4e3b\u673a\u5b9e\u4f8b",sourcePool:"\u6e90\u8d44\u6e90\u6c60",sourceCell:"\u6e90\u8282\u70b9",targetCell:"\u76ee\u6807\u8282\u70b9",offline:"\u79bb\u7ebf",cancel:"\u53d6\u6d88",confirm:"\u786e\u8ba4"}};function vc(e){var a={targetCell:""},t=e.lang,l=e.instanceID,o=e.open,r=e.sourcePool,c=e.sourceCell,i=e.onSuccess,s=e.onCancel,m=u.a.useState(!1),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState(!0),g=Object(n.a)(b,2),E=g[0],h=g[1],x=u.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState(!1),w=Object(n.a)(S,2),O=w[0],j=w[1],N=u.a.useState(a),_=Object(n.a)(N,2),T=_[0],R=_[1],I=u.a.useState({cells:[]}),D=Object(n.a)(I,2),A=D[0],B=D[1],P=hc[t],M=P.title,W=u.a.useCallback((function(e){O&&(h(!0),C(e))}),[O]),z=function(){C(""),R(a),f(!1)},H=function(e){O&&(h(!0),z(),i(e))};u.a.useEffect((function(){if(o){j(!0);return xa(r,(function(e){if(O){var a=[];e.forEach((function(e){var t;e.name!==c&&(t=e.alive?e.name+"("+e.address+")":e.name+"("+P.offline+")",a.push({label:t,value:e.name,disabled:!e.alive}))})),0!==a.length?(B({cells:a}),f(!0)):W("no target cell available")}}),W),function(){j(!1)}}}),[O,o,r,c,W,P.offline]);var q,F,L=[{color:"transparent",label:P.cancel,onClick:function(){z(),s()}}];if(p){var U=[{type:"text",label:P.sourcePool,value:r,disabled:!0,oneRow:!0,xs:12,sm:8},{type:"text",label:P.sourceCell,value:c,disabled:!0,oneRow:!0,xs:12,sm:8},{type:"select",label:P.targetCell,onChange:(F="targetCell",function(e){if(O){var a=e.target.value;R((function(e){return Object(v.a)({},e,Object(X.a)({},F,a))}))}}),value:T.targetCell,options:A.cells,required:!0,oneRow:!0,xs:12,sm:10}];q=u.a.createElement(qe,{inputs:U}),L.push({color:"info",label:P.confirm,onClick:function(){var e=T.targetCell;""!==e?(C(""),h(!1),function(e,a,t,n,l,o){Za("/migrations/",{source_pool:e,source_cell:a,target_cell:t,instances:[n]},(function(){l(n)}),o)}(r,c,e,l,H,W)):W("select a target cell")}})}else q=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"xs",open:o,prompt:k,title:M,buttons:L,content:q,operatable:E})}var xc=t(547),yc={en:{title:"Batch Stopping Instance",content1:"Are you sure to stop ",content2:" instance(s)",cancel:"Cancel",confirm:"Confirm",finish:"Finish",fail:"Fail",complete:"Stopped",processing:"Stopping",instance:"Instance",result:"Result"},cn:{title:"\u6279\u91cf\u505c\u6b62\u4e91\u4e3b\u673a",content1:"\u662f\u5426\u505c\u6b62 ",content2:" \u4e2a\u4e91\u4e3b\u673a",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",finish:"\u5b8c\u6210",fail:"\u5931\u8d25",complete:"\u5df2\u505c\u6b62",processing:"\u505c\u6b62\u4e2d",instance:"\u4e91\u4e3b\u673a",result:"\u5904\u7406\u7ed3\u679c"}};function kc(e){var a,t,l=0,o=1,r=2,c=e.lang,i=e.targets,s=e.open,m=e.onSuccess,d=e.onCancel,p=u.a.useState(l),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(null),h=Object(n.a)(E,2),v=h[0],x=h[1],y=u.a.useState(!0),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(""),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState(!1),T=Object(n.a)(_,2),R=T[0],I=T[1],D=yc[c],A=D.title,B=u.a.useCallback((function(e){R&&(S(!0),N(e))}),[R]),P={color:"transparent",label:D.cancel,onClick:function(){N(""),g(l),d()}},M={color:"info",label:D.confirm,onClick:function(){if(N(""),S(!1),i&&0!==i.length){var e,a=function a(n){R&&(x(n),setTimeout((function(){qa(e,a,t,B)}),2e3))},t=function(e){R&&(x(e),r!==b&&(S(!0),g(r)))};!function(e,a,t){if(e&&0!==e.length){Ja("/batch/stop_guest/",{guest:e},(function(e,n){202===e?a(n.id):t("unexpected status "+e.toString())}),t)}else t("target is empty")}(i,(function(n){R&&(l===b&&g(o),qa(e=n,a,t,B))}),B)}else B("no target selecetd")}},W={color:"info",label:D.finish,onClick:function(){R&&(g(l),N(""),m())}},z=function(e){var a=[];return e?(e.forEach((function(e,t){"fail"===e.status?a.push({id:e.id,text:D.fail+":"+e.error}):"stopped"===e.status?a.push({id:e.id,text:D.complete}):a.push({id:e.id,text:D.processing})})),u.a.createElement(xc.a,{component:Ce.a},u.a.createElement(bn.a,null,u.a.createElement(gn.a,null,u.a.createElement(En.a,null,u.a.createElement(vn.a,null,D.instance),u.a.createElement(vn.a,null,D.result))),u.a.createElement(hn.a,null,a.map((function(e){return u.a.createElement(En.a,{key:e.id},u.a.createElement(vn.a,{component:"th",scope:"row"},e.id),u.a.createElement(vn.a,null,e.text))})))))):u.a.createElement("div",null)};switch(u.a.useEffect((function(){return I(!0),function(){return I(!1)}}),[]),b){case o:a=z(v),t=j?[P]:[];break;case r:a=z(v),t=[W];break;default:a=D.content1+i.length.toString()+D.content2,t=[P,M]}return u.a.createElement(la,{size:"sm",open:s,prompt:j,promptPosition:"top",hideBackdrop:!0,title:A,buttons:t,content:a,operatable:C})}var Cc={en:{title:"Batch Deleting Instance",content1:"Are you sure to delete ",content2:" instance(s)",cancel:"Cancel",confirm:"Confirm",finish:"Finish",fail:"Fail",complete:"Deleted",processing:"Deleting",instance:"Instance",result:"Result"},cn:{title:"\u6279\u91cf\u5220\u9664\u4e91\u4e3b\u673a",content1:"\u662f\u5426\u5220\u9664 ",content2:" \u4e2a\u4e91\u4e3b\u673a",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",finish:"\u5b8c\u6210",fail:"\u5931\u8d25",complete:"\u5df2\u5220\u9664",processing:"\u5220\u9664\u4e2d",instance:"\u4e91\u4e3b\u673a",result:"\u5904\u7406\u7ed3\u679c"}};function Sc(e){var a,t,l=0,o=1,r=2,c=e.lang,i=e.targets,s=e.open,m=e.onSuccess,d=e.onCancel,p=u.a.useState(l),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(null),h=Object(n.a)(E,2),v=h[0],x=h[1],y=u.a.useState(!0),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(""),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState(!1),T=Object(n.a)(_,2),R=T[0],I=T[1],D=Cc[c],A=D.title,B=u.a.useCallback((function(e){R&&(S(!0),N(e))}),[R]),P={color:"transparent",label:D.cancel,onClick:function(){N(""),g(l),d()}},M={color:"info",label:D.confirm,onClick:function(){if(N(""),S(!1),i&&0!==i.length){var e,a=function a(n){R&&(x(n),setTimeout((function(){Ha(e,a,t,B)}),2e3))},t=function(e){R&&(x(e),r!==b&&(S(!0),g(r)))};!function(e,a,t){if(e&&0!==e.length){Ja("/batch/delete_guest/",{guest:e},(function(e,n){202===e?a(n.id):t("unexpected status "+e.toString())}),t)}else t("target is empty")}(i,(function(n){R&&(l===b&&g(o),Ha(e=n,a,t,B))}),B)}else B("no target selecetd")}},W={color:"info",label:D.finish,onClick:function(){R&&(g(l),N(""),m())}},z=function(e){var a=[];return e?(e.forEach((function(e,t){"fail"===e.status?a.push({id:e.id,text:D.fail+":"+e.error}):"deleted"===e.status?a.push({id:e.id,text:D.complete}):a.push({id:e.id,text:D.processing})})),u.a.createElement(xc.a,{component:Ce.a},u.a.createElement(bn.a,null,u.a.createElement(gn.a,null,u.a.createElement(En.a,null,u.a.createElement(vn.a,null,D.instance),u.a.createElement(vn.a,null,D.result))),u.a.createElement(hn.a,null,a.map((function(e){return u.a.createElement(En.a,{key:e.id},u.a.createElement(vn.a,{component:"th",scope:"row"},e.id),u.a.createElement(vn.a,null,e.text))})))))):u.a.createElement("div",null)};switch(u.a.useEffect((function(){return I(!0),function(){return I(!1)}}),[]),b){case o:a=z(v),t=j?[P]:[];break;case r:a=z(v),t=[W];break;default:a=D.content1+i.length.toString()+D.content2,t=[P,M]}return u.a.createElement(la,{size:"sm",open:s,prompt:j,promptPosition:"top",hideBackdrop:!0,title:A,buttons:t,content:a,operatable:C})}var wc={en:{title:"Batch Creating Instances",rule:"Name Rule",ruleOrder:"By Order",ruleMAC:"By MAC",ruleAddress:"By Guest Address",prefix:"Prefix",count:"Create Quantity",resourcePool:"Resource Pool",core:"Core",memory:"Memory",systemDisk:"System Disk Size",dataDisk:"Data Disk Size",autoStartup:"Automatic Startup",systemVersion:"System Version",sourceImage:"Source Image",blankSystem:"Blank System",qos:"QoS Options (Optional)",cpuPriority:"CPU Priority",iops:"IOPS",outbound:"Outband Bandwidth",inbound:"Inbound Bandwidth",noDataDisk:"Don't use data disk",noLimit:"No Limit",cpuPriorityHigh:"High",cpuPriorityMedium:"Medium",cpuPriorityLow:"Low",modules:"Pre-Installed Modules",adminName:"Admin Name",adminPassword:"Admin Password",blankHelper:"Leave blank to generate",dataPath:"Data Path",off:"Off",on:"On",cancel:"Cancel",confirm:"Confirm",finish:"Finish",fail:"Fail",complete:"Created",processing:"Creating",instance:"Instance",result:"Result"},cn:{title:"\u6279\u91cf\u521b\u5efa\u4e91\u4e3b\u673a",rule:"\u5b9e\u4f8b\u547d\u540d\u89c4\u5219",ruleOrder:"\u987a\u5e8f\u9012\u589e",ruleMAC:"\u6309MAC\u5730\u5740",ruleAddress:"\u6309\u5b9e\u4f8b\u5730\u5740",prefix:"\u5b9e\u4f8b\u540d\u524d\u7f00",count:"\u521b\u5efa\u6570\u91cf",resourcePool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",core:"\u6838\u5fc3\u6570",memory:"\u5185\u5b58",systemDisk:"\u7cfb\u7edf\u78c1\u76d8\u5bb9\u91cf",dataDisk:"\u6570\u636e\u78c1\u76d8\u5bb9\u91cf",autoStartup:"\u81ea\u52a8\u542f\u52a8",systemVersion:"\u7cfb\u7edf\u7248\u672c",sourceImage:"\u6765\u6e90\u955c\u50cf",blankSystem:"\u7a7a\u767d\u7cfb\u7edf",qos:"QoS\u9009\u9879 (\u53ef\u9009)",cpuPriority:"CPU\u4f18\u5148\u7ea7",iops:"\u78c1\u76d8\u8bfb\u5199\u9650\u5236",outbound:"\u4e0a\u884c\u5e26\u5bbd",inbound:"\u4e0b\u884c\u5e26\u5bbd",noDataDisk:"\u4e0d\u4f7f\u7528\u6570\u636e\u78c1\u76d8",noLimit:"\u65e0\u9650\u5236",cpuPriorityHigh:"\u9ad8",cpuPriorityMedium:"\u4e2d",cpuPriorityLow:"\u4f4e",modules:"\u9884\u88c5\u6a21\u5757",adminName:"\u7ba1\u7406\u5458\u8d26\u53f7",adminPassword:"\u7ba1\u7406\u5458\u5bc6\u7801",blankHelper:"\u7559\u7a7a\u5219\u81ea\u52a8\u751f\u6210\u65b0\u5bc6\u7801",dataPath:"\u6302\u8f7d\u6570\u636e\u8def\u5f84",off:"\u5173\u95ed",on:"\u5f00\u542f",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",finish:"\u5b8c\u6210",fail:"\u5931\u8d25",complete:"\u521b\u5efa\u5b8c\u6210",processing:"\u521b\u5efa\u4e2d",instance:"\u4e91\u4e3b\u673a",result:"\u5904\u7406\u7ed3\u679c"}};function Oc(e){var a=0,t=1,l=2,o="order",r="MAC",c="address",i=e.lang,s=e.open,m=e.onSuccess,d=e.onCancel,p={rule:o,prefix:"",count:1,name:"",pool:"",cores:1..toString(),memory:(1<<30).toString(),system_disk:5,data_disk:0,auto_start:!1,system_template:"",from_image:"__default",modules:new Map,module_cloud_init_admin_name:"root",module_cloud_init_admin_password:"",module_cloud_init_data_path:"/opt/data",priority:"medium",iops:0,inbound:0,outbound:0},f=u.a.useState(!1),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(a),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(null),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(!0),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useState(""),I=Object(n.a)(R,2),D=I[0],A=I[1],B=u.a.useState(!1),P=Object(n.a)(B,2),M=P[0],W=P[1],z=u.a.useState(p),H=Object(n.a)(z,2),q=H[0],F=H[1],L=u.a.useState({pools:[],images:[],versions:[]}),U=Object(n.a)(L,2),V=U[0],G=U[1],$=wc[i],Z=$.title,J=u.a.useCallback((function(e){M&&(T(!0),A(e))}),[M]),Q=function(){A(""),F(p),E(!1),k(a)},Y=function(e){M&&(A(""),a===y&&k(t),za(e,K(e),ee(e),J))},K=function e(a){return function(t){M&&(O(t),setTimeout((function(){za(a,e(a),ee(a),J)}),1e3))}},ee=function(e){return function(e){M&&(O(e),l!==y&&(T(!0),k(l)))}},ae=function(e){return function(a){if(M){var t=a.target.value;F((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}},ne=function(e){return function(a,t){M&&F((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};u.a.useEffect((function(){if(s){var e=[],a=[{label:$.blankSystem,value:"__default"}],t=[];W(!0);var n=function(n){M&&(n.forEach((function(e){var a=e.id,n=e.name;t.push({label:n,value:a})})),G({pools:e,images:a,versions:t}),E(!0))},l=function(e){M&&(e.forEach((function(e){var t=e.name,n=e.id;a.push({label:t,value:n})})),Fa(n,J))};return va((function(a){M&&(a.forEach((function(a){var t=a.name;e.push({label:t,value:t})})),Ba(l,J))}),J),function(){W(!1)}}}),[M,s,$.blankSystem,J]);var le,oe,re,ce=function(e){if(M){var a=[];return e?(e.forEach((function(e,t){var n;if("fail"===e.status)n=$.fail+":"+e.error;else if("created"===e.status)n=$.complete;else{var l=e.progress;n=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:8,sm:9,md:10},u.a.createElement(Ro.a,{variant:"determinate",value:l})),u.a.createElement(Ye,{xs:4,sm:3,md:2},u.a.createElement(ie.a,{align:"center"},l.toFixed(2)+"%")))}a.push({name:e.name,content:n})})),u.a.createElement(xc.a,{component:Ce.a},u.a.createElement(bn.a,null,u.a.createElement(gn.a,null,u.a.createElement(En.a,null,u.a.createElement(vn.a,null,$.instance),u.a.createElement(vn.a,null,$.result))),u.a.createElement(hn.a,null,a.map((function(e){return u.a.createElement(En.a,{key:e.name},u.a.createElement(vn.a,{component:"th",scope:"row"},e.name),u.a.createElement(vn.a,null,e.content))})))))):u.a.createElement("div",null)}},se={color:"transparent",label:$.cancel,onClick:function(){Q(),d()}},ue={color:"info",label:$.confirm,onClick:function(){if(A(""),T(!1),q.prefix){var e=Number.parseInt(q.count);if(Number.isNaN(e))J("invalid count: "+q.count);else if(q.pool){var a=Number.parseInt(q.cores);if(Number.isNaN(a))J("invalid cores: "+q.cores);else{var t=Number.parseInt(q.memory);if(Number.isNaN(t))J("invalid memory: "+q.memory);else{var n=[q.system_disk*(1<<30)];0!==q.data_disk&&n.push(q.data_disk*(1<<30));var l,o=q.system_template;l="__default"===q.from_image?"":q.from_image;var r=[],c=!1;q.modules.forEach((function(e,a){e&&(r.push(a),"cloud-init"===a&&(c=!0))}));var i=null;c&&(i={admin_name:q.module_cloud_init_admin_name,admin_secret:q.module_cloud_init_admin_password,data_path:q.module_cloud_init_data_path});var s={cpu_priority:q.priority,write_iops:q.iops,read_iops:q.iops,receive_speed:q.inbound*(1<<17),send_speed:q.outbound*(1<<17)};!function(e,a,t,n,l,o,r,c,i,s,u,m,d,p,f){var b=sa();if(null!==b){var g={name_rule:e,count:t,owner:b.user,group:b.group,pool:n,cores:l,memory:o,disks:r,auto_start:c,from_image:i,template:s};a&&(g.name_prefix=a),u&&(g.modules=u),m&&(g.cloud_init=m),d&&(g.qos=d);Ja("/batch/create_guest/",g,(function(e,a){202===e?p(a.id):f("unexpected status "+e.toString())}),f)}else f("session expired")}(q.rule,q.prefix,e,q.pool,a,t,n,q.auto_start,l,o,r,i,s,Y,J)}}}else J("must specify target pool")}else J("prefix required")}},me={color:"info",label:$.finish,onClick:function(){M&&(Q(),m())}};if(g)switch(y){case t:le=ce(w),oe=D?[se]:[];break;case l:le=ce(w),oe=[me];break;default:oe=[se,ue];var de=[];[1,2,4,8,16].forEach((function(e){de.push(e.toString())}));var pe,fe=[];[1,2,4,8,16,32].forEach((function(e){var a,t=512*e*(1<<20);a=t>=1<<30?t/(1<<30)+" GB":t/(1<<20)+" MB",fe.push({name:a,value:t.toString()})}));var be,ge=[];[5,60,30].forEach((function(e){ge.push({value:e,label:e+" GB"})})),pe=u.a.createElement(ze.a,{color:"secondary",value:q.system_disk,max:60,min:5,step:1,valueLabelDisplay:"auto",marks:ge,onChange:ne("system_disk")});var Ee,he=[{value:0,label:$.noDataDisk},{value:10,label:"10 GB"},{value:20,label:"20 GB"}];if(be=u.a.createElement(ze.a,{color:"secondary",value:q.data_disk,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:he,onChange:ne("data_disk")}),q.system_template&&"__default"!==q.from_image){var ve,ye=[{value:"qemu",label:"QEMU-Guest-Agent"},{value:"cloud-init",label:"CloudInit"}];ve=q.modules.get("cloud-init")?u.a.createElement(Ye,{xs:12,sm:8,md:6},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},"Cloud Init Options"),u.a.createElement(cc,null,u.a.createElement(Te.a,{label:$.adminName,onChange:ae("module_cloud_init_admin_name"),value:q.module_cloud_init_admin_name,margin:"normal",fullWidth:!0})),u.a.createElement(cc,null,u.a.createElement(Te.a,{label:$.adminPassword,onChange:ae("module_cloud_init_admin_password"),helperText:$.blankHelper,margin:"normal",fullWidth:!0})),u.a.createElement(cc,null,u.a.createElement(Te.a,{label:$.dataPath,onChange:ae("module_cloud_init_data_path"),value:q.module_cloud_init_data_path,margin:"normal",disabled:!0,fullWidth:!0}))))):u.a.createElement(Ye,null),Ee=u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},$.modules),u.a.createElement(Me.a,null,u.a.createElement(Pe.a,{container:!0},ye.map((function(e){var a,t,n;return a=!!q.modules.has(e.value)&&q.modules.get(e.value),u.a.createElement(Ye,{xs:12,sm:6,md:4,key:e.value},u.a.createElement(De.a,{control:u.a.createElement(We.a,{checked:a,onChange:(t="modules",n=e.value,function(e){if(M){var a=e.target.checked;F((function(e){return Object(v.a)({},e,Object(X.a)({},t,e[t].set(n,a)))}))}}),value:e.value}),label:e.label}))}))))))),ve)}else Ee=u.a.createElement(Ye,null);le=u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},$.rule),u.a.createElement(Ie.a,{"aria-label":$.rule,name:"rule",value:q.rule,onChange:ae("rule"),row:!0},u.a.createElement(te.a,{display:"flex"},u.a.createElement(te.a,null,u.a.createElement(De.a,{value:o,control:u.a.createElement(Re.a,null),label:$.ruleOrder})),u.a.createElement(te.a,null,u.a.createElement(De.a,{value:r,control:u.a.createElement(Re.a,{disabled:!0}),label:$.ruleMAC})),u.a.createElement(te.a,null,u.a.createElement(De.a,{value:c,control:u.a.createElement(Re.a,{disabled:!0}),label:$.ruleAddress})))))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:6},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Be.a,{component:"legend"},$.count),u.a.createElement(ze.a,{color:"secondary",value:q.count,max:20,min:1,step:1,valueLabelDisplay:"auto",marks:[{value:1,label:"1"},{value:10,label:"10"},{value:20,label:"20"}],onChange:ne("count")})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:$.prefix,onChange:ae("prefix"),value:q.prefix,margin:"normal",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:10,sm:4,md:3},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(_e.a,{htmlFor:"pool"},$.resourcePool),u.a.createElement(je.a,{value:q.pool,onChange:ae("pool"),inputProps:{name:"pool",id:"pool"},required:!0,fullWidth:!0},V.pools.map((function(e,a){return u.a.createElement(xe.a,{value:e.value,key:a},e.label)})))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},$.core),u.a.createElement(Ie.a,{"aria-label":$.core,name:"cores",value:q.cores,onChange:ae("cores"),row:!0},u.a.createElement(Pe.a,{container:!0},de.map((function(e){return u.a.createElement(Ye,{xs:3,sm:2,md:1,key:e},u.a.createElement(De.a,{value:e,control:u.a.createElement(Re.a,null),label:e}))}))))))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},$.memory),u.a.createElement(Ie.a,{"aria-label":$.memory,name:"memory",value:q.memory,onChange:ae("memory"),row:!0},u.a.createElement(Pe.a,{container:!0},fe.map((function(e){return u.a.createElement(Ye,{xs:6,sm:3,md:2,key:e.value},u.a.createElement(De.a,{value:e.value,control:u.a.createElement(Re.a,null),label:e.name}))})))))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Be.a,{component:"legend"},$.systemDisk),pe))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Be.a,{component:"legend"},$.dataDisk),be))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:10,sm:6,md:5},u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(_e.a,{htmlFor:"image"},$.sourceImage),u.a.createElement(je.a,{value:q.from_image,onChange:ae("from_image"),inputProps:{name:"image",id:"image"},fullWidth:!0},V.images.map((function(e,a){return u.a.createElement(xe.a,{value:e.value,key:a},e.label)})))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:10,sm:5,md:4},u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(_e.a,{htmlFor:"version"},$.systemVersion),u.a.createElement(je.a,{value:q.system_template,onChange:ae("system_template"),inputProps:{name:"version",id:"version"},fullWidth:!0},V.versions.map((function(e,a){return u.a.createElement(xe.a,{value:e.value,key:a},e.label)})))))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:8,sm:6,md:4},u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(_e.a,{htmlFor:"auto_start"},$.autoStartup),$.off,u.a.createElement(Ne.a,{checked:q.failover,onChange:(re="auto_start",function(e){if(M){var a=e.target.checked;F((function(e){return Object(v.a)({},e,Object(X.a)({},re,a))}))}}),color:"primary",inputProps:{name:"auto_start",id:"auto_start"}}),$.on))),Ee,u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:8,md:6},u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(tc.a,null,u.a.createElement(nc.a,{expandIcon:u.a.createElement(rc.a,null)},$.qos),u.a.createElement(lc.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},$.cpuPriority),u.a.createElement(Ie.a,{"aria-label":$.cpuPriority,value:q.priority,onChange:ae("priority"),row:!0},u.a.createElement(De.a,{value:"high",control:u.a.createElement(Re.a,null),label:$.cpuPriorityHigh,key:"high"}),u.a.createElement(De.a,{value:"medium",control:u.a.createElement(Re.a,null),label:$.cpuPriorityMedium,key:"medium"}),u.a.createElement(De.a,{value:"low",control:u.a.createElement(Re.a,null),label:$.cpuPriorityLow,key:"low"}))))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(Be.a,{component:"legend"},$.iops),u.a.createElement(ze.a,{color:"secondary",value:q.iops,max:2e3,min:0,step:10,valueLabelDisplay:"auto",marks:[{value:0,label:$.noLimit},{value:2e3,label:2e3}],onChange:ne("iops")}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(Be.a,{component:"legend"},$.inbound),u.a.createElement(ze.a,{color:"secondary",value:q.inbound,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:$.noLimit},{value:20,label:"20 Mbit/s"}],onChange:ne("inbound")}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(Be.a,{component:"legend"},$.outbound),u.a.createElement(ze.a,{color:"secondary",value:q.outbound,max:20,min:0,step:2,valueLabelDisplay:"auto",marks:[{value:0,label:$.noLimit},{value:20,label:"20 Mbit/s"}],onChange:ne("outbound")}))))))))))}else le=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),oe=[se];return u.a.createElement(la,{size:"md",open:s,prompt:D,promptPosition:"top",hideBackdrop:!0,title:Z,buttons:oe,content:le,operatable:_})}var jc=Object(h.a)({cardCategoryWhite:{"&,& a,& a:hover,& a:focus":{color:"rgba(255,255,255,.62)",margin:"0",fontSize:"14px",marginTop:"0",marginBottom:"0"},"& a,& a:hover,& a:focus":{color:"#FFFFFF"}},cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),Nc={en:{createButton:"Create New Instance",batchCreate:"Batch Create",batchDelete:"Batch Delete",batchStop:"Batch Stop",enterBatch:"Enter Batch Mode",exitBatch:"Exit Batch Mode",tableTitle:"Cloud Instances",name:"Name",cell:"Host Cell",address:"Address",core:"Core",memory:"Memory",disk:"Disk",status:"Status",operates:"Operates",noResource:"No instances available",computePools:"Compute Pools"},cn:{createButton:"\u521b\u5efa\u4e91\u4e3b\u673a",batchCreate:"\u6279\u91cf\u521b\u5efa",batchDelete:"\u6279\u91cf\u5220\u9664",batchStop:"\u6279\u91cf\u505c\u6b62",enterBatch:"\u8fdb\u5165\u6279\u91cf\u6a21\u5f0f",exitBatch:"\u9000\u51fa\u6279\u91cf\u6a21\u5f0f",tableTitle:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",name:"\u540d\u79f0",cell:"\u627f\u8f7d\u8282\u70b9",address:"\u5730\u5740",core:"\u6838\u5fc3",memory:"\u5185\u5b58",disk:"\u78c1\u76d8",status:"\u72b6\u6001",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u4e91\u4e3b\u673a\u5b9e\u4f8b",computePools:"\u8ba1\u7b97\u8d44\u6e90\u6c60"}};function _c(e){var a=jc(),t=u.a.useState(null),l=Object(n.a)(t,2),o=l[0],r=l[1],c=u.a.useState(new Map),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=Object(E.g)(),h=new URLSearchParams(g.search),v=h.get("pool"),x=h.get("cell"),y=u.a.useState(!1),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(!1),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState(!1),T=Object(n.a)(_,2),R=T[0],I=T[1],D=u.a.useState(!1),A=Object(n.a)(D,2),B=A[0],P=A[1],M=u.a.useState(!1),W=Object(n.a)(M,2),z=W[0],H=W[1],q=u.a.useState(!1),F=Object(n.a)(q,2),L=F[0],U=F[1],V=u.a.useState(!1),G=Object(n.a)(V,2),$=G[0],Z=G[1],J=u.a.useState(!1),Q=Object(n.a)(J,2),Y=Q[0],K=Q[1],X=u.a.useState(!1),ee=Object(n.a)(X,2),ae=ee[0],ne=ee[1],le=u.a.useState(!1),oe=Object(n.a)(le,2),re=oe[0],ce=oe[1],se=u.a.useState(""),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],pe=u.a.useState(""),fe=Object(n.a)(pe,2),be=fe[0],ge=fe[1],he=u.a.useState(""),ve=Object(n.a)(he,2),xe=ve[0],ye=ve[1],ke=u.a.useState("warning"),Ce=Object(n.a)(ke,2),Se=Ce[0],we=Ce[1],je=u.a.useState(""),Ne=Object(n.a)(je,2),_e=Ne[0],Te=Ne[1],Re=function(){Te("")},Ie=u.a.useCallback((function(e){we("warning"),Te(e),setTimeout(Re,3e3)}),[we,Te]),De=function(e){we("info"),Te(e),Ua(e),setTimeout(Re,3e3)},Ae=u.a.useCallback((function(){wa(v,x,(function(e){var a=s,t=!1;if(e){r(e);var n=[];a.forEach((function(a,t){e.some((function(e){return e.id===t}))||n.push(t)})),e.forEach((function(e){var n=e.id;a.has(n)||(a.set(n,!1),t||(t=!0))})),0!==n.length&&n.forEach((function(e){a.delete(e),t||(t=!0)}))}else r([]),0!==a.size&&(a.clear(),t=!0);t&&m(new Map(a))}),(function(e){Ie(e),ua()}))}),[v,x,s,Ie]),Be=function(e){N(!0),de(e)},Pe=function(){N(!1)},Me=function(e){I(!0),de(e)},ze=function(){I(!1)},He=function(e){P(!0),de(e)},qe=function(){P(!1)},Fe=function(e){H(!0),de(e)},Le=function(){H(!1)},Ue=function(e){U(!0),de(e)},Ve=function(){U(!1)},Ge=function(e,a,t){Z(!0),de(e),ge(a),ye(t)},$e=function(){Z(!1)},Ze=function(){S(!1)},Je=function(){K(!1)},Qe=function(){ne(!1)},Ke=function(){ce(!1)},Xe=function(){Ae()},ea=function(e,a){var t=new Map(s);t.set(a,e),m(t)};if(u.a.useEffect((function(){var e=!0;Ae();var a=setInterval((function(){e&&Ae()}),5e3);return function(){e=!1,clearInterval(a)}}),[Ae]),!v)return console.log("pool name omit"),ma();if(null===sa())return ma();var aa,ta=e.lang,na=Nc[ta];if(null===o)aa=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});else if(0===o.length)aa=u.a.createElement(mn,null,na.noResource);else{var la;la=f?u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,null,u.a.createElement(We.a,{onChange:function(e){var a=e.target.checked,t=new Map,n=!0,l=!1,o=void 0;try{for(var r,c=s.keys()[Symbol.iterator]();!(n=(r=c.next()).done);n=!0){var i=r.value;t.set(i,a)}}catch(u){l=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(l)throw o}}m(t)}})),u.a.createElement(te.a,null,na.name)):na.name,aa=u.a.createElement(Cr,{color:"primary",headers:[la,na.cell,na.address,na.core,na.memory,na.disk,na.status,na.operates],rows:o.map((function(e){var a=e.id;return u.a.createElement(Xr,{key:e.id,instance:e,lang:ta,checked:!(!s||!s.has(a))&&s.get(a),checkable:f,onCheckStatusChanged:ea,onNotify:De,onError:Ie,onDelete:Be,onMediaStart:Me,onInsertMedia:He,onResetSystem:Fe,onBuildImage:Ue,onStatusChange:Xe,onMigrateInstance:Ge})}))})}var oa=[u.a.createElement(yt.a,{to:"/admin/compute_pools/",key:na.computePools},na.computePools)];x?(oa.push(u.a.createElement(yt.a,{to:"/admin/instances/range/?pool="+v,key:v},v)),oa.push(u.a.createElement(ie.a,{color:"textPrimary",key:x},x))):oa.push(u.a.createElement(ie.a,{color:"textPrimary",key:v},v));var ra=[{label:na.createButton,icon:It.a,color:"info",onClick:function(){S(!0)}},{label:na.batchCreate,icon:vr.a,color:"info",onClick:function(){ce(!0)}}];f?ra.push({label:na.batchDelete,icon:qt.a,color:"danger",onClick:function(){ne(!0)}},{label:na.batchStop,icon:Er.a,color:"info",onClick:function(){K(!0)}},{label:na.exitBatch,icon:yr.a,color:"success",onClick:function(){b(!1)}}):ra.push({label:na.enterBatch,icon:$l.a,color:"info",onClick:function(){var e=new Map,a=!0,t=!1,n=void 0;try{for(var l,o=s.keys()[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var r=l.value;e.set(r,!1)}}catch(c){t=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(t)throw n}}m(e),b(!0)}});var ca=[];return s&&(s.forEach((function(e,a){e&&ca.push(a)})),ca.sort()),u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Dt.a,{separator:"\u203a","aria-label":"breadcrumb"},oa)),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},ra.map((function(e,a){var t=e.label,n=e.color,l=e.icon,o=e.onClick;return u.a.createElement(te.a,{key:a,m:1},u.a.createElement(Ee,{size:"sm",color:n,round:!0,onClick:o},u.a.createElement(l),t))})))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:a.cardTitleWhite},na.tableTitle)),u.a.createElement(sn,null,aa))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:Se,message:_e,open:""!==_e,closeNotification:Re,close:!0})),u.a.createElement(Ye,null,u.a.createElement(sc,{lang:ta,open:C,onSuccess:function(e){Ze(),De("new instance "+e+" created"),Ae()},onCancel:Ze})),u.a.createElement(Ye,null,u.a.createElement(ac,{lang:ta,instanceID:me,open:j,onSuccess:function(e){Pe(),De("instance "+e+" deleted"),Ae()},onCancel:Pe})),u.a.createElement(Ye,null,u.a.createElement(mc,{lang:ta,instanceID:me,open:R,onSuccess:function(e){ze(),De("instance "+e+" started with media"),Ae()},onCancel:ze})),u.a.createElement(Ye,null,u.a.createElement(pc,{lang:ta,instanceID:me,open:B,onSuccess:function(e){qe(),De("instance "+e+" started with media"),Ae()},onCancel:qe})),u.a.createElement(Ye,null,u.a.createElement(Ec,{lang:ta,instanceID:me,open:z,onSuccess:function(e){Le(),De("guest system of "+e+" reset")},onCancel:Le})),u.a.createElement(Ye,null,u.a.createElement(bc,{lang:ta,instanceID:me,open:L,onSuccess:function(e){Ve(),De("new image "+e+" created from "+me)},onCancel:Ve})),u.a.createElement(Ye,null,u.a.createElement(vc,{lang:ta,instanceID:me,sourcePool:be,sourceCell:xe,open:$,onSuccess:function(e){$e(),De("instance "+e+" migrated"),Ae()},onCancel:$e})),u.a.createElement(Ye,null,u.a.createElement(kc,{lang:ta,open:Y,targets:Y?ca:[],onSuccess:function(){Je(),Ae()},onCancel:Je})),u.a.createElement(Ye,null,u.a.createElement(Sc,{lang:ta,open:ae,targets:ae?ca:[],onSuccess:function(){Qe(),Ae()},onCancel:Qe})),u.a.createElement(Ye,null,u.a.createElement(Oc,{lang:ta,open:re,onSuccess:function(){Ke(),Ae()},onCancel:Ke})))}var Tc=t(264),Rc=t.n(Tc),Ic=t(263),Dc=t.n(Ic);function Ac(e){var a=e.url,t=e.password,l=e.bindFuncs,o=u.a.useState(null),r=Object(n.a)(o,2),c=r[0],i=r[1],s=u.a.useState(null),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(!1),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useCallback((function(){g&&d&&d.sendCtrlAltDel()}),[g,d]),v=u.a.useCallback((function(){d&&(d.disconnect(),p(null))}),[d]),x=u.a.useCallback((function(){if(d&&v(),c){var e={credentials:{password:t},focusOnClick:!0},n=new Dc.a(c,a,e);n.focus(),p(n)}}),[d,c,v,t,a]);return u.a.useEffect((function(){if(c&&!d)return E(!0),x(),function(){v(),E(!1)}}),[c,x,v,d]),l(h),u.a.createElement("div",{ref:function(e){i(e)},onMouseEnter:function(){d&&d.focus()},onMouseLeave:function(){d&&d.blur()}})}var Bc={en:{instance:"Instance",sendKeys:"Send Ctrl+Alt+Delete",stop:"Stop Instance",reboot:"Reboot Instance",reset:"Reset Instance",insertMedia:"Insert Media",ejectMedia:"Eject Media"},cn:{instance:"\u4e91\u4e3b\u673a",sendKeys:"\u53d1\u9001 Ctrl+Alt+Delete",stop:"\u505c\u6b62\u4e91\u4e3b\u673a",reboot:"\u91cd\u542f\u4e91\u4e3b\u673a",reset:"\u5f3a\u5236\u91cd\u542f\u4e91\u4e3b\u673a",insertMedia:"\u63d2\u5165\u5149\u76d8\u955c\u50cf",ejectMedia:"\u5f39\u51fa\u5149\u76d8\u955c\u50cf"}};function Pc(e){var a=e.match.params.id,t=u.a.useState(null),l=Object(n.a)(t,2),o=l[0],r=l[1],c=u.a.useState(null),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState("warning"),E=Object(n.a)(g,2),h=E[0],v=E[1],x=u.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=function(){C("")},w=u.a.useCallback((function(e){v("warning"),C(e),setTimeout(S,3e3)}),[v,C]),O=function(e){v("info"),C(e),Ua(e),setTimeout(S,3e3)},j=u.a.useCallback((function(e){w(e)}),[w]),N=function(){b(!1)};u.a.useEffect((function(){Oa(a,(function(e){!function(e,a,t){Za("/monitor_channels/",{guest:e},(function(e){a(e.id,e.password)}),t)}(a,(function(a,t){var n={name:e.name,pool:e.pool,cell:e.cell,channel:a,password:t,delegate:{}};r(n)}),j)}),j)}),[a,j]);var _,T,R=e.lang,I=Bc[R];if(null===o)_=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),T=u.a.createElement(te.a,null);else{var D=function(e){var a=ba+"/monitor_channels/"+e;if(a.startsWith("ws://"))return a;if(a.startsWith("http://"))return a.replace("http://","ws://");if(a.startsWith("https://"))return a.replace("https://","ws://");var t="ws://"+window.location.hostname;return window.location.port&&(t+=":"+window.location.port),t+a}(o.channel);_=u.a.createElement(Ac,{url:D,password:o.password,bindFuncs:function(e){m(e)}});var A=[{tips:I.sendKeys,icon:Rc.a,handler:function(){s&&s()}},{tips:I.insertMedia,icon:Vr.a,handler:function(){b(!0)}},{tips:I.ejectMedia,icon:$r.a,handler:function(){Na(a,(function(){O("media of instance "+o.name+" ejected")}),j)}},{tips:I.stop,icon:Er.a,handler:function(){_a(a,(function(){O("instance "+o.name+" stopped")}),j)}},{tips:I.reboot,icon:qr.a,handler:function(){Ta(a,(function(){O("instance "+o.name+" reboot")}),j)}},{tips:I.reset,icon:Lr.a,handler:function(){Ra(a,(function(){O("instance "+o.name+" reset")}),j)}}];T=u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,{flexGrow:1,fontWeight:"fontWeightBold",letterSpacing:10},u.a.createElement(ie.a,{component:"span"},I.instance+": "+o.name)),A.map((function(e,a){return u.a.createElement(te.a,{key:a},u.a.createElement(re.a,{title:e.tips,placement:"top"},u.a.createElement(ce.a,{color:"inherit",onClick:e.handler},u.a.createElement(e.icon))))})))}return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},T),u.a.createElement(sn,null,_))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:h,message:k,open:""!==k,closeNotification:S,close:!0})),u.a.createElement(Ye,null,u.a.createElement(pc,{lang:R,instanceID:a,open:f,onSuccess:function(){N(),O("media insert into instance "+o.name)},onCancel:N})))}var Mc={en:{title:"Instance",cores:"Cores",memory:"Memory",disks:"Disk",autoStartup:"Auto Startup",internalAddress:"Internal Address",externalAddress:"External Address",ioUsage:"IO Usage",stopped:"Stopped ",running:"Running ",used:"Used ",available:"Available ",coresUsed:"Cores Used",throughput:"Throughput",receive:"Receive ",send:"Send ",write:"Write ",read:"Read ",flags:"Running Flags",mediaAttached:"Media Attached"},cn:{title:"\u4e91\u4e3b\u673a",cores:"\u6838\u5fc3\u6570",memory:"\u5185\u5b58",disks:"\u78c1\u76d8",autoStartup:"\u5f00\u673a\u542f\u52a8",internalAddress:"\u5185\u90e8\u5730\u5740",externalAddress:"\u5916\u90e8\u5730\u5740",ioUsage:"IO\u541e\u5410\u91cf",stopped:"\u505c\u6b62",running:"\u8fd0\u884c",used:"\u5df2\u7528",available:"\u53ef\u7528",coresUsed:"\u6838\u5fc3\u5df2\u5360\u7528",throughput:"\u541e\u5410\u91cf",receive:"\u63a5\u6536",send:"\u53d1\u9001",write:"\u5199\u5165",read:"\u8bfb\u53d6",flags:"\u8fd0\u884c\u6807\u5fd7",mediaAttached:"\u5df2\u6302\u8f7d\u5a92\u4f53"}},Wc={borderRadius:"3px",marginTop:"-20px",padding:"15px"},zc=Object(v.a)({},Gn,{},Z,{cardWithDivider:{borderTop:"1px solid "+T[10]},coresChart:Object(v.a)({},Wc,{background:j[0]}),memoryChart:Object(v.a)({},Wc,{background:N[0]}),networkChart:Object(v.a)({},Wc,{background:w[0]}),diskChart:Object(v.a)({},Wc,{background:_[0]}),disableChart:Object(v.a)({},Wc,{background:T[5]})}),Hc=Object(h.a)(zc),qc=function(e){var a,t,n,l=e.lang,o=e.status,r=Hc(),c=Mc[l];if(a=o.running?u.a.createElement(ie.a,{component:"span",className:r.cardTitle},u.a.createElement(wr.a,{className:r.successText}),c.title+": "+o.name+" ( "+c.running+" )"):u.a.createElement(ie.a,{component:"span",className:r.cardTitle},u.a.createElement(jr.a,{className:r.mutedText}),c.title+": "+o.name+" ( "+c.stopped+" )"),o.running){var i={label:c.coresUsed,color:I,data:[]},s=0;o.coreRecords.forEach((function(e){i.data.push(e.current),s=Math.max(s,e.max)}));var m=u.a.createElement(Ye,{xs:8,sm:6,md:3,key:"cores-usage"},u.a.createElement(te.a,{m:0,p:0,className:r.coresChart,boxShadow:2},u.a.createElement(Zn,{series:[i],minTickStep:1,maxValue:100,maxTicks:5,displayValue:function(e){return e.toString()+"%"}}))),d={label:c.used+c.memory,color:T[4],data:[]},p={label:c.available+c.memory,color:j[1],data:[]};o.memoryRecords.forEach((function(e){d.data.push(e.used),p.data.push(e.available)}));var f=u.a.createElement(Ye,{xs:8,sm:6,md:3,key:"memory-usage"},u.a.createElement(te.a,{m:0,p:0,className:r.memoryChart,boxShadow:2},u.a.createElement(Qn,{series:[d,p],minTickStep:1024,displayValue:function(e){return 0===e?"0":e>=1024?0===e%1024?(e/1024).toString()+" GB":(e/1024).toFixed(2)+" GB":e.toString()+" MB"}}))),b={label:c.receive+c.throughput,color:N[3],data:[]},g={label:c.send+c.throughput,color:S[1],data:[]};o.networkSpeed.forEach((function(e){b.data.push(fa(e.receive/(1<<20),2)),g.data.push(fa(e.send/(1<<20),2))}));var E=function(e){return e>=1024?0===e%1024?(e/1024).toString()+" GB/s":(e/1024).toFixed(2)+" GB/s":Number.isInteger(e)?e.toString()+" MB/s":e.toFixed(2)+" MB/s"},h=[b,g],v=u.a.createElement(Ye,{xs:8,sm:6,md:3,key:"network-usage"},u.a.createElement(te.a,{m:0,p:0,className:r.networkChart,boxShadow:2},u.a.createElement(Kn,{series:h,displayValue:E,minTickStep:1}))),x={label:c.write+c.throughput,color:j[1],data:[]},y={label:c.read+c.throughput,color:N[3],data:[]};o.diskSpeed.forEach((function(e){x.data.push(fa(e.write/(1<<20),2)),y.data.push(fa(e.read/(1<<20),2))}));var k=[x,y];t=[m,f,v,u.a.createElement(Ye,{xs:8,sm:6,md:3,key:"io-usage"},u.a.createElement(te.a,{m:0,p:0,className:r.diskChart,boxShadow:2},u.a.createElement(Kn,{series:k,displayValue:E,minTickStep:1})))];var C=u.a.createElement(te.a,{m:1,p:2,key:"core-label"},u.a.createElement(ie.a,{component:"span",className:r.cardTitle},c.cores+": "),u.a.createElement(ie.a,{component:"span"},o.cores)),w=u.a.createElement(te.a,{m:1,p:2,key:"memory-label"},u.a.createElement(ie.a,{component:"span",className:r.cardTitle},c.memory+": "),u.a.createElement(ie.a,{component:"span"},da(o.memory))),O=[];o.disks.forEach((function(e){O.push(da(e))}));var _=u.a.createElement(te.a,{m:1,p:2,key:"disk-label"},u.a.createElement(ie.a,{component:"span",className:r.cardTitle},c.disks+": "),u.a.createElement(ie.a,{component:"span"},O.join(" / "))),R=u.a.createElement(te.a,{m:1,p:2,key:"internal-label"},u.a.createElement(ie.a,{component:"span",className:r.cardTitle},c.internalAddress+": "),u.a.createElement(ie.a,{component:"span"},o.internal&&o.internal.network_address?o.internal.network_address:"")),D=u.a.createElement(te.a,{m:1,p:2,key:"external-label"},u.a.createElement(ie.a,{component:"span",className:r.cardTitle},c.externalAddress+": "),u.a.createElement(ie.a,{component:"span"},o.external&&o.external.network_address?o.external.network_address:"")),A=[];o.auto_start&&A.push(u.a.createElement(re.a,{title:c.autoStartup,placement:"top",key:c.autoStartup},u.a.createElement(Jr.a,{className:r.infoText}))),o.media_attached&&A.push(u.a.createElement(re.a,{title:c.mediaAttached,placement:"top",key:c.mediaAttached},u.a.createElement(Yr.a,{className:r.infoText}))),n=[C,w,_,R,D,u.a.createElement(te.a,{m:1,p:2,key:"flag-label"},u.a.createElement(ie.a,{component:"span",className:r.cardTitle},c.flags+": "),A)]}else t=new Array(4).fill(u.a.createElement(Ye,{xs:8,sm:6,md:3},u.a.createElement(te.a,{m:0,p:0,className:r.disableChart,boxShadow:2}))),n=[];return u.a.createElement(tn,{chart:!0},u.a.createElement(on,null,u.a.createElement(Xt,null,t)),u.a.createElement(sn,null,a,u.a.createElement(te.a,{m:0,p:0,className:r.cardWithDivider,display:"flex",alignItems:"center"},n)))};function Fc(e){var a,t,l=e.match.params.id,o=u.a.useState(!1),r=Object(n.a)(o,2),c=r[0],i=r[1],s=u.a.useState(!1),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(null),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(""),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useCallback((function(){k("")}),[k]),S=u.a.useCallback((function(e){if(d){k(e),setTimeout(C,3e3)}}),[k,C,d]);if(u.a.useEffect((function(){p(!0);var e,a,t,n=new Array(5).fill({current:0,max:0}),o=new Array(5).fill({available:0,used:0}),r=new Array(5).fill({receive:0,send:0}),c=new Array(5).fill({write:0,read:0}),s=new Array(5).fill({receive:0,send:0}),u=new Array(5).fill({write:0,read:0}),m=!1,f=function(e){if(d){var l,p;if(n.shift(),n.push({current:fa(e.cpu_usage,2),max:e.cores}),e.memory_available>e.memory?(S("abnormal available memory, "+e.memory_available+" > allocated "+e.memory),p=e.memory,l=0):(p=e.memory_available,l=e.memory-e.memory_available),o.shift(),o.push({available:fa(p/(1<<20),2),used:fa(l/(1<<20),2)}),r.shift(),r.push({receive:e.bytes_received,send:e.bytes_sent}),c.shift(),c.push({write:e.bytes_written,read:e.bytes_read}),m){var f=(r[r.length-1].receive-r[r.length-2].receive)/2,b=(r[r.length-1].send-r[r.length-2].send)/2,g=(c[c.length-1].write-c[c.length-2].write)/2,h=(c[c.length-1].read-c[c.length-2].read)/2;s.shift(),s.push({receive:f,send:b}),u.shift(),u.push({write:g,read:h})}else m=!0;var x=Object(v.a)({},e,{pool:a,cell:t,coreRecords:n,memoryRecords:o,networkRecords:r,diskRecords:c,networkSpeed:s,diskSpeed:u});E(x),i(!0)}};return Oa(l,(function(n){if(d){a=n.pool,t=n.cell,ja(l,f,S);e=setInterval((function(){d&&ja(l,f,S)}),2e3)}}),S),function(){p(!1),e&&clearInterval(e)}}),[l,S,d,c]),c){a=u.a.createElement(Ye,{xs:12},u.a.createElement(qc,{status:g,lang:e.lang}));var w=[u.a.createElement(yt.a,{to:"/admin/instances/range/?pool="+g.pool,key:g.pool},g.pool),u.a.createElement(yt.a,{to:"/admin/instances/range/?pool="+g.pool+"&cell="+g.cell,key:g.cell},g.cell),u.a.createElement(ie.a,{color:"textPrimary",key:g.name},g.name)];t=u.a.createElement(Dt.a,{separator:"\u203a","aria-label":"breadcrumb"},w)}else a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),t=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},t),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),a,u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:"warning",message:y,open:""!==y,closeNotification:C,close:!0})))}var Lc=t(549),Uc=t(548),Vc=t(268),Gc=t.n(Vc),$c=t(267),Zc=t.n($c),Jc=t(265),Qc=t.n(Jc),Yc=t(266),Kc=t.n(Yc),Xc=t(269),ei=t.n(Xc),ai=t(193),ti={en:{title:"Create Snapshot",name:"Name",description:"Description",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u4e91\u4e3b\u673a\u5feb\u7167",name:"\u540d\u79f0",description:"\u63cf\u8ff0",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ni(e){var a={name:"",description:""},t=e.lang,l=e.open,o=e.instanceID,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(""),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(a),h=Object(n.a)(E,2),x=h[0],y=h[1],k=ti[t],C=k.title,S=function(e){d(!0),g(e)},w=function(){g(""),y(a)},O=function(e){d(!0),w(),r(e)},j=function(e){return function(a){var t=a.target.value;y((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},N=[{type:"text",label:k.name,onChange:j("name"),value:x.name,required:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"text",label:k.description,onChange:j("description"),value:x.description,required:!0,oneRow:!0,xs:12,sm:10,md:8}],_=u.a.createElement(qe,{inputs:N}),T=[{color:"transparent",label:k.cancel,onClick:function(){w(),c()}},{color:"info",label:k.confirm,onClick:function(){g(""),d(!1),x.name?x.description?function(e,a,t,n,l){Za("/instances/"+e+"/snapshots/",{name:a,description:t},(function(){n(a,e)}),l)}(o,x.name,x.description,O,S):S("must specify description"):S("must specify snapshot name")}}];return u.a.createElement(la,{size:"sm",open:l,prompt:b,title:C,buttons:T,content:_,operatable:m})}var li={en:{title:"Delete Snapshot",content:"Are you sure to delete snapshot ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u4e91\u4e3b\u673a\u5feb\u7167",content:"\u662f\u5426\u5220\u9664\u4e91\u4e3b\u673a\u5feb\u7167 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function oi(e){var a=e.lang,t=e.instanceID,l=e.snapshotName,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(""),f=Object(n.a)(p,2),b=f[0],g=f[1],E=li[a],h=E.title,v=E.content+l,x=function(e){d(!0),g(e)},y=function(){d(!0),g(""),r(l)},k=[{color:"transparent",label:E.cancel,onClick:function(){g(""),c()}},{color:"info",label:E.confirm,onClick:function(){d(!1),function(e,a,t,n){Ka("/instances/"+e+"/snapshots/"+a,(function(){t(a,e)}),n)}(t,l,y,x)}}];return u.a.createElement(la,{size:"sm",open:o,prompt:b,title:h,buttons:k,content:v,operatable:m})}var ri={en:{title:"Revert Snapshot",content:"Are you sure to revert snapshot ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6062\u590d\u4e91\u4e3b\u673a\u5feb\u7167",content:"\u662f\u5426\u6062\u590d\u4e91\u4e3b\u673a\u5feb\u7167 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ci(e){var a=e.lang,t=e.instanceID,l=e.snapshotName,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(""),f=Object(n.a)(p,2),b=f[0],g=f[1],E=ri[a],h=E.title,v=E.content+l,x=function(e){d(!0),g(e)},y=function(){d(!0),g(""),r(l)},k=[{color:"transparent",label:E.cancel,onClick:function(){g(""),c()}},{color:"info",label:E.confirm,onClick:function(){d(!1),function(e,a,t,n){Ya("/instances/"+e+"/snapshots/",{target:a},(function(){t(a,e)}),n)}(t,l,y,x)}}];return u.a.createElement(la,{size:"sm",open:o,prompt:b,title:h,buttons:k,content:v,operatable:m})}var ii={panel:{background:t.n(ai).a[100]}},si={en:{title:"Snapshots of ",noResource:"No snapshots created",back:"Back",create:"Create New Snapshot",delete:"Delete",revert:"Revert",current:"Current",name:"Name",description:"Description",createdTime:"Created Time",type:"Type",offline:"Offline Snapshot",realtime:"Realtime Snapshot"},cn:{title:"\u4e91\u4e3b\u673a\u5feb\u7167:",noResource:"\u5c1a\u672a\u521b\u5efa\u4e91\u4e3b\u673a\u5feb\u7167",back:"\u8fd4\u56de",create:"\u521b\u5efa\u65b0\u5feb\u7167",delete:"\u5220\u9664",revert:"\u6062\u590d",current:"\u5f53\u524d",name:"\u5feb\u7167\u540d\u79f0",description:"\u63cf\u8ff0",createdTime:"\u521b\u5efa\u65f6\u95f4",type:"\u7c7b\u578b",offline:"\u79bb\u7ebf\u5feb\u7167",realtime:"\u5b9e\u65f6\u5feb\u7167"}};function ui(e){var a=Object(h.a)(ii)(),t=e.match.params.id,l=u.a.useState(null),o=Object(n.a)(l,2),r=o[0],c=o[1],i=u.a.useState(null),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!1),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(!1),x=Object(n.a)(E,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState("warning"),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useState(""),I=Object(n.a)(R,2),D=I[0],A=I[1],B=function(){A("")},P=u.a.useCallback((function(e){T("warning"),A(e),setTimeout(B,3e3)}),[T,A]),M=function(e){T("info"),A(e),Ua(e),setTimeout(B,3e3)},W=u.a.useCallback((function(e){P(e)}),[P]),z=u.a.useCallback((function(e,a,t){var n=[];return t.get(e).forEach((function(e){var l={name:e};a===e&&(l.isCurrent=!0),t.has(e)&&(l.children=z(e,a,t)),n.push(l)})),n}),[]),H=u.a.useCallback((function(e){!function(e,a,t){Ga("/instances/"+e+"/snapshots/",a,t)}(t,(function(a){var t="",n="",l={},o=new Map;if(Object.keys(a).forEach((function(e){o.set(e,a[e])})),0!==o.length){var r=new Map;o.forEach((function(e,a){if(e.is_root&&(t=a),e.is_current&&(n=a),e.backing){var l=e.backing;r.has(l)?r.get(l).push(a):r.set(l,[a])}})),""!==t&&(l.name=t,t===n&&(l.isCurrent=!0),r.has(t)&&(l.children=z(t,n,r)))}c(e?{name:e,rootName:t,current:n,rootNode:l}:function(e){return Object(v.a)({},e,{rootName:t,current:n,rootNode:l})})}),W)}),[t,W,z]),q=function(){g(!1)},F=function(){k(!1)},L=function(){O(!1)},U=function(e){!function(e,a,t,n){Ga("/instances/"+e+"/snapshots/"+a,t,n)}(t,e,(function(a){d(Object(v.a)({},a,{name:e}))}),W)};if(u.a.useEffect((function(){Oa(t,(function(e){H(e.name)}),W)}),[t,W,H]),null===sa())return ma();var V,G,$=e.lang,Z=si[$],J=[];if(null===r)V=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),G="";else{if(""===r.rootName)V=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},Z.noResource);else{var Q,Y=[],K=function e(a){var t;t=a.isCurrent?a.name+"( "+Z.current+" )":a.name,Y.push(a.name);var n={nodeId:a.name,label:t,key:a.name,onClick:function(e){e.preventDefault(),U(a.name)}};if(a.name===r.rootName?n.icon=u.a.createElement(Qc.a,null):a.name===r.current&&(n.icon=u.a.createElement(Kc.a,null)),a.children){var l=[];a.children.forEach((function(a){l.push(e(a))})),n.children=l}return u.a.createElement(Uc.a,n)}(r.rootNode),X=u.a.createElement(Lc.a,{defaultCollapseIcon:u.a.createElement(Zc.a,null),defaultExpandIcon:u.a.createElement(Gc.a,null),defaultEndIcon:u.a.createElement(Rr.a,null),defaultExpanded:Y},K);if(m){var ee=[{title:Z.name,value:m.name},{title:Z.description,value:m.description},{title:Z.createdTime,value:m.create_time},{title:Z.type,value:m.running?Z.realtime:Z.offline}],ae=[u.a.createElement(Ee,{size:"sm",color:"info",onClick:function(){O(!0)}},u.a.createElement(ei.a,null),Z.revert),u.a.createElement(Ee,{size:"sm",color:"info",onClick:function(){k(!0)}},u.a.createElement(qt.a,null),Z.delete)];Q=u.a.createElement(Ce.a,{className:a.panel},u.a.createElement(te.a,{p:2,m:1},u.a.createElement(bn.a,{size:"small"},u.a.createElement(hn.a,null,ee.map((function(e){return u.a.createElement(En.a,{key:e.title},u.a.createElement(vn.a,{component:"th"},u.a.createElement(ie.a,{component:"span",variant:"subtitle1"},e.title)),u.a.createElement(vn.a,null,u.a.createElement(ie.a,{component:"span"},e.value)))}))))),u.a.createElement(te.a,{display:"flex",m:2},ae.map((function(e,a){return u.a.createElement(te.a,{key:a,m:2,p:1},e)}))))}else Q=u.a.createElement("div",null);V=u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12,sm:6},X),u.a.createElement(Ye,{xs:12,sm:6},Q))}G=Z.title+r.name,J=[u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){e.history.goBack()}},u.a.createElement(lo.a,null),Z.back),u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){g(!0)}},u.a.createElement(It.a,null),Z.create)]}return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},J.map((function(e,a){return u.a.createElement(te.a,{key:a,pl:2,pr:2},e)})))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},G),u.a.createElement(sn,null,V))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:_,message:D,open:""!==D,closeNotification:B,close:!0})),u.a.createElement(Ye,null,u.a.createElement(ni,{lang:$,open:b,instanceID:t,onSuccess:function(e){q(),M("new snapshot "+e+" created for "+r.name),H()},onCancel:q})),u.a.createElement(Ye,null,u.a.createElement(oi,{lang:$,open:y,instanceID:t,snapshotName:m?m.name:"",onSuccess:function(e){F(),M("snapshot "+e+" deleted"),H()},onCancel:F})),u.a.createElement(Ye,null,u.a.createElement(ci,{lang:$,open:w,instanceID:t,snapshotName:m?m.name:"",onSuccess:function(e){L(),M("restored to snapshot "+e),H()},onCancel:L})))}var mi=t(550),di=t(197),pi=t.n(di),fi=t(198),bi=t.n(fi),gi=t(200),Ei=t.n(gi),hi=t(201),vi=t.n(hi),xi=t(199),yi=t.n(xi),ki={en:{title:"Modify Instance Name",current:"Current Name",new:"New Name",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u4e91\u4e3b\u673a\u540d\u79f0",current:"\u5f53\u524d\u4e91\u4e3b\u673a\u540d",new:"\u65b0\u4e3b\u673a\u540d",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ci(e){var a={name:""},t=e.lang,l=e.open,o=e.instanceID,r=e.current,c=e.onSuccess,i=e.onCancel,s=r?r.name.slice(r.group.length+1):"",m=u.a.useState(!0),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState(""),g=Object(n.a)(b,2),E=g[0],h=g[1],x=u.a.useState(!1),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState(a),w=Object(n.a)(S,2),O=w[0],j=w[1],N=ki[t],_=N.title,T=u.a.useCallback((function(e){k&&(f(!0),h(e))}),[k]),R=function(){h(""),j(a)},I=function(e){k&&(f(!0),R(),c(e,o))};u.a.useEffect((function(){if(l)return C(!0),function(){return C(!1)}}),[l]);var D,A=[{type:"text",label:N.current,value:s,disabled:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"text",label:N.new,onChange:(D="name",function(e){if(k){var a=e.target.value;j((function(e){return Object(v.a)({},e,Object(X.a)({},D,a))}))}}),value:O.name,required:!0,oneRow:!0,xs:12,sm:10,md:8}],B=[{color:"transparent",label:N.cancel,onClick:function(){R(),i()}},{color:"info",label:N.confirm,onClick:function(){if(h(""),f(!1),O.name){var e=[r.group,O.name].join(".");s!==e?function(e,a,t,n){Ya("/guests/"+e+"/name/",{name:a},(function(){t(a,e)}),n)}(o,e,I,T):T("no need to modify")}else T("must specify new instance name")}}],P=u.a.createElement(qe,{inputs:A});return u.a.createElement(la,{size:"sm",open:l,prompt:E,title:_,buttons:B,content:P,operatable:p})}var Si={en:{title:"Modify Instance Cores",current:"Current Cores",new:"New Cores",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u6838\u5fc3\u6570",current:"\u5f53\u524d\u6838\u5fc3\u6570",new:"\u65b0\u6838\u5fc3\u6570",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function wi(e){var a={cores:""},t=e.lang,l=e.open,o=e.instanceID,r=e.current,c=e.onSuccess,i=e.onCancel,s=r?r.cores:0,m=u.a.useState(!0),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState(""),g=Object(n.a)(b,2),E=g[0],h=g[1],x=u.a.useState(!1),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState(a),w=Object(n.a)(S,2),O=w[0],j=w[1],N=Si[t],_=N.title,T=u.a.useCallback((function(e){k&&(f(!0),h(e))}),[k]),R=function(){h(""),j(a)},I=function(e){k&&(f(!0),R(),c(e,o))};u.a.useEffect((function(){if(l)return C(!0),function(){return C(!1)}}),[l]);var D,A=[{type:"text",label:N.current,value:s.toString(),disabled:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"text",label:N.new,onChange:(D="cores",function(e){if(k){var a=e.target.value;j((function(e){return Object(v.a)({},e,Object(X.a)({},D,a))}))}}),value:O.cores,required:!0,oneRow:!0,xs:12,sm:10,md:8}],B=[{color:"transparent",label:N.cancel,onClick:function(){R(),i()}},{color:"info",label:N.confirm,onClick:function(){if(O.cores){var e=Number.parseInt(O.cores);Number.isNaN(e)?T("invalid cores number: "+O.cores):s!==e?(h(""),f(!1),function(e,a,t,n){Ya("/guests/"+e+"/cores",{cores:a},(function(){t(a,e)}),n)}(o,e,I,T)):T("no need to modify")}else T("must specify new instance cores")}}],P=u.a.createElement(qe,{inputs:A});return u.a.createElement(la,{size:"sm",open:l,prompt:E,title:_,buttons:B,content:P,operatable:p})}var Oi={en:{title:"Modify Memory of Instance",current:"Current Memory Size",new:"New Memory Size (MB)",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u5185\u5b58\u5927\u5c0f",current:"\u5f53\u524d\u5185\u5b58\u5bb9\u91cf",new:"\u65b0\u5185\u5b58\u5bb9\u91cf(MB)",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ji(e){var a={memory:""},t=e.lang,l=e.open,o=e.instanceID,r=e.current,c=e.onSuccess,i=e.onCancel,s=r?r.memory:0,m=da(s),d=u.a.useState(!0),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(""),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState(!1),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(a),O=Object(n.a)(w,2),j=O[0],N=O[1],_=Oi[t],T=_.title,R=u.a.useCallback((function(e){C&&(b(!0),x(e))}),[C]),I=function(){x(""),N(a)},D=function(e){C&&(b(!0),I(),c(e,o))};u.a.useEffect((function(){if(l)return S(!0),function(){return S(!1)}}),[l]);var A,B=[{type:"text",label:_.current,value:m,disabled:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"text",label:_.new,onChange:(A="memory",function(e){if(C){var a=e.target.value;N((function(e){return Object(v.a)({},e,Object(X.a)({},A,a))}))}}),value:j.memory,required:!0,oneRow:!0,xs:12,sm:10,md:8}],P=[{color:"transparent",label:_.cancel,onClick:function(){I(),i()}},{color:"info",label:_.confirm,onClick:function(){if(j.memory){var e=Number.parseInt(j.memory);if(Number.isNaN(e))R("invalid memory size: "+j.memory);else{var a=e*(1<<20);s!==a?(x(""),b(!1),function(e,a,t,n){Ya("/guests/"+e+"/memory",{memory:a},(function(){t(a,e)}),n)}(o,a,D,R)):R("no need to modify")}}else R("must specify new memory size")}}],M=u.a.createElement(qe,{inputs:B});return u.a.createElement(la,{size:"sm",open:l,prompt:h,title:T,buttons:P,content:M,operatable:f})}var Ni={en:{title:"Modify Admin Password",name:"Admin Name",new:"New Password (generate a new one when blank)",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7ba1\u7406\u5458\u5bc6\u7801",name:"\u5f53\u524d\u7ba1\u7406\u5458",new:"\u65b0\u5bc6\u7801(\u7559\u7a7a\u5219\u81ea\u52a8\u751f\u6210)",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function _i(e){var a={user:"",password:""},t=e.lang,l=e.open,o=e.instanceID,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=Ni[t],R=T.title,I=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),D=function(){y(""),_(a),d(!1)},A=function(e){S&&(g(!0),D(),r(e,o))};u.a.useEffect((function(){if(l&&o){w(!0);return Ia(o,(function(e,a){S&&(_({user:e,password:a}),d(!0))}),I),function(){w(!1)}}}),[S,l,o,I]);var B,P,M=[{color:"transparent",label:T.cancel,onClick:function(){D(),c()}}];if(m){var W=[{type:"text",label:T.name,value:N.user,disabled:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"password",label:T.new,value:N.password,onChange:(P="password",function(e){if(S){var a=e.target.value;_((function(e){return Object(v.a)({},e,Object(X.a)({},P,a))}))}}),required:!0,oneRow:!0,xs:12,sm:10,md:8}];B=u.a.createElement(qe,{inputs:W}),M.push({color:"info",label:T.confirm,onClick:function(){y(""),g(!1),function(e,a,t,n,l){var o={};a&&(o.user=a),t&&(o.password=t),Ya("/guests/"+e+"/auth",o,(function(a){var t=a.user,l=a.password;n(t,l,e)}),l)}(o,N.user,N.password,A,I)}})}else B=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:x,title:R,buttons:M,content:B,operatable:b})}var Ti={en:{title:"Extend Disk Size",current:"Current Disk Size",new:"New Disk Size (GB)",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6269\u5c55\u78c1\u76d8\u5bb9\u91cf",current:"\u5f53\u524d\u78c1\u76d8\u5bb9\u91cf",new:"\u65b0\u78c1\u76d8\u5bb9\u91cf(GB)",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ri(e){var a={size:""},t=e.lang,l=e.open,o=e.instanceID,r=e.current,c=e.index,i=e.onSuccess,s=e.onCancel,m=r?r.disks[c]:0,d=da(m),p=u.a.useState(!0),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=Ti[t],R=T.title,I=u.a.useCallback((function(e){S&&(g(!0),y(e))}),[S]),D=function(){y(""),_(a)},A=function(e,a){S&&(g(!0),D(),i(e,a,o))};u.a.useEffect((function(){if(l)return w(!0),function(){return w(!1)}}),[l]);var B,P=[{type:"text",label:T.current,value:d,disabled:!0,oneRow:!0,xs:12,sm:6,md:4},{type:"text",label:T.new,onChange:(B="size",function(e){if(S){var a=e.target.value;_((function(e){return Object(v.a)({},e,Object(X.a)({},B,a))}))}}),value:N.size,required:!0,oneRow:!0,xs:12,sm:10,md:8}],M=[{color:"transparent",label:T.cancel,onClick:function(){D(),s()}},{color:"info",label:T.confirm,onClick:function(){if(N.size){var e=Number.parseInt(N.size);if(Number.isNaN(e))I("invalid disk size: "+N.size);else{var a=e*(1<<30);m!==a?(y(""),g(!1),function(e,a,t,n,l){var o={size:t};Ya("/guests/"+e+"/disks/resize/"+a.toString(),o,(function(){n(a,t,e)}),l)}(o,c,a,A,I)):I("no need to modify")}}else I("must specify new disk size")}}],W=u.a.createElement(qe,{inputs:P});return u.a.createElement(la,{size:"sm",open:l,prompt:x,title:R,buttons:M,content:W,operatable:b})}var Ii={en:{title:"Shrink Disk Size",content1:"Are you sure to shrink size of ",content2:" ? it will take a long time, please be patient and ignore the timeout warning.",cancel:"Cancel",confirm:"Confirm",systemDisk:"System Disk",dataDisk:"Data Disk"},cn:{title:"\u538b\u7f29\u78c1\u76d8\u5bb9\u91cf",content1:"\u662f\u5426\u538b\u7f29 ",content2:" \u7684\u78c1\u76d8\u7a7a\u95f4\uff0c\u8fd9\u4f1a\u5360\u7528\u5f88\u957f\u65f6\u95f4\uff0c\u8bf7\u5ffd\u7565\u8d85\u65f6\u63d0\u793a\u5e76\u8010\u5fc3\u7b49\u5f85",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a",systemDisk:"\u7cfb\u7edf\u78c1\u76d8",dataDisk:"\u6570\u636e\u78c1\u76d8"}};function Di(e){var a,t=e.lang,l=e.instanceID,o=e.index,r=e.open,c=e.onSuccess,i=e.onCancel,s=u.a.useState(!0),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(""),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(!1),v=Object(n.a)(h,2),x=v[0],y=v[1],k=Ii[t],C=k.title,S=u.a.useCallback((function(e){x&&(p(!0),E(e))}),[x]),w=function(e){x&&(p(!0),E(""),c(e,l))};u.a.useEffect((function(){if(r)return y(!0),function(){return y(!1)}}),[r]),a=0===o?k.content1+k.systemDisk+k.content2:k.content1+k.dataDisk+o.toString()+k.content2;var O=[{color:"transparent",label:k.cancel,onClick:function(){E(""),i()}},{color:"info",label:k.confirm,onClick:function(){E(""),p(!1),function(e,a,t,n){Ya("/guests/"+e+"/disks/shrink/"+a.toString(),{immediate:!1},(function(){t(a,e)}),n)}(l,o,w,S)}}];return u.a.createElement(la,{size:"sm",open:r,prompt:g,title:C,buttons:O,content:a,operatable:d})}var Ai={en:{title:"Modify CPU Priority",label:"CPU Priority",cpuPriorityHigh:"High",cpuPriorityMedium:"Medium",cpuPriorityLow:"Low",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539CPU\u4f18\u5148\u7ea7",label:"CPU\u4f18\u5148\u7ea7",cpuPriorityHigh:"\u9ad8",cpuPriorityMedium:"\u4e2d",cpuPriorityLow:"\u4f4e",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Bi(e){var a=e.lang,t=e.open,l=e.instanceID,o=e.onSuccess,r=e.onCancel,c={priority:"medium"},i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!1),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(c),j=Object(n.a)(O,2),N=j[0],_=j[1],T=Ai[a],R=T.title,I=u.a.useCallback((function(e){S&&(d(!0),y(e))}),[S]),D=function(){y(""),_(c),g(!1)},A=function(e){S&&(d(!0),D(),o(e,l))};u.a.useEffect((function(){if(t&&l){w(!0);return Oa(l,(function(e){if(S){var a="medium";e.qos&&(a=e.qos.cpu_priority),_({priority:a}),g(!0)}}),I),function(){return w(!1)}}}),[t,l,S,I]);var B,P,M=[{color:"transparent",label:T.cancel,onClick:function(){D(),r()}}];if(b){var W=[{label:T.cpuPriorityHigh,value:"high"},{label:T.cpuPriorityMedium,value:"medium"},{label:T.cpuPriorityLow,value:"low"}],z=[{type:"radio",label:T.label,onChange:(P="priority",function(e){if(S){var a=e.target.value;_((function(e){return Object(v.a)({},e,Object(X.a)({},P,a))}))}}),value:N.priority,options:W,required:!0,xs:12}];B=u.a.createElement(qe,{inputs:z}),M.push({color:"info",label:T.confirm,onClick:function(){N.priority?(y(""),d(!1),function(e,a,t,n){Ya("/guests/"+e+"/qos/cpu",{priority:a},(function(){t(a,e)}),n)}(l,N.priority,A,I)):I("invalid priority value")}})}else B=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:t,prompt:x,title:R,buttons:M,content:B,operatable:m})}var Pi={en:{title:"Modify Disk IOPS",label:"IOPS",noLimit:"No Limit",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u78c1\u76d8\u8bfb\u5199\u9650\u5236",label:"\u78c1\u76d8\u8bfb\u5199\u9650\u5236",noLimit:"\u65e0\u9650\u5236",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Mi(e){var a={iops:0},t=e.lang,l=e.open,o=e.instanceID,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!1),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=Pi[t],R=T.title,I=u.a.useCallback((function(e){S&&(d(!0),y(e))}),[S]),D=function(){y(""),_(a),g(!1)},A=function(e){S&&(d(!0),D(),r(e,o))};u.a.useEffect((function(){if(l&&o){w(!0);return Oa(o,(function(e){if(S){var a=0;e.qos&&(a=e.qos.write_iops),_({iops:a}),g(!0)}}),I),function(){return w(!1)}}}),[l,o,S,I]);var B,P,M=[{color:"transparent",label:T.cancel,onClick:function(){D(),c()}}];if(b){var W=[{value:0,label:T.noLimit},{value:2e3,label:2e3}],z=[{type:"slider",label:T.label,onChange:(P="iops",function(e,a){S&&_((function(e){return Object(v.a)({},e,Object(X.a)({},P,a))}))}),value:N.iops,marks:W,step:10,maxStep:2e3,minStep:0,required:!0,xs:12}];B=u.a.createElement(qe,{inputs:z}),M.push({color:"info",label:T.confirm,onClick:function(){y(""),d(!1),function(e,a,t,n){Ya("/guests/"+e+"/qos/disk",{write_iops:a,read_iops:a},(function(){t(a,e)}),n)}(o,N.iops,A,I)}})}else B=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:x,title:R,buttons:M,content:B,operatable:m})}var Wi={en:{title:"Modify Network Bandwidth",outbound:"Outband Bandwidth",inbound:"Inbound Bandwidth",noLimit:"No Limit",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7f51\u7edc\u5e26\u5bbd\u9650\u5236",outbound:"\u4e0a\u884c\u5e26\u5bbd",inbound:"\u4e0b\u884c\u5e26\u5bbd",noLimit:"\u65e0\u9650\u5236",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function zi(e){var a={inbound:0,outbound:0},t=e.lang,l=e.open,o=e.instanceID,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!1),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState(a),j=Object(n.a)(O,2),N=j[0],_=j[1],T=Wi[t],R=T.title,I=u.a.useCallback((function(e){S&&(d(!0),y(e))}),[S]),D=function(){y(""),_(a),g(!1)},A=function(e,a){S&&(d(!0),D(),r(e,a,o))},B=function(e){return function(a,t){S&&_((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};u.a.useEffect((function(){if(l&&o){w(!0);return Oa(o,(function(e){if(S){var t=a;e.qos&&e.qos.receive_speed&&(t.inbound=e.qos.receive_speed/(1<<17)),e.qos&&e.qos.send_speed&&(t.outbound=e.qos.send_speed/(1<<17)),_(t),g(!0)}}),I),function(){return w(!1)}}}),[l,o,S,I,1<<17,a]);var P,M=[{color:"transparent",label:T.cancel,onClick:function(){D(),c()}}];if(b){var W=[{value:0,label:T.noLimit},{value:20,label:"20 Mbit/s"}],z=[{type:"slider",label:T.inbound,onChange:B("inbound"),value:N.inbound,marks:W,step:2,maxStep:20,minStep:0,required:!0,xs:12},{type:"slider",label:T.outbound,onChange:B("outbound"),value:N.outbound,marks:W,step:2,maxStep:20,minStep:0,required:!0,xs:12}];P=u.a.createElement(qe,{inputs:z}),M.push({color:"info",label:T.confirm,onClick:function(){y(""),d(!1),function(e,a,t,n,l){Ya("/guests/"+e+"/qos/network",{receive_speed:a,send_speed:t},(function(){n(a,t,e)}),l)}(o,N.inbound*(1<<17),N.outbound*(1<<17),A,I)}})}else P=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(la,{size:"sm",open:l,prompt:x,title:R,buttons:M,content:P,operatable:m})}var Hi={en:{title:"Reset Monitor Secret",content:"Are you sure to reset monitor secret of instance ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u91cd\u7f6e\u76d1\u63a7\u5bc6\u7801",content:"\u662f\u5426\u91cd\u7f6e\u4e91\u4e3b\u673a\u76d1\u63a7\u5bc6\u7801 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function qi(e){var a=e.lang,t=e.guestID,l=e.guestName,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!0),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(""),f=Object(n.a)(p,2),b=f[0],g=f[1],E=Hi[a],h=E.title,v=E.content+l,x=function(e){d(!0),g(e)},y=function(){d(!0),g(""),r(t)},k=[{color:"transparent",label:E.cancel,onClick:function(){g(""),c()}},{color:"info",label:E.confirm,onClick:function(){d(!1),function(e,a,t){Ya("/guests/"+e+"/monitor/secret","",(function(){a(e)}),t)}(t,y,x)}}];return u.a.createElement(la,{size:"sm",open:o,prompt:b,title:h,buttons:k,content:v,operatable:m})}var Fi={en:{title:"Details of Instance ",back:"Back",name:"Name",id:"ID",cores:"Cores",memory:"Memory",adminPassword:"Admin Password",monitorAddress:"Monitor Address",monitorSecret:"Monitor Secret",systemDisk:"System Disk",dataDisk:"Data Disk",ethernetAddress:"Ethernet Address",internalAddress:"Internal Address",allocatedAddress:"Allocated Address",externalAddress:"External Address",operatingSystem:"Operating System",autoStartup:"Auto Startup",on:"On",off:"Off",pool:"Host Pool",cell:"Host Cell",owner:"Owner",group:"Group",cpuPriority:"CPU Priority",iops:"Disk IOPS",bandwidth:"Inbound/Outbound Bandwidth",noLimit:"No Limit",cpuPriorityHigh:"High",cpuPriorityMedium:"Medium",cpuPriorityLow:"Low",createdTime:"Created Time",disabledWhenRunning:"Disabled When Running",disabledWhenStopped:"Disabled When Stopped",status:"Status",running:"Running",stopped:"Stopped",display:"Display",hide:"Hide",modify:"Modify",extendDisk:"Extend Disk Size",shrinkDisk:"Shrink Disk Size",resetSecret:"Reset Monitor Secret"},cn:{title:"\u4e91\u4e3b\u673a\u8be6\u60c5 ",back:"\u8fd4\u56de",name:"\u4e3b\u673a\u540d",id:"ID",cores:"\u6838\u5fc3\u6570",memory:"\u5185\u5b58",adminPassword:"\u7ba1\u7406\u5458\u5bc6\u7801",monitorAddress:"\u76d1\u63a7\u5730\u5740",monitorSecret:"\u76d1\u63a7\u5bc6\u7801",systemDisk:"\u7cfb\u7edf\u78c1\u76d8",dataDisk:"\u6570\u636e\u78c1\u76d8",ethernetAddress:"MAC\u5730\u5740",internalAddress:"\u5185\u90e8\u5730\u5740",allocatedAddress:"\u5df2\u5206\u914d\u5730\u5740",externalAddress:"\u5916\u90e8\u5730\u5740",operatingSystem:"\u64cd\u4f5c\u7cfb\u7edf",autoStartup:"\u5f00\u673a\u542f\u52a8",on:"\u6253\u5f00",off:"\u5173\u95ed",pool:"\u6240\u5c5e\u8d44\u6e90\u6c60",cell:"\u627f\u8f7d\u8d44\u6e90\u8282\u70b9",owner:"\u6240\u5c5e\u7528\u6237",group:"\u6240\u5c5e\u7528\u6237\u7ec4",cpuPriority:"CPU\u4f18\u5148\u7ea7",iops:"\u78c1\u76d8 IOPS",bandwidth:"\u4e0b/\u4e0a\u884c\u5e26\u5bbd",noLimit:"\u65e0\u9650\u5236",cpuPriorityHigh:"\u9ad8",cpuPriorityMedium:"\u4e2d",cpuPriorityLow:"\u4f4e",createdTime:"\u521b\u5efa\u65f6\u95f4",disabledWhenRunning:"\u8fd0\u884c\u65f6\u7981\u7528",disabledWhenStopped:"\u505c\u673a\u65f6\u7981\u7528",status:"\u72b6\u6001",running:"\u8fd0\u884c\u4e2d",stopped:"\u5df2\u505c\u673a",display:"\u663e\u793a",hide:"\u9690\u85cf",modify:"\u4fee\u6539",extendDisk:"\u6269\u5c55\u78c1\u76d8\u5bb9\u91cf",shrinkDisk:"\u7f29\u51cf\u78c1\u76d8\u7a7a\u95f4",resetSecret:"\u91cd\u7f6e\u76d1\u63a7\u5bc6\u7801"}};function Li(e){var a=e.match.params.id,t=u.a.useState(null),l=Object(n.a)(t,2),o=l[0],r=l[1],c=u.a.useState(null),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(!1),E=Object(n.a)(g,2),h=E[0],v=E[1],x=u.a.useState(!1),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState(!1),w=Object(n.a)(S,2),O=w[0],j=w[1],N=u.a.useState(!1),_=Object(n.a)(N,2),T=_[0],R=_[1],I=u.a.useState(!1),D=Object(n.a)(I,2),A=D[0],B=D[1],P=u.a.useState(!1),M=Object(n.a)(P,2),W=M[0],z=M[1],H=u.a.useState(!1),q=Object(n.a)(H,2),F=q[0],L=q[1],U=u.a.useState(!1),V=Object(n.a)(U,2),G=V[0],$=V[1],Z=u.a.useState(!1),J=Object(n.a)(Z,2),Q=J[0],Y=J[1],K=u.a.useState(!1),X=Object(n.a)(K,2),ee=X[0],ae=X[1],ne=u.a.useState(0),le=Object(n.a)(ne,2),oe=le[0],re=le[1],ce=u.a.useState("warning"),ie=Object(n.a)(ce,2),se=ie[0],ue=ie[1],me=u.a.useState(""),de=Object(n.a)(me,2),pe=de[0],fe=de[1],be=function(){fe("")},ge=u.a.useCallback((function(e){ue("warning"),fe(e),setTimeout(be,3e3)}),[ue,fe]),he=function(e){ue("info"),fe(e),Ua(e),setTimeout(be,3e3)},ve=u.a.useCallback((function(e){ge(e)}),[ge]),xe=u.a.useCallback((function(){Oa(a,(function(e){r(e)}),ve)}),[a,ve]),ye=function(){v(!1)},ke=function(){C(!1)},Se=function(){j(!1)},we=function(){R(!1)},je=function(e){B(!0),re(e)},Ne=function(){B(!1)},_e=function(e){z(!0),re(e)},Te=function(){z(!1)},Re=function(){L(!1)},Ie=function(){$(!1)},De=function(){Y(!1)},Ae=function(){ae(!0)},Be=function(){ae(!1)};u.a.useEffect((function(){xe()}),[xe]);var Pe,Me,We=e.lang,ze=Fi[We],He=[];if(null===o)Pe=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),Me="";else{var qe,Fe={label:ze.disabledWhenRunning,icon:pi.a},Le={label:ze.disabledWhenStopped,icon:pi.a};qe=o.display_protocol?o.display_protocol+"://"+o.internal.display_address:"vnc://"+o.internal.display_address;var Ue=[o.qos&&o.qos.send_speed&&0!==o.qos.receive_speed?pa(o.qos.receive_speed):ze.noLimit,o.qos&&o.qos.receive_speed&&0!==o.qos.send_speed?pa(o.qos.send_speed):ze.noLimit].join(" / "),Ve=[];s?Ve.push({label:ze.hide,icon:bi.a,onClick:function(){return m(null)}}):Ve.push({label:ze.display,icon:ro.a,onClick:function(){Ia(a,(function(e,a){m(a||'no password configured for user "'+e+'"')}),ve)}}),o.running?Ve.push({label:ze.modify,icon:Vl.a,onClick:function(){R(!0)}}):Ve.push(Le);var Ge,$e=[{title:ze.name,value:o.name,operators:o.running?[Fe]:[{label:ze.modify,icon:Vl.a,onClick:function(){v(!0)}}]},{title:ze.id,value:a},{title:ze.cores,value:o.cores,operators:o.running?[Fe]:[{label:ze.modify,icon:Vl.a,onClick:function(){C(!0)}}]},{title:ze.memory,value:da(o.memory),operators:o.running?[Fe]:[{label:ze.modify,icon:Vl.a,onClick:function(){j(!0)}}]},{title:ze.status,value:o.running?ze.running:ze.stopped},{title:ze.ethernetAddress,value:o.ethernet_address},{title:ze.createdTime,value:o.create_time},{title:ze.adminPassword,value:s||"****************",operators:Ve},{title:ze.monitorAddress,value:o.internal?qe:""},{title:ze.monitorSecret,value:f?o.monitor_secret:new Array(o.monitor_secret.length).fill("*"),operators:f?[{label:ze.hide,icon:bi.a,onClick:function(){return b(!1)}},{label:ze.resetSecret,icon:yi.a,onClick:Ae}]:[{label:ze.display,icon:ro.a,onClick:function(){return b(!0)}},{label:ze.resetSecret,icon:yi.a,onClick:Ae}]},{title:ze.systemDisk,value:da(o.disks[0]),operators:o.running?[Fe]:[{label:ze.extendDisk,icon:Ei.a,onClick:function(){return je(0)}},{label:ze.shrinkDisk,icon:vi.a,onClick:function(){return _e(0)}}]}];if(o.disks.length>1)for(var Ze=function(){var e=Je;$e.push({title:ze.dataDisk+Je.toString(),value:da(o.disks[Je]),operators:o.running?[Fe]:[{label:ze.extendDisk,icon:Ei.a,onClick:function(){return je(e)}},{label:ze.shrinkDisk,icon:vi.a,onClick:function(){return _e(e)}}]})},Je=1;Je<o.disks.length;Je++)Ze();if(o.qos&&o.qos.cpu_priority)switch(o.qos.cpu_priority){case"high":Ge=ze.cpuPriorityHigh;break;case"medium":Ge=ze.cpuPriorityMedium;break;case"low":Ge=ze.cpuPriorityLow;break;default:Ge="invalid priority "+o.qos.cpu_priority}else Ge=ze.noLimit;$e=$e.concat([{title:ze.internalAddress,value:o.internal&&o.internal.network_address?o.internal.network_address:""},{title:ze.allocatedAddress,value:o.internal&&o.internal.allocated_address?o.internal.allocated_address:""},{title:ze.externalAddress,value:o.external&&o.external.network_address?o.external.network_address:""},{title:ze.operatingSystem,value:o.system},{title:ze.autoStartup,value:o.auto_start?ze.on:ze.off},{title:ze.pool,value:o.pool},{title:ze.cell,value:o.cell},{title:ze.cpuPriority,value:Ge,operators:[{label:ze.modify,icon:Vl.a,onClick:function(){L(!0)}}]},{title:ze.iops,value:o.qos&&o.qos.write_iops?o.qos.write_iops:ze.noLimit,operators:o.running?[Fe]:[{label:ze.modify,icon:Vl.a,onClick:function(){$(!0)}}]},{title:ze.bandwidth,value:Ue,operators:[{label:ze.modify,icon:Vl.a,onClick:function(){Y(!0)}}]}]),Pe=u.a.createElement(mi.a,{maxWidth:"md"},u.a.createElement(xc.a,{component:Ce.a},u.a.createElement(bn.a,null,u.a.createElement(hn.a,null,$e.map((function(e,a){return u.a.createElement(En.a,{key:a},u.a.createElement(vn.a,{component:"th",scope:"row"},e.title),u.a.createElement(vn.a,null,e.value),u.a.createElement(vn.a,null,e.operators?e.operators.map((function(e,a){var t=e.label,n=e.icon,l=e.onClick;return u.a.createElement(Cn,{key:a,label:t,icon:n,onClick:l})})):""))})))))),Me=ze.title+o.name,He=[u.a.createElement(Ee,{size:"sm",color:"info",round:!0,href:"/admin/instances/"},u.a.createElement(lo.a,null),ze.back)]}return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},He.map((function(e,a){return u.a.createElement(te.a,{key:a,pl:2,pr:2},e)})))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},Me),u.a.createElement(sn,null,Pe))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:se,message:pe,open:""!==pe,closeNotification:be,close:!0})),u.a.createElement(Ye,null,u.a.createElement(Ci,{lang:We,open:h,instanceID:a,current:o,onSuccess:function(e){ye(),he("name of "+a+" changed to "+e),xe()},onCancel:ye})),u.a.createElement(Ye,null,u.a.createElement(wi,{lang:We,open:k,instanceID:a,current:o,onSuccess:function(e){ke(),he("cores of "+a+" changed to "+e),xe()},onCancel:ke})),u.a.createElement(Ye,null,u.a.createElement(ji,{lang:We,open:O,instanceID:a,current:o,onSuccess:function(e){Se(),he("memory of "+a+" changed to "+da(e)),xe()},onCancel:Se})),u.a.createElement(Ye,null,u.a.createElement(_i,{lang:We,open:T,instanceID:a,onSuccess:function(e){we(),he("password of "+e+" modified"),xe()},onCancel:we})),u.a.createElement(Ye,null,u.a.createElement(Ri,{lang:We,open:A,instanceID:a,current:o,index:oe,onSuccess:function(e,a){Ne(),he("size of disk "+e+" changed to "+da(a)),xe()},onCancel:Ne})),u.a.createElement(Ye,null,u.a.createElement(Di,{lang:We,open:W,instanceID:a,current:o,index:oe,onSuccess:function(e){Te(),he("size of disk "+e+" shrunk"),xe()},onCancel:Te})),u.a.createElement(Ye,null,u.a.createElement(Bi,{lang:We,open:F,instanceID:a,current:o,onSuccess:function(e){Re(),he("CPU priority changed to "+e),xe()},onCancel:Re})),u.a.createElement(Ye,null,u.a.createElement(Mi,{lang:We,open:G,instanceID:a,current:o,onSuccess:function(e){Ie(),he("Disk IOPS changed to "+e),xe()},onCancel:Ie})),u.a.createElement(Ye,null,u.a.createElement(zi,{lang:We,open:Q,instanceID:a,current:o,onSuccess:function(e,a){De();var t=[pa(e),pa(a)].join("/");he("network bandwidth changed to "+t),xe()},onCancel:De})),u.a.createElement(qi,{lang:We,open:ee,guestID:a,guestName:o?o.name:"",onSuccess:function(){Be(),he("monitor secret reset"),xe()},onCancel:Be}))}var Ui=Object(v.a)({},Gn,{cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),Vi=Object(h.a)(Ui),Gi={en:{createButton:"Create New Instance",batchCreate:"Batch Create",batchDelete:"Batch Delete",batchStop:"Batch Stop",enterBatch:"Enter Batch Mode",exitBatch:"Exit Batch Mode",tableTitle:"Cloud Instances",name:"Name",cell:"Host Cell",address:"Address",core:"Core",memory:"Memory",disk:"Disk",status:"Status",operates:"Operates",noResource:"No instances available",pool:"Compute Pool",disabled:"Disabled",offline:"Offline",allCells:"All Cells"},cn:{createButton:"\u521b\u5efa\u4e91\u4e3b\u673a",batchCreate:"\u6279\u91cf\u521b\u5efa",batchDelete:"\u6279\u91cf\u5220\u9664",batchStop:"\u6279\u91cf\u505c\u6b62",enterBatch:"\u8fdb\u5165\u6279\u91cf\u6a21\u5f0f",exitBatch:"\u9000\u51fa\u6279\u91cf\u6a21\u5f0f",tableTitle:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",name:"\u540d\u79f0",cell:"\u627f\u8f7d\u8282\u70b9",address:"\u5730\u5740",core:"\u6838\u5fc3",memory:"\u5185\u5b58",disk:"\u78c1\u76d8",status:"\u72b6\u6001",operates:"\u64cd\u4f5c",noResource:"\u6ca1\u6709\u4e91\u4e3b\u673a\u5b9e\u4f8b",pool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",disabled:"\u5df2\u7981\u7528",offline:"\u79bb\u7ebf",allCells:"\u6240\u6709\u8282\u70b9"}};function $i(e){var a=Vi(),t=Object(E.g)(),l=new URLSearchParams(t.search),o=l.get("pool"),r=l.get("cell"),c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(null),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(new Map),h=Object(n.a)(g,2),x=h[0],y=h[1],k=u.a.useState(!1),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState({pool:"",cell:""}),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState([]),R=Object(n.a)(T,2),I=R[0],D=R[1],A=u.a.useState([]),B=Object(n.a)(A,2),P=B[0],M=B[1],W=u.a.useState(!1),z=Object(n.a)(W,2),H=z[0],q=z[1],F=u.a.useState(!1),L=Object(n.a)(F,2),U=L[0],V=L[1],G=u.a.useState(!1),$=Object(n.a)(G,2),Z=$[0],J=$[1],Q=u.a.useState(!1),Y=Object(n.a)(Q,2),K=Y[0],X=Y[1],ee=u.a.useState(!1),ae=Object(n.a)(ee,2),ne=ae[0],le=ae[1],oe=u.a.useState(!1),re=Object(n.a)(oe,2),ce=re[0],ie=re[1],se=u.a.useState(!1),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],pe=u.a.useState(!1),fe=Object(n.a)(pe,2),be=fe[0],ge=fe[1],he=u.a.useState(!1),ve=Object(n.a)(he,2),ye=ve[0],ke=ve[1],Ce=u.a.useState(!1),Se=Object(n.a)(Ce,2),we=Se[0],Ne=Se[1],Te=u.a.useState(""),Re=Object(n.a)(Te,2),Ie=Re[0],De=Re[1],Ae=u.a.useState(""),Be=Object(n.a)(Ae,2),Pe=Be[0],Me=Be[1],ze=u.a.useState(""),He=Object(n.a)(ze,2),qe=He[0],Fe=He[1],Le=u.a.useState("warning"),Ue=Object(n.a)(Le,2),Ve=Ue[0],Ge=Ue[1],$e=u.a.useState(""),Ze=Object(n.a)($e,2),Je=Ze[0],Qe=Ze[1],Ke=function(){Qe("")},Xe=u.a.useCallback((function(e){Ge("warning"),Qe(e),setTimeout(Ke,3e3)}),[Ge,Qe]),ea=function(e){Ge("info"),Qe(e),Ua(e),setTimeout(Ke,3e3)},aa=u.a.useCallback((function(){wa(N.pool,N.cell,(function(e){var a=x,t=!1;if(e){b(e);var n=[];a.forEach((function(a,t){e.some((function(e){return e.id===t}))||n.push(t)})),e.forEach((function(e){var n=e.id;a.has(n)||(a.set(n,!1),t||(t=!0))})),0!==n.length&&n.forEach((function(e){a.delete(e),t||(t=!0)}))}else b([]),0!==a.size&&(a.clear(),t=!0);t&&y(new Map(a))}),(function(e){Xe(e),ua()}))}),[N,x,Xe]),ta=function(e){V(!0),De(e)},na=function(){V(!1)},la=function(e){J(!0),De(e)},oa=function(){J(!1)},ra=function(e){X(!0),De(e)},ca=function(){X(!1)},ia=function(e){le(!0),De(e)},da=function(){le(!1)},pa=function(e){ie(!0),De(e)},fa=function(){ie(!1)},ba=function(e,a,t){de(!0),De(e),Me(a),Fe(t)},ga=function(){de(!1)},Ea=function(){q(!1)},ha=function(){ge(!1)},ya=function(){ke(!1)},ka=function(){Ne(!1)},Ca=function(){aa()},Sa=function(e,a){var t=new Map(x);t.set(a,e),y(t)};if(u.a.useEffect((function(){if(s){var e=!0;aa();var a=setInterval((function(){e&&aa()}),5e3);return function(){e=!1,clearInterval(a)}}var t,n=[],l=[],c=function(e){e.forEach((function(e){l.push(e)})),D(n),M(l),_({pool:o||t,cell:r||""}),m(!0)};va((function(e){e.forEach((function(e){n.push(e.name)})),0!==n.length?xa(t=n[0],c,Xe):Xe("no compute pools available")}),Xe)}),[aa,s,Xe,o,r]),null===sa())return ma();var Oa,ja=e.lang,Na=Gi[ja];if(s&&f)if(0===f.length)Oa=u.a.createElement(mn,null,Na.noResource);else{var _a;_a=S?u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,null,u.a.createElement(We.a,{onChange:function(e){var a=e.target.checked,t=new Map,n=!0,l=!1,o=void 0;try{for(var r,c=x.keys()[Symbol.iterator]();!(n=(r=c.next()).done);n=!0){var i=r.value;t.set(i,a)}}catch(s){l=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(l)throw o}}y(t)}})),u.a.createElement(te.a,null,Na.name)):Na.name,Oa=u.a.createElement(Cr,{color:"primary",headers:[_a,Na.cell,Na.address,Na.core,Na.memory,Na.disk,Na.status,Na.operates],rows:f.map((function(e){var a=e.id;return u.a.createElement(Xr,{key:e.id,instance:e,lang:ja,checked:!(!x||!x.has(a))&&x.get(a),checkable:S,onCheckStatusChanged:Sa,onNotify:ea,onError:Xe,onDelete:ta,onMediaStart:la,onInsertMedia:ra,onResetSystem:ia,onBuildImage:pa,onStatusChange:Ca,onMigrateInstance:ba})}))})}else Oa=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});var Ta=[{label:Na.createButton,icon:It.a,color:"info",onClick:function(){q(!0)}},{label:Na.batchCreate,icon:vr.a,color:"info",onClick:function(){Ne(!0)}}];S?Ta.push({label:Na.batchDelete,icon:qt.a,color:"danger",onClick:function(){ke(!0)}},{label:Na.batchStop,icon:Er.a,color:"info",onClick:function(){ge(!0)}},{label:Na.exitBatch,icon:yr.a,color:"success",onClick:function(){w(!1)}}):Ta.push({label:Na.enterBatch,icon:$l.a,color:"info",onClick:function(){var e=new Map,a=!0,t=!1,n=void 0;try{for(var l,o=x.keys()[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var r=l.value;e.set(r,!1)}}catch(c){t=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(t)throw n}}y(e),w(!0)}});var Ra=u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(_e.a,{htmlFor:"pool",className:a.cardCategory},Na.pool),u.a.createElement(je.a,{value:N.pool,onChange:function(e){var a=e.target.value,t=[];xa(a,(function(e){e.forEach((function(e){t.push(e)})),M(t),_({pool:a,cell:""})}),Xe)},inputProps:{name:"pool",id:"pool"},fullWidth:!0},I.map((function(e){return u.a.createElement(xe.a,{value:e,key:e},e)})))),Ia=u.a.createElement(te.a,{m:0,pb:2},u.a.createElement(_e.a,{htmlFor:"cell",className:a.cardCategory},Na.cell),u.a.createElement(je.a,{value:N.cell,onChange:function(e){var a=e.target.value;_((function(e){return Object(v.a)({},e,{cell:a})}))},inputProps:{name:"cell",id:"cell"},fullWidth:!0},u.a.createElement(xe.a,{value:"",selected:!0},Na.allCells),P.map((function(e){var a=e.name;return e.address&&(a+="("+e.address+")"),e.alive||(a+="-"+Na.offline),e.enabled||(a+="-"+Na.disabled),u.a.createElement(xe.a,{value:e.name,key:e.name},a)})))),Da=[];return x&&(x.forEach((function(e,a){e&&Da.push(a)})),Da.sort()),u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:6,sm:4,md:2},Ra),u.a.createElement(Ye,{xs:6,sm:4,md:2},Ia))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},Ta.map((function(e,a){var t=e.label,n=e.color,l=e.icon,o=e.onClick;return u.a.createElement(te.a,{key:a,m:1},u.a.createElement(Ee,{size:"sm",color:n,round:!0,onClick:o},u.a.createElement(l),t))})))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:a.cardTitleWhite},Na.tableTitle)),u.a.createElement(sn,null,Oa))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:Ve,message:Je,open:""!==Je,closeNotification:Ke,close:!0})),u.a.createElement(Ye,null,u.a.createElement(sc,{lang:ja,open:H,onSuccess:function(e){Ea(),ea("new instance "+e+" created"),aa()},onCancel:Ea})),u.a.createElement(Ye,null,u.a.createElement(ac,{lang:ja,instanceID:Ie,open:U,onSuccess:function(e){na(),ea("instance "+e+" deleted"),aa()},onCancel:na})),u.a.createElement(Ye,null,u.a.createElement(mc,{lang:ja,instanceID:Ie,open:Z,onSuccess:function(e){oa(),ea("instance "+e+" started with media"),aa()},onCancel:oa})),u.a.createElement(Ye,null,u.a.createElement(pc,{lang:ja,instanceID:Ie,open:K,onSuccess:function(e){ca(),ea("instance "+e+" started with media"),aa()},onCancel:ca})),u.a.createElement(Ye,null,u.a.createElement(Ec,{lang:ja,instanceID:Ie,open:ne,onSuccess:function(e){da(),ea("guest system of "+e+" reset")},onCancel:da})),u.a.createElement(Ye,null,u.a.createElement(bc,{lang:ja,instanceID:Ie,open:ce,onSuccess:function(e){fa(),ea("new image "+e+" created from "+Ie)},onCancel:fa})),u.a.createElement(Ye,null,u.a.createElement(vc,{lang:ja,instanceID:Ie,sourcePool:Pe,sourceCell:qe,open:me,onSuccess:function(e){ga(),ea("instance "+e+" migrated"),aa()},onCancel:ga})),u.a.createElement(Ye,null,u.a.createElement(kc,{lang:ja,open:be,targets:be?Da:[],onSuccess:function(){ha(),aa()},onCancel:ha})),u.a.createElement(Ye,null,u.a.createElement(Sc,{lang:ja,open:ye,targets:ye?Da:[],onSuccess:function(){ya(),aa()},onCancel:ya})),u.a.createElement(Ye,null,u.a.createElement(Oc,{lang:ja,open:we,onSuccess:function(){ka(),aa()},onCancel:ka})))}var Zi=t(167),Ji=t.n(Zi),Qi=t(271),Yi=t.n(Qi),Ki=t(554),Xi=t(551),es={cardTitle:{float:"left",padding:"10px 10px 10px 0px",lineHeight:"24px"},cardTitleRTL:{float:"right",padding:"10px 0px 10px 10px !important"},displayNone:{display:"none !important"},tabsRoot:{minHeight:"unset !important",overflowX:"visible","& $tabRootButton":{fontSize:"0.875rem"}},tabRootButton:{minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important",padding:"10px 15px",borderRadius:"3px",lineHeight:"24px",border:"0 !important",color:I+" !important",marginLeft:"4px","&:last-child":{marginLeft:"0px"}},tabSelected:{backgroundColor:"rgba("+x(I)+", 0.2)",transition:"0.2s background-color 0.1s"},tabWrapper:{display:"inline-block",minHeight:"unset !important",minWidth:"unset !important",width:"unset !important",height:"unset !important",maxWidth:"unset !important",maxHeight:"unset !important",fontWeight:"500",fontSize:"12px",marginTop:"1px","& > svg,& > .material-icons":{verticalAlign:"middle",margin:"-1px 5px 0 0 !important"}}},as=Object(h.a)(es);function ts(e){var a,t=u.a.useState(0),l=Object(n.a)(t,2),o=l[0],r=l[1],c=as(),i=e.headerColor,s=e.plainTabs,m=e.tabs,d=e.title,p=e.rtlActive,f=ae()((a={},Object(X.a)(a,c.cardTitle,!0),Object(X.a)(a,c.cardTitleRTL,p),a));return u.a.createElement(tn,{plain:s},u.a.createElement(on,{color:i,plain:s},void 0!==d?u.a.createElement("div",{className:f},d):null,u.a.createElement(Ki.a,{value:o,onChange:function(e,a){r(a)},classes:{root:c.tabsRoot,indicator:c.displayNone,scrollButtons:c.displayNone},variant:"scrollable",scrollButtons:"auto"},m.map((function(e,a){var t={};return e.tabIcon&&(t={icon:u.a.createElement(e.tabIcon,null)}),u.a.createElement(Xi.a,Object.assign({classes:{root:c.tabRootButton,selected:c.tabSelected,wrapper:c.tabWrapper},key:a,label:e.tabName},t))})))),u.a.createElement(sn,null,m.map((function(e,a){return a===o?u.a.createElement("div",{key:a},e.tabContent):null}))))}var ns=t(270),ls=t.n(ns),os=t(106),rs=t.n(os),cs={en:{title:"Create User",user:"Username",password:"Password",password2:"Confirm Password",nick:"Nickname",mail:"Mail",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u521b\u5efa\u7528\u6237",user:"\u7528\u6237\u540d",password:"\u5bc6\u7801",password2:"\u786e\u8ba4\u5bc6\u7801",nick:"\u6635\u79f0",mail:"\u90ae\u7bb1",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function is(e){var a,t={user:"",password:"",password2:"",nick:"",mail:""},l=e.lang,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(""),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(t),f=Object(n.a)(p,2),b=f[0],g=f[1],E=cs[l],h=function(e){d(e)},x=function(){d(""),g(t)},y=function(e){x(),r(e)},k=function(e){return function(a){var t=a.target.value;g((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},C=u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:E.user,onChange:k("user"),value:b.user,margin:"normal",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:10,md:8},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:E.password,onChange:k("password"),value:b.password,margin:"normal",type:"password",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:10,md:8},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:E.password2,onChange:k("password2"),value:b.password2,margin:"normal",type:"password",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:10,md:8},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:E.nick,onChange:k("nick"),value:b.nick,margin:"normal",fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:10,md:8},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:E.mail,onChange:k("mail"),value:b.mail,margin:"normal",fullWidth:!0})))));return a=m&&""!==m?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:m,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:o,"aria-labelledby":E.title,maxWidth:"sm",fullWidth:!0},u.a.createElement(Ve.a,null,E.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},C),a)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){x(),c()},color:"transparent",autoFocus:!0},E.cancel),u.a.createElement(Ee,{onClick:function(){var e=new RegExp("[^\\w-.]");b.user?e.test(b.user)?h("only letter/digit/'-'/'_'/'.' allowed in username"):b.password?b.password2===b.password?function(e,a,t,n,l,o){var r="/users/"+e,c={password:a};t&&(c.nick=t),n&&(c.mail=n),Za(r,c,(function(){l(e)}),o)}(b.user,b.password,b.nick,b.mail,y,h):h("password mismatch"):h("please input password"):h("must specify user name")},color:"info"},E.confirm)))}var ss={en:{title:"Modify User",user:"Username",nick:"Nickname",mail:"Mail",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7528\u6237",user:"\u7528\u6237\u540d",nick:"\u6635\u79f0",mail:"\u90ae\u7bb1",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function us(e){var a={user:"",nick:"",mail:""},t=e.lang,l=e.name,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(!1),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(""),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(a),h=Object(n.a)(E,2),x=h[0],y=h[1],k=ss[t],C=function(e){g(e)},S=function(){g(""),y(a),d(!1)},w=function(e){S(),r(e)};u.a.useEffect((function(){if(l&&o&&!m){!function(e,a,t){Ga("/users/"+e,a,t)}(l,(function(e){y({user:l,nick:e.nick?e.nick:"",mail:e.mail?e.mail:""}),d(!0)}),C)}}),[m,o,l]);var O,j,N=function(e){return function(a){var t=a.target.value;y((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};return O=m?u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:k.user,value:x.user,margin:"normal",disabled:!0,required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:10,md:8},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:k.nick,onChange:N("nick"),value:x.nick,margin:"normal",fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:10,md:8},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:k.mail,onChange:N("mail"),value:x.mail,margin:"normal",fullWidth:!0}))))):u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),j=b&&""!==b?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:b,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:o,"aria-labelledby":k.title,maxWidth:"sm",fullWidth:!0},u.a.createElement(Ve.a,null,k.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},O),j)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){S(),c()},color:"transparent",autoFocus:!0},k.cancel),u.a.createElement(Ee,{onClick:function(){!function(e,a,t,n,l){var o="/users/"+e,r={};a&&(r.nick=a),t&&(r.mail=t),Ya(o,r,(function(){n(e)}),l)}(x.user,x.nick,x.mail,w,C)},color:"info"},k.confirm)))}var ms={en:{title:"Delete User",content:"Are you sure to delete user ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u7528\u6237",content:"\u662f\u5426\u5220\u9664\u7528\u6237 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ds(e){var a,t=e.lang,l=e.name,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(""),s=Object(n.a)(i,2),m=s[0],d=s[1],p=ms[t],f=function(e){d(e)},b=function(e){d(""),r(e)};return a=m&&""!==m?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:m,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:o,"aria-labelledby":p.title,maxWidth:"xs",fullWidth:!0},u.a.createElement(Ve.a,null,p.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},p.content+l),a)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){d(""),c()},color:"transparent",autoFocus:!0},p.cancel),u.a.createElement(Ee,{onClick:function(){!function(e,a,t){Ka("/users/"+e,(function(){a(e)}),t)}(l,b,f)},color:"info"},p.confirm)))}var ps=Object(v.a)({},xn),fs=Object(h.a)(ps),bs={en:{createButton:"Create New User",name:"User Name",modify:"Modify",delete:"Delete",operates:"Operates",noResource:"No User Available"},cn:{createButton:"\u521b\u5efa\u65b0\u7528\u6237",name:"\u7528\u6237\u540d",modify:"\u4fee\u6539",delete:"\u5220\u9664",operates:"\u64cd\u4f5c",noResource:"\u5c1a\u672a\u521b\u5efa\u7528\u6237"}};function gs(e){var a=fs(),t=u.a.useState(null),l=Object(n.a)(t,2),o=l[0],r=l[1],c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(!1),E=Object(n.a)(g,2),h=E[0],v=E[1],x=u.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState("warning"),w=Object(n.a)(S,2),O=w[0],j=w[1],N=u.a.useState(""),_=Object(n.a)(N,2),T=_[0],R=_[1],I=function(){R("")},D=u.a.useCallback((function(e){j("warning"),R(e),setTimeout(I,3e3)}),[j,R]),A=u.a.useCallback((function(){Ga("/users/",r,(function(e){D(e),ua()}))}),[D]),B=function(e){j("info"),R(e),Ua(e),setTimeout(I,3e3)},P=function(){v(!1)},M=function(){b(!1)},W=function(){m(!1)};u.a.useEffect((function(){A()}),[A]);var z=sa();if(null===z)return ma();var H,q=e.lang,F=bs[q];H=null===o?u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}):0===o.length?u.a.createElement(mn,null,F.noResource):u.a.createElement(Cr,{color:"primary",headers:[F.name,F.operates],rows:o.map((function(e,t){var n=e,l=[u.a.createElement(Cn,{key:"modify",label:F.modify,icon:rs.a,onClick:function(){return function(e){v(!0),C(e)}(n)}})];return n!==z.user&&l.push(u.a.createElement(Cn,{key:"delete",label:F.delete,icon:qt.a,onClick:function(){return function(e){b(!0),C(e)}(n)}})),u.a.createElement(En.a,{className:a.tableBodyRow,key:t},u.a.createElement(vn.a,{className:a.tableCell},e),u.a.createElement(vn.a,{className:a.tableCell},l))}))});var L=[u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){m(!0)}},u.a.createElement(ls.a,null),F.createButton)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},L.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1},e)})))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(mi.a,{maxWidth:"sm"},H)),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:O,message:T,open:""!==T,closeNotification:I,close:!0})),u.a.createElement(Ye,null,u.a.createElement(is,{lang:q,open:s,onSuccess:function(e){W(),B("user "+e+" created"),A()},onCancel:W})),u.a.createElement(Ye,null,u.a.createElement(us,{lang:q,name:k,open:h,onSuccess:function(e){P(),B("user "+e+" modified"),A()},onCancel:P})),u.a.createElement(Ye,null,u.a.createElement(ds,{lang:q,name:k,open:f,onSuccess:function(e){M(),B("user "+e+" deleted"),A()},onCancel:M})))}var Es={en:{title:"Add Group",name:"Group Name",display:"Display Name",role:"Roles",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6dfb\u52a0\u7528\u6237\u7ec4",name:"\u7ec4\u540d\u79f0",display:"\u663e\u793a\u540d\u79f0",role:"\u89d2\u8272\u6e05\u5355",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function hs(e){var a={name:"",display:"",checked:new Set},t=e.lang,l=e.open,o=e.onSuccess,r=e.onCancel,c=Es[t],i=u.a.useState([]),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(!1),f=Object(n.a)(p,2),b=f[0],g=f[1],E=u.a.useState(""),h=Object(n.a)(E,2),x=h[0],y=h[1],k=u.a.useState(a),C=Object(n.a)(k,2),S=C[0],w=C[1],O=function(e){y(e)},j=function(){y(""),w(a),g(!1)},N=function(e){j(),o(e)};u.a.useEffect((function(){if(l&&!b){La((function(e){d(e),g(!0)}),O)}}),[b,l]);var _,T,R=function(e){return function(a){var t=a.target.value;w((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},I=function(e){var a=e.target.value,t=e.target.checked,n=Object(v.a)({},S);t?n.checked.add(a):n.checked.delete(a),w(n)};return _=b?u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:c.name,onChange:R("name"),value:S.name,margin:"normal",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:10,md:8},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:c.display,onChange:R("display"),value:S.display,margin:"normal",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},c.role),u.a.createElement(Me.a,null,u.a.createElement(Pe.a,{container:!0},m.map((function(e,a){var t;return t=!!S.checked.has(e),u.a.createElement(Ye,{xs:6,sm:3,key:a},u.a.createElement(De.a,{control:u.a.createElement(We.a,{checked:t,onChange:I,value:e}),label:e}))}))))))))):u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),T=x&&""!==x?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:x,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:l,"aria-labelledby":c.title,maxWidth:"md",fullWidth:!0},u.a.createElement(Ve.a,null,c.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},_),T)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){j(),r()},color:"transparent",autoFocus:!0},c.cancel),u.a.createElement(Ee,{onClick:function(){if(S.name)if(S.display)if(S.checked&&0!==S.checked.size){var e=[];m.forEach((function(a){S.checked.has(a)&&e.push(a)})),function(e,a,t,n,l){var o="/user_groups/"+e,r={display:a};t&&(r.role=t),Za(o,r,(function(){n(e)}),l)}(S.name,S.display,e,N,O)}else O("Select at least one role");else O("Display name required");else O("Group name required")},color:"info"},c.confirm)))}var vs={en:{title:"Modify Group",name:"Group Name",display:"Display Name",role:"Roles",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u7528\u6237\u7ec4",name:"\u7ec4\u540d\u79f0",display:"\u663e\u793a\u540d\u79f0",role:"\u89d2\u8272\u6e05\u5355",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function xs(e){var a={display:"",checked:new Set},t=e.lang,l=e.name,o=e.open,r=e.onSuccess,c=e.onCancel,i=vs[t],s=u.a.useState([]),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(!1),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(""),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(a),S=Object(n.a)(C,2),w=S[0],O=S[1],j=function(e){k(e)},N=function(){k(""),O(a),E(!1)},_=function(){N(),r(l)};u.a.useEffect((function(){if(l&&o&&!g){var e=[],a=function(a){var t=a.display,n=a.role,l=new Set;n.forEach((function(e){l.add(e)})),O({display:t,checked:l}),p(e),E(!0)};La((function(t){e=t,function(e,a,t){Ga("/user_groups/"+e,a,t)}(l,a,j)}),j)}}),[g,o,l]);var T,R,I=function(e){var a=e.target.value,t=e.target.checked,n=Object(v.a)({},w);t?n.checked.add(a):n.checked.delete(a),O(n)};return T=g?u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:i.name,value:l,margin:"normal",disabled:!0,required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:10,md:8},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:i.display,onChange:function(e){return function(a){var t=a.target.value;O((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}}("display"),value:w.display,margin:"normal",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},i.role),u.a.createElement(Me.a,null,u.a.createElement(Pe.a,{container:!0},d.map((function(e,a){var t;return t=!!w.checked.has(e),u.a.createElement(Ye,{xs:6,sm:3,key:a},u.a.createElement(De.a,{control:u.a.createElement(We.a,{checked:t,onChange:I,value:e}),label:e}))}))))))))):u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),R=y&&""!==y?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:y,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:o,"aria-labelledby":i.title,maxWidth:"md",fullWidth:!0},u.a.createElement(Ve.a,null,i.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},T),R)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){N(),c()},color:"transparent",autoFocus:!0},i.cancel),u.a.createElement(Ee,{onClick:function(){if(w.checked&&0!==w.checked.size)if(w.display){var e=[];d.forEach((function(a){w.checked.has(a)&&e.push(a)})),function(e,a,t,n,l){var o="/user_groups/"+e,r={};a&&(r.display=a),t&&(r.role=t),Ya(o,r,(function(){n(e)}),l)}(l,w.display,e,_,j)}else j("Display name required");else j("Select at least one role")},color:"info"},i.confirm)))}var ys={en:{title:"Remove Group",content:"Are you sure to remove group ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u7528\u6237\u7ec4",content:"\u662f\u5426\u5220\u9664\u7528\u6237\u7ec4 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function ks(e){var a,t=e.lang,l=e.name,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(""),s=Object(n.a)(i,2),m=s[0],d=s[1],p=ys[t],f=function(e){d(e)},b=function(e){d(""),r(e)};return a=m&&""!==m?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:m,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:o,"aria-labelledby":p.title,maxWidth:"xs",fullWidth:!0},u.a.createElement(Ve.a,null,p.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},p.content+l),a)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){d(""),c()},color:"transparent",autoFocus:!0},p.cancel),u.a.createElement(Ee,{onClick:function(){!function(e,a,t){Ka("/user_groups/"+e,(function(){a(e)}),t)}(l,b,f)},color:"info"},p.confirm)))}var Cs=Object(v.a)({},xn),Ss=Object(h.a)(Cs),ws={en:{createButton:"Add New Group",name:"Group Name",display:"Display Name",modify:"Modify",remove:"Remove",member:"Members",operates:"Operates",noResource:"No Group Available"},cn:{createButton:"\u521b\u5efa\u65b0\u7528\u6237\u7ec4",name:"\u7528\u6237\u7ec4\u540d",display:"\u663e\u793a\u540d\u79f0",modify:"\u4fee\u6539",remove:"\u5220\u9664",member:"\u6210\u5458",operates:"\u64cd\u4f5c",noResource:"\u5c1a\u672a\u521b\u5efa\u7528\u6237\u7ec4"}};function Os(e){var a=e.lang,t=e.setGroup,l=Ss(),o=u.a.useState(null),r=Object(n.a)(o,2),c=r[0],i=r[1],s=u.a.useState(!1),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(!1),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(!1),v=Object(n.a)(h,2),x=v[0],y=v[1],k=u.a.useState(""),C=Object(n.a)(k,2),S=C[0],w=C[1],O=u.a.useState("warning"),j=Object(n.a)(O,2),N=j[0],_=j[1],T=u.a.useState(""),R=Object(n.a)(T,2),I=R[0],D=R[1],A=function(){D("")},B=u.a.useCallback((function(e){_("warning"),D(e),setTimeout(A,3e3)}),[_,D]),P=u.a.useCallback((function(){Ga("/user_groups/",i,(function(e){B(e),ua()}))}),[B]),M=function(e){_("info"),D(e),Ua(e),setTimeout(A,3e3)},W=function(){y(!1)},z=function(){E(!1)},H=function(){p(!1)};u.a.useEffect((function(){P()}),[P]);var q=sa();if(null===q)return ma();var F,L=ws[a];F=null===c?u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}):0===c.length?u.a.createElement(mn,null,L.noResource):u.a.createElement(Cr,{color:"primary",headers:[L.name,L.display,L.member,L.operates],rows:c.map((function(e,a){var n=e.name,o=[u.a.createElement(Cn,{key:"modify",label:L.modify,icon:rs.a,onClick:function(){return e=n,y(!0),void w(e);var e}}),u.a.createElement(Cn,{key:"member",label:L.member,icon:Ji.a,onClick:function(){return t(n)}})];return n!==q.group&&o.push(u.a.createElement(Cn,{key:"remove",label:L.remove,icon:qt.a,onClick:function(){return e=n,E(!0),void w(e);var e}})),u.a.createElement(En.a,{className:l.tableBodyRow,key:a},u.a.createElement(vn.a,{className:l.tableCell},n),u.a.createElement(vn.a,{className:l.tableCell},e.display),u.a.createElement(vn.a,{className:l.tableCell},e.member.toString()),u.a.createElement(vn.a,{className:l.tableCell},o))}))});var U=[u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){p(!0)}},u.a.createElement(It.a,null),L.createButton)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},U.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1},e)})))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(mi.a,{maxWidth:"sm"},F)),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:N,message:I,open:""!==I,closeNotification:A,close:!0})),u.a.createElement(Ye,null,u.a.createElement(hs,{lang:a,open:d,onSuccess:function(e){H(),M("new group "+e+" added"),P()},onCancel:H})),u.a.createElement(Ye,null,u.a.createElement(xs,{lang:a,name:S,open:x,onSuccess:function(e){W(),M("group "+e+" modified"),P()},onCancel:W})),u.a.createElement(Ye,null,u.a.createElement(ks,{lang:a,name:S,open:g,onSuccess:function(e){z(),M("group "+e+" removed"),P()},onCancel:z})))}var js={en:{title:"Add Group Member ",name:"User",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6dfb\u52a0\u65b0\u6210\u5458 ",name:"\u7528\u6237\u540d",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ns(e){var a,t,l,o={member:""},r=e.lang,c=e.group,i=e.open,s=e.onSuccess,m=e.onCancel,d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(""),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState(o),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState([]),O=Object(n.a)(w,2),j=O[0],N=O[1],_=js[r],T=function(e){x(e)},R=function(){x(""),S(o),b(!1)},I=function(e){R(),s(e,c)};return u.a.useEffect((function(){if(i&&!f){!function(e,a,t){var n="/user_search/";e&&(n+="?group="+e),Ga(n,a,t)}(null,(function(e){0!==e.length?(N(e),b(!0)):T("no unallocated users available")}),T)}}),[f,i]),a=f?u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:8},u.a.createElement(te.a,{m:1,p:2},u.a.createElement(_e.a,{htmlFor:"member"},_.name),u.a.createElement(je.a,{value:C.member,onChange:(t="member",function(e){var a=e.target.value;S((function(e){return Object(v.a)({},e,Object(X.a)({},t,a))}))}),inputProps:{name:"member",id:"member"},fullWidth:!0},j.map((function(e){return u.a.createElement(xe.a,{value:e,key:e},e)})))))):u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),l=h&&""!==h?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:h,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:i,"aria-labelledby":_.title,maxWidth:"sm",fullWidth:!0},u.a.createElement(Ve.a,null,_.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},a),l)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){R(),m()},color:"transparent",autoFocus:!0},_.cancel),u.a.createElement(Ee,{onClick:function(){C.member&&""!==C.member||T("must select an user"),function(e,a,t,n){Za("/user_groups/"+e+"/members/"+a,{},(function(){t(a,e)}),n)}(c,C.member,I,T)},color:"info"},_.confirm)))}var _s={en:{title:"Remove Group Member",content:"Are you sure to remove member ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u6210\u5458",content:"\u662f\u5426\u5220\u9664\u7528\u6237\u7ec4\u6210\u5458 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ts(e){var a,t=e.lang,l=e.group,o=e.member,r=e.open,c=e.onSuccess,i=e.onCancel,s=u.a.useState(""),m=Object(n.a)(s,2),d=m[0],p=m[1],f=_s[t],b=function(e){p(e)},g=function(){p(""),c(o,l)};return a=d&&""!==d?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:d,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:r,"aria-labelledby":f.title,maxWidth:"xs",fullWidth:!0},u.a.createElement(Ve.a,null,f.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},f.content+o),a)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){p(""),i()},color:"transparent",autoFocus:!0},f.cancel),u.a.createElement(Ee,{onClick:function(){!function(e,a,t,n){Ka("/user_groups/"+e+"/members/"+a,(function(){t(a,e)}),n)}(l,o,g,b)},color:"info"},f.confirm)))}var Rs=Object(v.a)({},xn),Is=Object(h.a)(Rs),Ds={en:{addButton:"Add Group Member",backButton:"Back",remove:"Remove",member:"Member",operates:"Operates",noResource:"No Member Available"},cn:{addButton:"\u589e\u52a0\u65b0\u6210\u5458",backButton:"\u8fd4\u56de",remove:"\u5220\u9664",member:"\u6210\u5458",operates:"\u64cd\u4f5c",noResource:"\u5c1a\u672a\u6dfb\u52a0\u6210\u5458"}};function As(e){var a=e.lang,t=e.group,l=e.onBack,o=Is(),r=u.a.useState(null),c=Object(n.a)(r,2),i=c[0],s=c[1],m=u.a.useState(!1),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState(!1),g=Object(n.a)(b,2),E=g[0],h=g[1],v=u.a.useState(""),x=Object(n.a)(v,2),y=x[0],k=x[1],C=u.a.useState("warning"),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(""),N=Object(n.a)(j,2),_=N[0],T=N[1],R=function(){T("")},I=u.a.useCallback((function(e){O("warning"),T(e),setTimeout(R,3e3)}),[O,T]),D=u.a.useCallback((function(){!function(e,a,t){Ga("/user_groups/"+e+"/members/",a,t)}(t,s,(function(e){I(e),ua()}))}),[I,t]),A=function(e){O("info"),T(e),Ua(e),setTimeout(R,3e3)},B=function(){h(!1)},P=function(){f(!1)};if(u.a.useEffect((function(){D()}),[D]),null===sa())return ma();var M,W=Ds[a];M=null===i?u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}):0===i.length?u.a.createElement(mn,null,W.noResource):u.a.createElement(Cr,{color:"primary",headers:[W.member,W.operates],rows:i.map((function(e,a){var t=[u.a.createElement(Cn,{key:"remove",label:W.remove,icon:qt.a,onClick:function(){return a=e,h(!0),void k(a);var a}})];return u.a.createElement(En.a,{className:o.tableBodyRow,key:a},u.a.createElement(vn.a,{className:o.tableCell},e),u.a.createElement(vn.a,{className:o.tableCell},t))}))});var z=[u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:l},u.a.createElement(lo.a,null),W.backButton),u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){f(!0)}},u.a.createElement(It.a,null),W.addButton)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},z.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1},e)})))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(mi.a,{maxWidth:"sm"},M)),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:w,message:_,open:""!==_,closeNotification:R,close:!0})),u.a.createElement(Ye,null,u.a.createElement(Ns,{lang:a,group:t,open:p,onSuccess:function(e){P(),A("member "+e+" added"),D()},onCancel:P})),u.a.createElement(Ye,null,u.a.createElement(Ts,{lang:a,group:t,member:y,open:E,onSuccess:function(e){B(),A("member "+e+" removed"),D()},onCancel:B})))}var Bs={en:{title:"Add Role",name:"Name",menu:"Menus",dashboard:"Dashboard",computePool:"Compute Pools",addressPool:"Address Pools",storagePool:"Storage Pools",instance:"Instances",diskImage:"Disk Image",mediaImage:"Media Image",user:"Users",log:"Logs",visibility:"Resource Visibility",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u65b0\u589e\u89d2\u8272",name:"\u540d\u79f0",menu:"\u53ef\u7528\u83dc\u5355",dashboard:"\u4eea\u8868\u76d8",computePool:"\u8ba1\u7b97\u8d44\u6e90\u6c60",addressPool:"\u5730\u5740\u8d44\u6e90\u6c60",storagePool:"\u5b58\u50a8\u8d44\u6e90\u6c60",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b",diskImage:"\u78c1\u76d8\u955c\u50cf",mediaImage:"\u5149\u76d8\u955c\u50cf",user:"\u7528\u6237",log:"\u65e5\u5fd7",visibility:"\u8d44\u6e90\u53ef\u89c1\u6027",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ps(e){var a,t,l={name:"",checked:new Set},o=e.lang,r=e.open,c=e.onSuccess,i=e.onCancel,s=Bs[o],m=ha(o),d=u.a.useState(""),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(l),E=Object(n.a)(g,2),h=E[0],x=E[1],y=function(e){b(e)},k=function(){b(""),x(l)},C=function(e){k(),c(e)},S=function(e){var a=e.target.value,t=e.target.checked,n=Object(v.a)({},h);t?n.checked.add(a):n.checked.delete(a),x(n)},w=u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:s.name,onChange:(a="name",function(e){var t=e.target.value;x((function(e){return Object(v.a)({},e,Object(X.a)({},a,t))}))}),value:h.name,margin:"normal",required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},s.menu),u.a.createElement(Me.a,null,u.a.createElement(Pe.a,{container:!0},m.map((function(e,a){var t,n=e.value,l=e.label;return t=!!h.checked.has(n),u.a.createElement(Ye,{xs:6,sm:3,key:a},u.a.createElement(De.a,{control:u.a.createElement(We.a,{checked:t,onChange:S,value:n}),label:l}))})))))))));return t=f&&""!==f?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:f,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:r,"aria-labelledby":s.title,maxWidth:"md",fullWidth:!0},u.a.createElement(Ve.a,null,s.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},w),t)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){k(),i()},color:"transparent",autoFocus:!0},s.cancel),u.a.createElement(Ee,{onClick:function(){if(h.name)if(h.checked&&0!==h.checked.size){var e=[];m.forEach((function(a){h.checked.has(a.value)&&e.push(a.value)})),function(e,a,t,n){Za("/roles/"+e,{menu:a},(function(){t(e)}),n)}(h.name,e,C,y)}else y("Select at least one menu item");else y("must specify role name")},color:"info"},s.confirm)))}var Ms={en:{title:"Modify Role",name:"Name",menu:"Menus",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u4fee\u6539\u89d2\u8272\u6743\u9650",name:"\u540d\u79f0",menu:"\u53ef\u7528\u83dc\u5355",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ws(e){var a={checked:new Set},t=e.lang,l=e.name,o=e.open,r=e.onSuccess,c=e.onCancel,i=Ms[t],s=ha(t),m=u.a.useState(!1),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState(""),g=Object(n.a)(b,2),E=g[0],h=g[1],x=u.a.useState(a),y=Object(n.a)(x,2),k=y[0],C=y[1],S=function(e){h(e)},w=function(){h(""),C(a),f(!1)},O=function(){w(),r(l)};u.a.useEffect((function(){if(l&&o&&!p){!function(e,a,t){Ga("/roles/"+e,a,t)}(l,(function(e){var a=e.menu,t=new Set;a.forEach((function(e){t.add(e)})),C({checked:t}),f(!0)}),S)}}),[p,o,l]);var j,N,_=function(e){var a=e.target.value,t=e.target.checked,n=Object(v.a)({},k);t?n.checked.add(a):n.checked.delete(a),C(n)};return j=p?u.a.createElement(Pe.a,{container:!0},u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:i.name,value:l,margin:"normal",disabled:!0,required:!0,fullWidth:!0})))),u.a.createElement(cc,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},i.menu),u.a.createElement(Me.a,null,u.a.createElement(Pe.a,{container:!0},s.map((function(e,a){var t,n=e.value,l=e.label;return t=!!k.checked.has(n),u.a.createElement(Ye,{xs:6,sm:3,key:a},u.a.createElement(De.a,{control:u.a.createElement(We.a,{checked:t,onChange:_,value:n}),label:l}))}))))))))):u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),N=E&&""!==E?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:E,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:o,"aria-labelledby":i.title,maxWidth:"md",fullWidth:!0},u.a.createElement(Ve.a,null,i.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},j),N)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){w(),c()},color:"transparent",autoFocus:!0},i.cancel),u.a.createElement(Ee,{onClick:function(){if(k.checked&&0!==k.checked.size){var e=[];s.forEach((function(a){k.checked.has(a.value)&&e.push(a.value)})),function(e,a,t,n){Ya("/roles/"+e,{menu:a},(function(){t(e)}),n)}(l,e,O,S)}else S("Select at least one menu item")},color:"info"},i.confirm)))}var zs={en:{title:"Remove Role",content:"Are you sure to remove role ",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u5220\u9664\u89d2\u8272",content:"\u662f\u5426\u5220\u9664\u89d2\u8272 ",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Hs(e){var a,t=e.lang,l=e.name,o=e.open,r=e.onSuccess,c=e.onCancel,i=u.a.useState(""),s=Object(n.a)(i,2),m=s[0],d=s[1],p=zs[t],f=function(e){d(e)},b=function(e){d(""),r(e)};return a=m&&""!==m?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:m,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:o,"aria-labelledby":p.title,maxWidth:"xs",fullWidth:!0},u.a.createElement(Ve.a,null,p.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},p.content+l),a)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){d(""),c()},color:"transparent",autoFocus:!0},p.cancel),u.a.createElement(Ee,{onClick:function(){!function(e,a,t){Ka("/roles/"+e,(function(){a(e)}),t)}(l,b,f)},color:"info"},p.confirm)))}var qs=Object(v.a)({},xn),Fs=Object(h.a)(qs),Ls={en:{createButton:"Add New Role",name:"Role Name",modify:"Modify",delete:"Remove",operates:"Operates",noResource:"No Role Available"},cn:{createButton:"\u589e\u52a0\u65b0\u89d2\u8272",name:"\u89d2\u8272\u540d",modify:"\u4fee\u6539",delete:"\u5220\u9664",operates:"\u64cd\u4f5c",noResource:"\u5c1a\u672a\u521b\u5efa\u89d2\u8272"}};function Us(e){var a=Fs(),t=u.a.useState(null),l=Object(n.a)(t,2),o=l[0],r=l[1],c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState(!1),E=Object(n.a)(g,2),h=E[0],v=E[1],x=u.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState("warning"),w=Object(n.a)(S,2),O=w[0],j=w[1],N=u.a.useState(""),_=Object(n.a)(N,2),T=_[0],R=_[1],I=function(){R("")},D=u.a.useCallback((function(e){j("warning"),R(e),setTimeout(I,3e3)}),[j,R]),A=u.a.useCallback((function(){La(r,(function(e){D(e),ua()}))}),[D]),B=function(e){j("info"),R(e),Ua(e),setTimeout(I,3e3)},P=function(){v(!1)},M=function(){b(!1)},W=function(){m(!1)};if(u.a.useEffect((function(){A()}),[A]),null===sa())return ma();var z,H=e.lang,q=Ls[H];z=null===o?u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}):0===o.length?u.a.createElement(mn,null,q.noResource):u.a.createElement(Cr,{color:"primary",headers:[q.name,q.operates],rows:o.map((function(e,t){var n=e,l=[u.a.createElement(Cn,{key:"modify",label:q.modify,icon:rs.a,onClick:function(){return function(e){v(!0),C(e)}(n)}}),u.a.createElement(Cn,{key:"remove",label:q.delete,icon:qt.a,onClick:function(){return function(e){b(!0),C(e)}(n)}})];return u.a.createElement(En.a,{className:a.tableBodyRow,key:t},u.a.createElement(vn.a,{className:a.tableCell},e),u.a.createElement(vn.a,{className:a.tableCell},l))}))});var F=[u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){m(!0)}},u.a.createElement(It.a,null),q.createButton)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},F.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1},e)})))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(mi.a,{maxWidth:"sm"},z)),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:O,message:T,open:""!==T,closeNotification:I,close:!0})),u.a.createElement(Ye,null,u.a.createElement(Ps,{lang:H,open:s,onSuccess:function(e){W(),B("role "+e+" added"),A()},onCancel:W})),u.a.createElement(Ye,null,u.a.createElement(Ws,{lang:H,name:k,open:h,onSuccess:function(e){P(),B("role "+e+" modified"),A()},onCancel:P})),u.a.createElement(Ye,null,u.a.createElement(Hs,{lang:H,name:k,open:f,onSuccess:function(e){M(),B("role "+e+" removed"),A()},onCancel:M})))}var Vs={en:{title:"Permissions",user:"Users",group:"User Groups",role:"Roles"},cn:{title:"\u6743\u9650\u7ba1\u7406",user:"\u7528\u6237",group:"\u7528\u6237\u7ec4",role:"\u89d2\u8272"}},Gs=function(e){var a=e.lang,t=u.a.useState(""),l=Object(n.a)(t,2),o=l[0],r=l[1];return o?u.a.createElement(As,{lang:a,group:o,onBack:function(){return r("")}}):u.a.createElement(Os,{lang:a,setGroup:r})};var $s=Object(v.a)({},xn),Zs=Object(h.a)($s),Js={en:{modify:"Modify",visibility:"Group Resource Visibility",description:"Description",instance:"Instances Visible",instanceDescription:"User can browse instances created by other users in the same group when enabled. Otherwise, an instance is only visible to its creator by default.",disk:"Disk Images Visible",diskDescription:"User can browse disk images created by other users in the same group when enabled. Otherwise, an image is only visible to its creator by default.",media:"Media Images Visible",mediaDescription:"User can browse media images created by other users in the same group when enabled. Otherwise, an image is only visible to its creator by default."},cn:{modify:"\u4fee\u6539",visibility:"\u7ec4\u8d44\u6e90\u53ef\u89c1\u6027",description:"\u63cf\u8ff0",instance:"\u4e91\u4e3b\u673a\u5b9e\u4f8b\u7ec4\u5185\u53ef\u89c1",instanceDescription:"\u52fe\u9009\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u540c\u4e00\u7ec4\u5185\u5176\u4ed6\u7528\u6237\u521b\u5efa\u7684\u4e91\u4e3b\u673a\u5b9e\u4f8b(\u9ed8\u8ba4\u4ec5\u5bf9\u521b\u5efa\u8005\u53ef\u89c1)",disk:"\u78c1\u76d8\u955c\u50cf\u7ec4\u5185\u53ef\u89c1",diskDescription:"\u52fe\u9009\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u540c\u4e00\u7ec4\u5185\u5176\u4ed6\u7528\u6237\u521b\u5efa\u7684\u78c1\u76d8\u955c\u50cf(\u9ed8\u8ba4\u4ec5\u5bf9\u521b\u5efa\u8005\u53ef\u89c1)",media:"\u5149\u76d8\u955c\u50cf\u7ec4\u5185\u53ef\u89c1",mediaDescription:"\u52fe\u9009\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u67e5\u770b\u540c\u4e00\u7ec4\u5185\u5176\u4ed6\u7528\u6237\u521b\u5efa\u7684\u5149\u76d8\u955c\u50cf(\u9ed8\u8ba4\u4ec5\u5bf9\u521b\u5efa\u8005\u53ef\u89c1)"}},Qs=function(e){var a=e.checked,t=e.onChange,n=e.label,l=e.description,o=e.classes;return u.a.createElement(En.a,{className:o.tableBodyRow},u.a.createElement(vn.a,{className:o.tableCell},u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,null,u.a.createElement(We.a,{checked:a,onChange:t})),u.a.createElement(te.a,null,n))),u.a.createElement(vn.a,{className:o.tableCell},l))};var Ys={en:{title:"Batch Deleting Log",content1:"Are you sure to delete ",content2:" log(s)",cancel:"Cancel",confirm:"Confirm"},cn:{title:"\u6279\u91cf\u5220\u9664\u65e5\u5fd7",content1:"\u662f\u5426\u5220\u9664 ",content2:" \u6761\u65e5\u5fd7",cancel:"\u53d6\u6d88",confirm:"\u786e\u5b9a"}};function Ks(e){var a,t=e.lang,l=e.targets,o=e.open,r=e.onSuccess,c=e.onCancel,i=l.length,s=u.a.useState(""),m=Object(n.a)(s,2),d=m[0],p=m[1],f=Ys[t],b=function(e){p(e)},g=function(){p(""),r(i)};return a=d&&""!==d?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:d,color:"danger"})):u.a.createElement(Ye,{xs:12}),u.a.createElement(Fe.a,{open:o,"aria-labelledby":f.title,maxWidth:"sm",fullWidth:!0},u.a.createElement(Ve.a,null,f.title),u.a.createElement(Ue.a,null,u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},f.content1+i.toString()+f.content2),a)),u.a.createElement(Le.a,null,u.a.createElement(Ee,{onClick:function(){p(""),c()},color:"transparent",autoFocus:!0},f.cancel),u.a.createElement(Ee,{onClick:function(){!function(e,a,t){Xa("/logs/",{entries:e},a,t)}(l,g,b)},color:"info"},f.confirm)))}var Xs=Object(v.a)({},Gn,{cardTitleWhite:{color:"#FFFFFF",marginTop:"0px",minHeight:"auto",fontWeight:"300",fontFamily:"'Roboto', 'Helvetica', 'Arial', sans-serif",marginBottom:"3px",textDecoration:"none","& small":{color:"#777",fontSize:"65%",fontWeight:"400",lineHeight:"1"}}}),eu=Object(h.a)(Xs),au={en:{batchDelete:"Batch Delete",enterBatch:"Enter Batch Mode",exitBatch:"Exit Batch Mode",tableTitle:"Operate Logs",duration:"Log Duration",time:"Timestamp",content:"Content",noResource:"No log available",day:"The Last Day",month:"The Last Month",year:"The Last Year"},cn:{batchDelete:"\u6279\u91cf\u5220\u9664",enterBatch:"\u8fdb\u5165\u6279\u91cf\u6a21\u5f0f",exitBatch:"\u9000\u51fa\u6279\u91cf\u6a21\u5f0f",tableTitle:"\u64cd\u4f5c\u65e5\u5fd7",duration:"\u65e5\u5fd7\u8303\u56f4",time:"\u65e5\u5fd7\u65f6\u95f4",content:"\u5185\u5bb9",noResource:"\u6ca1\u6709\u65e5\u5fd7\u4fe1\u606f",day:"\u6700\u8fd1\u4e00\u5929",month:"\u6700\u8fd1\u4e00\u4e2a\u6708",year:"\u6700\u8fd1\u4e00\u5e74"}},tu=function(e){var a,t=e.log,n=e.checked,l=e.checkable,o=e.onCheckStatusChanged;return a=l?u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,null,u.a.createElement(We.a,{checked:n,onChange:function(e){var a=e.target.checked;o(a,t.id)},value:t.id})),u.a.createElement(te.a,null,t.time)):t.time,u.a.createElement(En.a,null,u.a.createElement(vn.a,null,a),u.a.createElement(vn.a,null,t.content))};var nu,lu=t(272),ou=t.n(lu),ru=t(273),cu=t.n(ru),iu=t(274),su=t.n(iu),uu=t(275),mu=t.n(uu),du=t(276),pu=t.n(du),fu=t(278),bu=t.n(fu),gu=t(279),Eu=t.n(gu),hu=t(277),vu=t.n(hu),xu=[{path:"/dashboard",name:"dashboard",display:{cn:"\u7cfb\u7edf\u4eea\u8868\u76d8",en:"Dashboard"},icon:ou.a,component:function(e){return u.a.createElement("div",null,u.a.createElement(E.b,{path:"/admin/dashboard",exact:!0,render:function(a){return u.a.createElement(rl,Object(v.a)({},a,{},e))}}),u.a.createElement(E.b,{path:"/admin/dashboard/pools/",exact:!0,render:function(a){return u.a.createElement(hl,Object(v.a)({},a,{},e))}}),u.a.createElement(E.b,{path:"/admin/dashboard/pools/:pool",exact:!0,render:function(a){return u.a.createElement(Il,Object(v.a)({},a,{},e))}}))},layout:"/admin"},{path:"/compute_pools",name:"compute_pool",display:{cn:"\u8ba1\u7b97\u8d44\u6e90\u6c60",en:"Compute Pools"},icon:cu.a,component:function(e){var a,t=Fl(),l=e.lang,o=Ll[l],r=u.a.useState(!1),c=Object(n.a)(r,2),i=c[0],s=c[1],m=u.a.useState(null),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState(!1),g=Object(n.a)(b,2),E=g[0],h=g[1],x=u.a.useState(!1),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState(!1),w=Object(n.a)(S,2),O=w[0],j=w[1],N=u.a.useState(""),_=Object(n.a)(N,2),T=_[0],R=_[1],I=u.a.useState("warning"),D=Object(n.a)(I,2),A=D[0],B=D[1],P=u.a.useState(""),M=Object(n.a)(P,2),W=M[0],z=M[1],H=function(){z("")},q=u.a.useCallback((function(e){if(i){B("warning"),z(e),setTimeout(H,3e3)}}),[B,z,i]),F=u.a.useCallback((function(){if(i){va(f,(function(e){i&&q(e)}))}}),[q,i]),L=function(e){if(i){B("info"),z(e),Ua(e),setTimeout(H,3e3)}},U=function(){C(!1)},V=function(){j(!1)},G=function(){h(!1)};if(u.a.useEffect((function(){return s(!0),F(),function(){s(!1)}}),[F]),null===p)a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});else if(0===p.length)a=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,o.noPools));else{var $=[];p.forEach((function(e){var a,n,l,r=[{label:o.cells,icon:Al.a,href:"/admin/compute_cells/?pool="+e.name},{label:o.instances,icon:zt.a,href:"/admin/instances/range/?pool="+e.name},{onClick:function(a){return t=e.name,C(!0),void R(t);var t},icon:Lt.a,label:o.modify},{onClick:function(a){return t=e.name,j(!0),void R(t);var t},icon:qt.a,label:o.delete}],c=e.name,i=e.cells,s=e.network,m=e.storage,d=e.enabled,p=e.failover;d?(a=o.enabled,n=u.a.createElement(re.a,{title:a,placement:"top"},u.a.createElement(Bt.a,{className:t.successText})),r=[{label:o.disable,icon:Mt.a}].concat(r)):(a=o.disabled,n=u.a.createElement(re.a,{title:a,placement:"top"},u.a.createElement(Mt.a,{className:t.warningText})),r=[{label:o.enable,icon:Bt.a}].concat(r));l=p?o.on:o.off;var f=r.map((function(e,a){return u.a.createElement(Cn,Object(v.a)({},e,{key:a}))})),b=[c,i,s||o.noAddressPool,m||o.localStorage,l,n,f];$.push(b)})),a=u.a.createElement(kn,{color:"primary",headers:[o.name,o.cells,o.network,o.storage,o.failover,o.status,o.operates],rows:$})}return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Dt.a,{separator:"\u203a","aria-label":"breadcrumb"},u.a.createElement(ie.a,{color:"textPrimary"},o.computePools))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:3,sm:3,md:3},u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){h(!0)}},u.a.createElement(It.a,null),o.createButton)))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:t.cardTitleWhite},o.tableTitle)),u.a.createElement(sn,null,a))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:A,message:W,open:""!==W,closeNotification:H,close:!0})),u.a.createElement(Ye,null,u.a.createElement(Wl,{lang:l,open:E,onSuccess:function(e){G(),L("pool "+e+" created"),F()},onCancel:G})),u.a.createElement(Ye,null,u.a.createElement(Hl,{lang:l,open:k,pool:T,onSuccess:function(e){U(),L("pool "+e+" modified"),F()},onCancel:U})),u.a.createElement(Ye,null,u.a.createElement(Pl,{lang:l,open:O,pool:T,onSuccess:function(e){V(),L("pool "+e+" deleted"),F()},onCancel:V})))},layout:"/admin"},{path:"/address_pools",name:"address_pool",display:{cn:"\u5730\u5740\u6c60",en:"Address Pools"},icon:su.a,component:function(e){return u.a.createElement("div",null,u.a.createElement(E.b,{path:"/admin/address_pools",exact:!0,render:function(){return u.a.createElement(to,e)}}),u.a.createElement(E.b,{path:"/admin/address_pools/:pool",exact:!0,render:function(a){return u.a.createElement(fo,Object(v.a)({},e,{},a))}}),u.a.createElement(E.b,{path:"/admin/address_pools/:pool/:type/ranges/:start",render:function(a){return u.a.createElement(Eo,Object(v.a)({},e,{},a))}}))},layout:"/admin"},{path:"/storage_pools",name:"storage_pool",display:{cn:"\u5b58\u50a8\u6c60",en:"Storage Pools"},icon:Yt.a,component:function(e){var a,t=e.lang,l=wo[t],o=So(),r=u.a.useState(!1),c=Object(n.a)(r,2),i=c[0],s=c[1],m=u.a.useState(null),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState(!1),g=Object(n.a)(b,2),E=g[0],h=g[1],v=u.a.useState(!1),x=Object(n.a)(v,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(""),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useState("warning"),I=Object(n.a)(R,2),D=I[0],A=I[1],B=u.a.useState(""),P=Object(n.a)(B,2),M=P[0],W=P[1],z=function(){W("")},H=u.a.useCallback((function(e){if(i){A("warning"),W(e),setTimeout(z,3e3)}}),[A,W,i]),q=u.a.useCallback((function(){if(i){ka(f,(function(e){i&&H(e)}))}}),[H,i]),F=function(e){if(i){A("info"),W(e),Ua(e),setTimeout(z,3e3)}},L=function(){k(!1)},U=function(){O(!1)},V=function(){h(!1)};if(u.a.useEffect((function(){return s(!0),q(),function(){s(!1)}}),[q]),null===p)a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});else if(0===p.length)a=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,l.noResource));else{var G=[];p.forEach((function(e){var a=[{onClick:function(a){return t=e.name,k(!0),void T(t);var t},icon:Lt.a,label:l.modify},{onClick:function(a){return t=e.name,O(!0),void T(t);var t},icon:qt.a,label:l.delete}];G.push(function(e,a){var t=a.map((function(e,a){return u.a.createElement(Cn,{label:e.label,icon:e.icon,onClick:e.onClick,key:a})}));return[e.name,e.type,e.host,e.target,t]}(e,a))})),a=u.a.createElement(kn,{color:"primary",headers:[l.name,l.type,l.host,l.target,l.operates],rows:G})}return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:3,sm:3,md:3},u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){h(!0)}},u.a.createElement(It.a,null),l.createButton)))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:o.cardTitleWhite},l.tableTitle)),u.a.createElement(sn,null,a))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:D,message:M,open:""!==M,closeNotification:z,close:!0})),u.a.createElement(Ye,null,u.a.createElement(yo,{lang:t,open:E,onSuccess:function(e){V(),F("pool "+e+" created"),q()},onCancel:V})),u.a.createElement(Ye,null,u.a.createElement(Co,{lang:t,open:y,pool:_,onSuccess:function(e){L(),F("pool "+e+" modified"),q()},onCancel:L})),u.a.createElement(Ye,null,u.a.createElement(vo,{lang:t,open:w,pool:_,onSuccess:function(e){U(),F("pool "+e+" deleted"),q()},onCancel:U})))},layout:"/admin"},{path:"/instances",name:"instance",display:{cn:"\u4e91\u4e3b\u673a",en:"Instances"},icon:mu.a,component:function(e){return u.a.createElement("div",null,u.a.createElement(E.b,{path:"/admin/instances",exact:!0,render:function(){return u.a.createElement($i,e)}}),u.a.createElement(E.b,{path:"/admin/instances/range/",render:function(){return u.a.createElement(_c,e)}}),u.a.createElement(E.b,{path:"/admin/instances/control/:id",render:function(a){return u.a.createElement(Pc,Object(v.a)({},a,{},e))}}),u.a.createElement(E.b,{path:"/admin/instances/status/:id",render:function(a){return u.a.createElement(Fc,Object(v.a)({},a,{},e))}}),u.a.createElement(E.b,{path:"/admin/instances/snapshots/:id",render:function(a){return u.a.createElement(ui,Object(v.a)({},a,{},e))}}),u.a.createElement(E.b,{path:"/admin/instances/details/:id",render:function(a){return u.a.createElement(Li,Object(v.a)({},a,{},e))}}))},layout:"/admin"},{path:"/disk_images",name:"image",display:{cn:"\u78c1\u76d8\u955c\u50cf",en:"Disk Images"},icon:pu.a,component:function(e){var a,t=e.lang,l=$o[t],o=u.a.useState(!1),r=Object(n.a)(o,2),c=r[0],i=r[1],s=u.a.useState(null),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(!1),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(!1),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(!1),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useState(""),I=Object(n.a)(R,2),D=I[0],A=I[1],B=u.a.useState("warning"),P=Object(n.a)(B,2),M=P[0],W=P[1],z=u.a.useState(""),H=Object(n.a)(z,2),q=H[0],F=H[1],L=function(){F("")},U=u.a.useCallback((function(e){if(c){W("warning"),F(e),setTimeout(L,3e3)}}),[W,F,c]),V=function(e){W("info"),F(e),Ua(e),setTimeout(L,3e3)},G=u.a.useCallback((function(){if(c){Ba((function(e){c&&p(e||[])}),(function(e){c&&U(e)}))}}),[U,c]),$=function(){O(!1)},Z=function(){T(!1)},J=function(){E(!1)},Q=function(){k(!1)};return u.a.useEffect((function(){i(!0),G();var e=setInterval((function(){G()}),5e3);return function(){i(!1),clearInterval(e)}}),[G]),a=null===d?u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}):0===d.length?u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,l.noResource)):u.a.createElement(Xt,null,d.map((function(e,a){var t=[{label:l.modify,icon:Lt.a,onClick:function(){return a=e.id,O(!0),void A(a);var a}},{label:l.download,icon:Wo.a,onClick:function(){var a,t=(a=e.id,ba+"/disk_images/"+a+"/file/");window.location.href=t}},{label:l.delete,icon:qt.a,onClick:function(){return a=e.id,T(!0),void A(a);var a}}],n=function(e,a,t,n){var l=e.name,o=e.size,r=e.tags,c=e.description,i=e.create_time,s=e.modify_time,m=e.id,d=da(o),p=a.map((function(e,a){return u.a.createElement(Cn,Object(v.a)({},e,{key:a}))}));return u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",null,l),u.a.createElement("span",null,m),u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,{m:1},d),r.map((function(e){return u.a.createElement(te.a,{m:0,p:1,key:e},u.a.createElement(No.a,{label:e}))})))),u.a.createElement(sn,null,u.a.createElement(ie.a,{variant:"body1",component:"p",noWrap:!0},c),u.a.createElement("p",null,t+": "+i),u.a.createElement("p",null,n+": "+s),p))}(e,t,l.createTime,l.modifyTime);return u.a.createElement(Ye,{xs:12,sm:6,md:4,key:a},n)}))),u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12,sm:6,md:4},u.a.createElement(te.a,{display:"flex"},u.a.createElement(te.a,{p:1},u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){E(!0)}},u.a.createElement(jo.a,null),l.uploadButton)),u.a.createElement(te.a,{p:1},u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){k(!0)}},u.a.createElement(Vl.a,null),l.buildButton)))))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12,sm:12,md:12},a),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:M,message:q,open:""!==q,closeNotification:L,close:!0})),u.a.createElement(Ye,null,u.a.createElement(Fo,{lang:t,open:g,onSuccess:function(e){J(),V("new image "+e+" uploaded"),G()},onCancel:J})),u.a.createElement(Ye,null,u.a.createElement(Go,{lang:t,open:y,onSuccess:function(e){Q(),V("new image "+e+" built"),G()},onCancel:Q})),u.a.createElement(Ye,null,u.a.createElement(Uo,{lang:t,imageID:D,open:w,onSuccess:function(e){$(),V("image "+e+" modified"),G()},onCancel:$})),u.a.createElement(Ye,null,u.a.createElement(Ho,{lang:t,imageID:D,open:_,onSuccess:function(e){Z(),V("image "+e+" deleted"),G()},onCancel:Z})))},layout:"/admin"},{path:"/media_images",name:"media",display:{cn:"\u5149\u76d8\u955c\u50cf",en:"Media Images"},icon:Yr.a,component:function(e){var a,t=e.lang,l=Po[t],o=u.a.useState(!1),r=Object(n.a)(o,2),c=r[0],i=r[1],s=u.a.useState(null),m=Object(n.a)(s,2),d=m[0],p=m[1],f=u.a.useState(!1),b=Object(n.a)(f,2),g=b[0],E=b[1],h=u.a.useState(!1),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(""),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useState("warning"),I=Object(n.a)(R,2),D=I[0],A=I[1],B=u.a.useState(""),P=Object(n.a)(B,2),M=P[0],W=P[1],z=function(){W("")},H=u.a.useCallback((function(e){if(c){A("warning"),W(e),setTimeout(z,3e3)}}),[A,W,c]),q=function(e){A("info"),W(e),Ua(e),setTimeout(z,3e3)},F=u.a.useCallback((function(){if(c){Da((function(e){c&&p(e||[])}),(function(e){c&&H(e)}))}}),[H,c]),L=function(){k(!1)},U=function(){O(!1)},V=function(){E(!1)};return u.a.useEffect((function(){i(!0),F();var e=setInterval((function(){F()}),5e3);return function(){i(!1),clearInterval(e)}}),[F]),a=null===d?u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}):0===d.length?u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,l.noResource)):u.a.createElement(Xt,null,d.map((function(e,a){var t=[{label:l.modify,icon:Lt.a,onClick:function(){return a=e.id,k(!0),void T(a);var a}},{label:l.delete,icon:qt.a,onClick:function(){return a=e.id,O(!0),void T(a);var a}}],n=function(e,a,t,n){var l=e.name,o=e.size,r=e.tags,c=e.description,i=e.create_time,s=e.modify_time,m=e.id,d=da(o),p=a.map((function(e,a){return u.a.createElement(Cn,Object(v.a)({},e,{key:a}))}));return u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",null,l),u.a.createElement("span",null,m),u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,{m:1},d),r.map((function(e){return u.a.createElement(te.a,{m:0,p:1,key:e},u.a.createElement(No.a,{label:e}))})))),u.a.createElement(sn,null,u.a.createElement(ie.a,{variant:"body1",component:"p",noWrap:!0},c),u.a.createElement("p",null,t+": "+i),u.a.createElement("p",null,n+": "+s),p))}(e,t,l.createTime,l.modifyTime);return u.a.createElement(Ye,{xs:12,sm:6,md:4,key:a},n)}))),u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:3,sm:3,md:3},u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){E(!0)}},u.a.createElement(jo.a,null),l.uploadButton)))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12,sm:12,md:12},a),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:D,message:M,open:""!==M,closeNotification:z,close:!0})),u.a.createElement(Ye,null,u.a.createElement(Do,{lang:t,open:g,onSuccess:function(e){V(),q("new image "+e+" uploaded"),F()},onCancel:V})),u.a.createElement(Ye,null,u.a.createElement(Bo,{lang:t,imageID:_,open:y,onSuccess:function(e){L(),q("image "+e+" modified"),F()},onCancel:L})),u.a.createElement(Ye,null,u.a.createElement(To,{lang:t,imageID:_,open:w,onSuccess:function(e){U(),q("image "+e+" deleted"),F()},onCancel:U})))},layout:"/admin"},{path:"/system_templates",name:"templates",display:{cn:"\u7cfb\u7edf\u6a21\u677f",en:"System Templates"},icon:vu.a,component:function(e){var a,t=e.lang,l=br[t],o=fr(),r=u.a.useState(!1),c=Object(n.a)(r,2),i=c[0],s=c[1],m=u.a.useState(null),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState(!1),g=Object(n.a)(b,2),E=g[0],h=g[1],v=u.a.useState(!1),x=Object(n.a)(v,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(""),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useState("warning"),I=Object(n.a)(R,2),D=I[0],A=I[1],B=u.a.useState(""),P=Object(n.a)(B,2),M=P[0],W=P[1],z=function(){W("")},H=u.a.useCallback((function(e){if(i){A("warning"),W(e),setTimeout(z,3e3)}}),[A,W,i]),q=u.a.useCallback((function(){i&&Fa(f,H)}),[H,i]),F=function(e){if(i){A("info"),W(e),Ua(e),setTimeout(z,3e3)}},L=function(){k(!1)},U=function(){O(!1)},V=function(){h(!1)};if(u.a.useEffect((function(){return s(!0),q(),function(){s(!1)}}),[q]),null===p)a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});else if(0===p.length)a=u.a.createElement(te.a,{display:"flex",justifyContent:"center"},u.a.createElement(mn,null,l.noResource));else{var G=[];p.forEach((function(e){var a=[{onClick:function(a){return t=e.id,k(!0),void T(t);var t},icon:Lt.a,label:l.detail},{onClick:function(a){return t=e.id,O(!0),void T(t);var t},icon:qt.a,label:l.delete}];G.push(function(e,a){var t=a.map((function(e,a){return u.a.createElement(Cn,{label:e.label,icon:e.icon,onClick:e.onClick,key:a})}));return[e.id,e.name,e.operating_system,e.created_time,e.modified_time,t]}(e,a))})),a=u.a.createElement(kn,{color:"primary",headers:["ID",l.name,l.os,l.createdTime,l.modifiedTime,l.operates],rows:G})}return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:3,sm:3,md:3},u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){h(!0)}},u.a.createElement(It.a,null),l.createButton)))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:o.cardTitleWhite},l.tableTitle)),u.a.createElement(sn,null,a))),u.a.createElement(fn,{place:"tr",color:D,message:M,open:""!==M,closeNotification:z,close:!0}),u.a.createElement(lr,{lang:t,open:E,onSuccess:function(e){V(),F("new template "+e+" created"),q()},onCancel:V}),u.a.createElement(pr,{lang:t,open:y,templateID:_,onSuccess:function(e){L(),F("template "+e+" modified"),q()},onCancel:L}),u.a.createElement(Jo,{lang:t,open:w,templateID:_,onSuccess:function(e){U(),F("template "+e+" deleted"),q()},onCancel:U}))},layout:"/admin"},{path:"/users",name:"user",display:{cn:"\u7528\u6237\u7ba1\u7406",en:"User Management"},icon:bu.a,component:function(e){var a=e.lang,t=Vs[a];return u.a.createElement(ts,{title:t.title,headerColor:"primary",tabs:[{tabName:t.user,tabIcon:ve.a,tabContent:u.a.createElement(gs,{lang:a})},{tabName:t.group,tabIcon:Ji.a,tabContent:u.a.createElement(Gs,{lang:a})},{tabName:t.role,tabIcon:Yi.a,tabContent:u.a.createElement(Us,{lang:a})}]})},layout:"/admin"},{path:"/logs",name:"log",display:{cn:"\u64cd\u4f5c\u65e5\u5fd7",en:"Operate Logs"},icon:Eu.a,component:function(e){var a=eu(),t=u.a.useState(null),l=Object(n.a)(t,2),o=l[0],r=l[1],c=u.a.useState(new Map),i=Object(n.a)(c,2),s=i[0],m=i[1],d=u.a.useState(!1),p=Object(n.a)(d,2),f=p[0],b=p[1],g=u.a.useState({offset:0,duration:"last-day"}),E=Object(n.a)(g,2),h=E[0],x=E[1],y=u.a.useState({current:0,total:0}),k=Object(n.a)(y,2),C=k[0],S=k[1],w=u.a.useState(!1),O=Object(n.a)(w,2),j=O[0],N=O[1],_=u.a.useState("warning"),T=Object(n.a)(_,2),R=T[0],I=T[1],D=u.a.useState(""),A=Object(n.a)(D,2),B=A[0],P=A[1],M=function(){P("")},W=u.a.useCallback((function(e){I("warning"),P(e),setTimeout(M,3e3)}),[I,P]),z=function(e){var a=function(e){return e<10?"0"+e.toString():e.toString()};return e.getFullYear()+"-"+a(e.getMonth()+1)+"-"+a(e.getDate())+" "+a(e.getHours())+":"+a(e.getMinutes())+":"+a(e.getSeconds())},H=u.a.useCallback((function(){var e=new Date,a=new Date(e);switch(h.duration){case"last-day":a.setDate(e.getDate()-1);break;case"last-month":a.setMonth(e.getMonth()-1);break;case"last-year":a.setFullYear(e.getFullYear()-1);break;default:return void W("invalid duration: "+h.duration)}!function(e,a,t,n,l,o){var r="/logs/?limit="+e;a&&(r+="&start="+a),t&&(r+="&after="+t),n&&(r+="&before="+n),Ga(r,(function(e){var t=0;a&&(t=a),l(Object(v.a)({},e,{offset:t}))}),o)}(10,h.offset,z(a),z(e),(function(e){var a,t,n=e.logs,l=e.total,o=e.offset,c=new Map(s),i=!1;if(n){r(n);var u=[];c.forEach((function(e,a){n.some((function(e){return e.id===a}))||u.push(a)})),n.forEach((function(e){var a=e.id;c.has(a)||(c.set(a,!1),i||(i=!0))})),0!==u.length&&u.forEach((function(e){c.delete(e),i||(i=!0)}))}else r([]),0!==c.size&&(c.clear(),i=!0);(i&&m(new Map(c)),0!==l)&&(a=o<10?0:Math.floor(o/10),t=0===l%10?l/10:Math.ceil(l/10),S({current:a,total:t}))}),(function(e){W(e)}))}),[h,s,W]),q=function(){N(!1)},F=function(e,a){var t=new Map(s);t.set(a,e),m(t)};if(u.a.useEffect((function(){H()}),[H]),null===sa())return ma();var L,U=e.lang,V=au[U];if(o)if(0===o.length)L=u.a.createElement(mn,null,V.noResource);else{var G;G=f?u.a.createElement(te.a,{display:"flex",alignItems:"center"},u.a.createElement(te.a,null,u.a.createElement(We.a,{onChange:function(e){var a=e.target.checked,t=new Map,n=!0,l=!1,o=void 0;try{for(var r,c=s.keys()[Symbol.iterator]();!(n=(r=c.next()).done);n=!0){var i=r.value;t.set(i,a)}}catch(u){l=!0,o=u}finally{try{n||null==c.return||c.return()}finally{if(l)throw o}}m(t)}})),u.a.createElement(te.a,null,V.time)):V.time,L=u.a.createElement(Cr,{color:"primary",headers:[G,V.content],rows:o.map((function(e){var a=e.id;return u.a.createElement(tu,{key:a,log:e,checked:!(!s||!s.has(a))&&s.get(a),checkable:f,onCheckStatusChanged:F})}))})}else L=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});var $=[];f?$.push(u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){N(!0)}},u.a.createElement(qt.a,null),V.batchDelete),u.a.createElement(Ee,{size:"sm",color:"rose",round:!0,onClick:function(){b(!1)}},u.a.createElement(yr.a,null),V.exitBatch)):$.push(u.a.createElement(Ee,{size:"sm",color:"info",round:!0,onClick:function(){var e=new Map,a=!0,t=!1,n=void 0;try{for(var l,o=s.keys()[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var r=l.value;e.set(r,!1)}}catch(c){t=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(t)throw n}}m(e),b(!0)}},u.a.createElement($l.a,null),V.enterBatch));var Z,J=[{label:V.day,value:"last-day"},{label:V.month,value:"last-month"},{label:V.year,value:"last-year"}],Q=u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Ae.a,{component:"fieldset",fullWidth:!0},u.a.createElement(Be.a,{component:"legend"},V.duration),u.a.createElement(Ie.a,{name:"duration",value:h.duration,onChange:function(e){var a=e.target.value;x({offset:0,duration:a}),H()},row:!0},u.a.createElement(te.a,{display:"flex",alignItems:"center"},J.map((function(e,a){return u.a.createElement(te.a,{key:a},u.a.createElement(De.a,{value:e.value,control:u.a.createElement(Re.a,null),label:e.label}))})))))),Y=[];if(s&&(s.forEach((function(e,a){e&&Y.push(a)})),Y.sort()),C.total>1){for(var K=[],X=function(){var e=ee;ee===C.current?K.push(u.a.createElement(ie.a,null,e+1)):K.push(u.a.createElement(oe.a,{href:"#",underline:"none",onClick:function(){return function(e){var a=10*e;x((function(e){return Object(v.a)({},e,{offset:a})}))}(e)}},e+1))},ee=0;ee<C.total;ee++)X();Z=u.a.createElement(te.a,{display:"flex",alignItems:"center",justifyContent:"center"},K.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1,p:0},e)})))}else Z=u.a.createElement("div",null);return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},Q))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{mt:3,mb:3},u.a.createElement(Oe.a,null))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},$.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1},e)})))),u.a.createElement(Ye,{xs:12,sm:12,md:12},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:a.cardTitleWhite},V.tableTitle)),u.a.createElement(sn,null,L,Z))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:R,message:B,open:""!==B,closeNotification:M,close:!0})),u.a.createElement(Ye,null,u.a.createElement(Ks,{lang:U,open:j,targets:j?Y:[],onSuccess:function(e){var a;q(),a=e.toString()+" log(s) deleted",I("info"),P(a),setTimeout(M,3e3),Ua(e.toString()+" log(s) deleted"),H()},onCancel:q})))},layout:"/admin"},{path:"/visibilities",name:"visibility",display:{cn:"\u8d44\u6e90\u53ef\u89c1\u6027",en:"Resource Visibilities"},icon:ro.a,component:function(e){var a,t=e.lang,l=Js[t],o=Zs(),r=u.a.useState(!1),c=Object(n.a)(r,2),i=c[0],s=c[1],m=u.a.useState({instanceVisible:!1,diskImageVisible:!1,mediaImageVisible:!1}),d=Object(n.a)(m,2),p=d[0],f=d[1],b=u.a.useState("warning"),g=Object(n.a)(b,2),E=g[0],h=g[1],x=u.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=function(){C("")},w=u.a.useCallback((function(e){h("warning"),C(e),setTimeout(S,3e3)}),[h,C]),O=u.a.useCallback((function(){Ga("/resource_visibilities/",(function(e){var a={};e.instance_visible&&(a.instanceVisible=!0),e.disk_image_visible&&(a.diskImageVisible=!0),e.media_image_visible&&(a.mediaImageVisible=!0),f(a),s(!0)}),(function(e){w(e)}))}),[w]),j=function(e){return function(a){var t=a.target.checked;f((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}};if(u.a.useEffect((function(){O()}),[O]),null===sa())return ma();a=i?u.a.createElement(Cr,{color:"primary",headers:[l.visibility,l.visibility],rows:[u.a.createElement(Qs,{key:"instance",checked:p.instanceVisible,onChange:j("instanceVisible"),label:l.instance,description:l.instanceDescription,classes:o}),u.a.createElement(Qs,{key:"disk",checked:p.diskImageVisible,onChange:j("diskImageVisible"),label:l.disk,description:l.diskDescription,classes:o}),u.a.createElement(Qs,{key:"media",checked:p.mediaImageVisible,onChange:j("mediaImageVisible"),label:l.media,description:l.mediaDescription,classes:o})]}):u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});var N=[u.a.createElement(Ee,{key:"modify",color:"info",onClick:function(){!function(e,a,t,n,l){var o={};e&&(o.instance_visible=e),a&&(o.disk_image_visible=a),t&&(o.media_image_visible=t),Ya("/resource_visibilities/",o,n,l)}(p.instanceVisible,p.diskImageVisible,p.mediaImageVisible,(function(){var e;e="Visibilities updated",h("info"),C(e),setTimeout(S,3e3),Ua("Visibilities updated")}),w)}},u.a.createElement(Vl.a,null),l.modify)];return u.a.createElement(Xt,null,u.a.createElement(Ye,{xs:12},a),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{display:"flex"},N.map((function(e,a){return u.a.createElement(te.a,{key:a,m:1},e)})))),u.a.createElement(Ye,null,u.a.createElement(fn,{place:"tr",color:E,message:k,open:""!==k,closeNotification:S,close:!0})))},layout:"/admin"}],yu=function(e){var a;return{wrapper:{position:"relative",top:"0",height:"100vh"},mainPanel:Object(v.a)((a={},Object(X.a)(a,e.breakpoints.up("md"),{width:"calc(100% - ".concat(260,"px)")}),Object(X.a)(a,"overflow","auto"),Object(X.a)(a,"position","relative"),Object(X.a)(a,"float","right"),a),y,{maxHeight:"100%",width:"100%",overflowScrolling:"touch"}),content:{marginTop:"70px",padding:"30px 15px",minHeight:"calc(100vh - 123px)"},container:k,map:{marginTop:"70px"}}},ku=t(280),Cu=t.n(ku),Su=t(281),wu=t.n(Su);function Ou(e){var a=e.routes,t=Object(Y.a)(e,["routes"]),n=a[0],l=n.layout+n.path;return u.a.createElement(E.d,null,a.map((function(e,a){return"/admin"===e.layout?u.a.createElement(E.b,{path:e.layout+e.path,render:function(){return u.a.createElement(e.component,t)},key:a}):null})),u.a.createElement(E.b,{path:"/admin/compute_cells/",render:function(){return u.a.createElement(qn,t)}}),u.a.createElement(E.a,{from:"/admin",to:l}))}var ju=Object(h.a)(yu);function Nu(e){var a=e.lang,t=e.setLang,l=Object(Y.a)(e,["lang","setLang"]),o=ju(),r=u.a.createRef(),c=u.a.useState(!1),i=Object(n.a)(c,2),s=i[0],m=i[1],d=function(){m(!s)},p=function(){window.innerWidth>=960&&m(!1)};u.a.useEffect((function(){return navigator.platform.indexOf("Win")>-1&&(nu=new K.a(r.current,{suppressScrollX:!0,suppressScrollY:!1}),document.body.style.overflow="hidden"),window.addEventListener("resize",p),function(){navigator.platform.indexOf("Win")>-1&&nu.destroy(),window.removeEventListener("resize",p)}}),[r]);var f=sa();if(null===f)return ma();var b=f.menu,g=[];return xu.forEach((function(e){b.some((function(a){return a===e.name}))&&g.push(e)})),u.a.createElement("div",{className:o.wrapper},u.a.createElement(_t,Object.assign({routes:g,logoText:"Nano Portal",logo:wu.a,image:Cu.a,handleDrawerToggle:d,open:s,color:"blue",lang:a},l)),u.a.createElement("div",{className:o.mainPanel,ref:r},u.a.createElement(xt,Object.assign({routes:g,handleDrawerToggle:d,lang:a,setLang:t},l)),u.a.createElement("div",{className:o.content},u.a.createElement("div",{className:o.container},u.a.createElement(Ou,{lang:a,routes:g})))))}var _u=t(169),Tu=t.n(_u),Ru=t(168),Iu=t.n(Ru),Du=Tu()((function(){return{background:{backgroundImage:"url("+Iu.a+")",height:"100vh"}}})),Au={cn:{title:"Nano\u7ba1\u7406\u95e8\u6237",user:"\u7528\u6237\u540d",password:"\u5bc6\u7801",login:"\u767b\u5f55"},en:{title:"Nano Web Portal",user:"User",password:"Password",login:"Login"}};function Bu(e){var a,t,l=e.lang,o=e.setLang,r=Au[l],c=Du(),i=u.a.useState({user:"",password:"",nonce:"stub",type:"manager"}),s=Object(n.a)(i,2),m=s[0],d=s[1],p=u.a.useState(""),f=Object(n.a)(p,2),b=f[0],g=f[1],h=u.a.useState(!0),x=Object(n.a)(h,2),y=x[0],k=x[1],C=u.a.useState(!1),S=Object(n.a)(C,2),w=S[0],O=S[1],j=u.a.useState(!1),N=Object(n.a)(j,2),_=N[0],T=N[1],R=u.a.useCallback((function(e){g(e),setTimeout((function(){g("")}),5e3)}),[g]),I=function(e){return function(a){var t=a.target.value;d((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},D=u.a.useCallback((function(e){R(e)}),[R]),A=function(e){!function(e){localStorage.setItem(ca,JSON.stringify(e))}({id:e.session,timeout:e.timeout,menu:e.menu,address:e.address,user:m.user,group:e.group,nonce:m.nonce,type:m.type}),_||(T(!0),Ua("login success"))};if(u.a.useEffect((function(){if(!w){Va((function(e){e.ready||k(!1),O(!0)}),D)}}),[w,D]),w){if(!y)return u.a.createElement(E.a,{to:"/initial"});if(_){var B=new URLSearchParams(window.location.search);return B.has("previous")?u.a.createElement(E.a,{to:decodeURIComponent(B.get("previous"))}):u.a.createElement(E.a,{to:"/admin"})}var P;P=b?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:b,color:"danger"})):u.a.createElement(Ye,{xs:12}),t=u.a.createElement(Ee,{color:"info",onClick:function(){var e,a,t,n;e=m.user,a=m.password,t=A,n=D,Qa("/sessions/",{user:e,password:a,nonce:function(){for(var e="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<16;t++)e+=a.charAt(Math.floor(Math.random()*a.length));return e}()},t,n)}},r.login),a=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:r.user,onChange:I("user"),value:m.user,margin:"normal",required:!0,fullWidth:!0}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:r.password,onChange:I("password"),value:m.password,margin:"normal",type:"password",required:!0,fullWidth:!0}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{alignItems:"center",display:"flex",m:1},t,u.a.createElement(te.a,{flexGrow:1}),u.a.createElement(gt,{lang:l,setLang:o}))),u.a.createElement(Ye,{xs:12},P))}else a=u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}});return u.a.createElement(te.a,{component:"div",className:c.background},u.a.createElement(mi.a,{maxWidth:"lg"},u.a.createElement(Pe.a,{container:!0,justify:"center"},u.a.createElement(Pe.a,{item:!0,xs:10,sm:6,md:4},u.a.createElement(te.a,{mt:20,p:0},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:c.cardTitleWhite},r.title)),u.a.createElement(sn,null,a)))))))}var Pu=Tu()((function(){return Object(v.a)({},Gn,{background:{backgroundImage:"url("+Iu.a+")",height:"100vh"}})})),Mu={cn:{welcome:"\u6b22\u8fce\u4f7f\u7528Nano\u4e91\u5e73\u53f0",description:"\u8bf7\u8bbe\u5b9a\u7ba1\u7406\u5458\u8d26\u53f7\u53ca\u5bc6\u7801\uff0c\u5f00\u59cb\u521d\u59cb\u5316\u7cfb\u7edf",user:"\u9ed8\u8ba4\u7ba1\u7406\u5458\u5e10\u53f7",password:"\u5bc6\u7801",password2:"\u786e\u8ba4\u5bc6\u7801",initial:"\u521d\u59cb\u5316",confirm:"\u786e\u8ba4",success:"\u7cfb\u7edf\u521d\u59cb\u5316\u6210\u529f\uff0c\u70b9\u51fb\u8fdb\u5165\u767b\u5f55\u9875\u9762"},en:{welcome:"Welcome to Nano",description:"Please set up a new admin account",user:"Super Admin Name",password:"Password",password2:"Confirm Password",initial:"Initial System",confirm:"Confirm",success:"System initialed, click to login"}};function Wu(e){var a,t,l,o=0,r=1,c=2,i=3,s=Pu(),m=e.lang,d=e.setLang,p=Mu[m],f=u.a.useState({user:"",password:"",password2:""}),b=Object(n.a)(f,2),g=b[0],h=b[1],x=u.a.useState(""),y=Object(n.a)(x,2),k=y[0],C=y[1],S=u.a.useState(o),w=Object(n.a)(S,2),O=w[0],j=w[1],N=function(e){return function(a){var t=a.target.value;h((function(a){return Object(v.a)({},a,Object(X.a)({},e,t))}))}},_=u.a.useCallback((function(e){C(e),setTimeout((function(){C("")}),5e3)}),[]),T=function(){C(""),j(c)},R=u.a.useCallback((function(){j(i)}),[i]);switch(u.a.useEffect((function(){Va((function(e){e.ready?R():j(r)}),_)}),[r,_,R]),a=k&&""!==k?u.a.createElement(Ye,{xs:12},u.a.createElement(na,{message:k,color:"danger"})):u.a.createElement(Ye,{xs:12}),O){case r:l=u.a.createElement(Ee,{color:"info",onClick:function(){var e=new RegExp("[^\\w-.]");if(g.user)if(e.test(g.user))_("only letter/digit/'-'/'_'/'.' allowed in username");else if(g.password)if(g.password2===g.password){var a=[];ha(m).forEach((function(e){a.push(e.value)})),function(e,a,t,n,l,o,r,c){var i={user:e,password:l,menu:o};a&&(i.group=a),t&&(i.display=t),n&&(i.role=n),Qa("/system/",i,r,c)}(g.user,null,null,null,g.password,a,T,_)}else _("password mismatch");else _("please input password");else _("must specify user name")}},p.initial),t=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{justifyContent:"center",display:"flex"},u.a.createElement(ie.a,{className:s.cardTitle},p.description))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:p.user,onChange:N("user"),value:g.user,margin:"normal",required:!0,fullWidth:!0}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:p.password,onChange:N("password"),value:g.password,margin:"normal",type:"password",required:!0,fullWidth:!0}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{m:0,pt:2},u.a.createElement(Te.a,{label:p.password2,onChange:N("password2"),value:g.password2,margin:"normal",type:"password",required:!0,fullWidth:!0}))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{alignItems:"center",display:"flex",m:1},l,u.a.createElement(te.a,{flexGrow:1}),u.a.createElement(gt,{lang:m,setLang:d}))),u.a.createElement(Ye,{xs:12},a));break;case c:l=u.a.createElement(Ee,{color:"info",onClick:function(){R()}},p.confirm),t=u.a.createElement(Pe.a,{container:!0},u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{justifyContent:"center",display:"flex"},u.a.createElement(ie.a,{variant:"body1",component:"span",className:s.cardTitle},p.success))),u.a.createElement(Ye,{xs:12},u.a.createElement(te.a,{justifyContent:"center",display:"flex"},l)));break;case i:return u.a.createElement(E.a,{to:"/login"});default:t=u.a.createElement("div",null,u.a.createElement(Tt.a,{variant:"rect",style:{height:"10rem"}}),a)}return u.a.createElement(te.a,{component:"div",className:s.background},u.a.createElement(mi.a,{maxWidth:"lg"},u.a.createElement(Pe.a,{container:!0,justify:"center"},u.a.createElement(Pe.a,{item:!0,xs:12,sm:8,md:4},u.a.createElement(te.a,{mt:20,p:0},u.a.createElement(tn,null,u.a.createElement(on,{color:"primary"},u.a.createElement("h4",{className:s.cardTitleWhite},p.welcome)),u.a.createElement(sn,null,t)))))))}t(469);var zu=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(r.a)(this,Object(c.a)(a).call(this,e))).state={hasError:!1,error:null,errorStack:null},t}return Object(i.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){return this.state.hasError?u.a.createElement(Q,null,this.state.error):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e.message,errorStack:e.stack}}}]),a}(u.a.Component),Hu=Object(g.a)(),qu=f()({palette:{primary:{light:S[1],main:S[0]},secondary:{light:N[1],main:N[0]},error:{light:O[1],main:O[0]}}});d.a.render(u.a.createElement((function(e){var a=u.a.useState(function(){var e=localStorage.getItem(ia);if(!e||0===e.length)return"cn";var a=JSON.parse(e);return a.lang?a.lang:"cn"}()),t=Object(n.a)(a,2),l=t[0],o=t[1];return u.a.createElement(b.a,{theme:qu},u.a.createElement(zu,null,u.a.createElement(E.c,{history:Hu},u.a.createElement(E.d,null,u.a.createElement(E.b,{path:"/admin",render:function(e){return u.a.createElement(Nu,{lang:l,setLang:o})}}),u.a.createElement(E.b,{path:"/login",render:function(e){return u.a.createElement(Bu,{lang:l,setLang:o})}}),u.a.createElement(E.b,{path:"/initial",render:function(e){return u.a.createElement(Wu,{lang:l,setLang:o})}}),u.a.createElement(E.a,{from:"/",to:"/login"})))))}),null),document.getElementById("root"))}},[[307,1,2]]]);
//# sourceMappingURL=main.3b6cadc5.chunk.js.map